Transcription & Summarize : とりあえず読書会 SwiftUI Tutorials #19-1

はい、ではとりあえず紹介を始めていきましょう。 今日もね、そういう人をいわゆるチュートリアルを読んでいきますけど、 読んでいくと言うか、前回のエディットボーダー、あの辺りを見ていて、 やっぱりなんか感覚が違うなというところがあるのと、 あとそういった行動をね、なんて言うんですか、見たことがなかったというか、 一回このチュートリアルやったはずなんですけどね、記憶にいなかったのもあり、うん。 あの感覚に慣れておく必要がありそうなのと、あともうちょっとね、 なんか別のやり方があるんじゃないかなというのがやっぱり気になるので、 あの辺りをね、今日は見ていこうかなと思います。 どうなるかね、わかんないですけど、とりあえずね、 えーと、なので、ラストのエクスコートの方から入りますけど、 要は、プロファイル、えーと、ホストか、ここで、 エディターを出すか、プロファイルホストを出すかっていうね、 といったところになりますけど、えーと、それが、このビューがないな、えーと、 エディター、えーと、それだ、エディターの中の表示するのがビューだろうな、えーと、 ナビゲーションかな、ナビゲーション、えーと、 ちょっとね、環境変えた都合で余計なビューが邪魔をしているので、 それをまず消したいなと思うんですけど、 レイアウトかな、レイアウトの中で違った、 マイトボタン、えーと、ミニマップ、これだ、ミニマップね、ここにあるやつ、 はい、じゃあちょっとね、改めて見ていきますけど、 要は、このエディットモードあたりですよね、 この辺りが、なんか不思議な感じ、どこが不思議かっていうと、 要は、えーと、ここですね、プロファイルエディターが表示された時に、 このエディティングプロファイルを、いどんなにね、設定して、 ディスアピアの時に、モデルデータに書き戻すよっていうコード、 ま、これで悪くないんでしょうけどね、 なんかこの辺りがね、この、なんていうんですか、これ、 えーと、オンアピアとディスアピアで、この、反映するしないっていうの、 これを制御するっていうのが、なんとなく不思議なんですよね、 ま、だんだん見慣れてきた気がするんで、 まあ、こういうものなんだろうな、と捉えればね、いいんですけど、 で、さらにね、もう一個気になるところとして、 えーと、これ、エディティングプロファイルを書き戻す、その前ですよね、 その前に、キャンセルボタン、だからエディットボタンがあって、 エディットボタンとか、エディットボタンがあって、 それで、エディットモード、エディートボタンを押すことによって、 この画面の、エディットモードが、アクティビューだったりね、 インアクティブだったりに切り替わる、 それを、切り替わったタイミングで、大描画が走るのを活かして、 エディットモードがアクティブだった時に、 キャンセルボタンを用意しておいて、 このキャンセルボタンが押されたとき、 そのときに、キャンセルだったら、エディティングプロファイルを、 必要なものに戻してあげるよ、というね、こういった行動を書く。 で、これによって、まあ、 で、その後は、エディットモードを、 インアクティブにする、という方法を取ることによって、 そのキャンセルを実現している、 エディットプロファイル、エディティングプロファイルを、 元に戻した上で、 ディスアピアで、プロファイルに、 その、元に戻されたやつを書き直す。 だから、プレゼントプロファイルを、読んで、セットして、 で、また、それを書くというね、 なんか無意味な行動をしているなど、 まあ、これぐらいの分だったら、まあ、無意味でもいいのかもしれないですけどね。 どなたかがね、気になるね。 これを、ちょっと、何かにならないのかな、というのが、気になる。 まあ、そもそもここでね、エディットボタン、 即時に、エディットボタンなんか作らないで、 ただ、エディットボタンを作らないで、 即時に、まあ、ボタンをね、配置して、 で、そこのボタンが押された時に、 その変更内容をね、書き出すっていう風に書いちゃえば、 まあ、基本的にはそれで、話は早いのかなという気がするんですよ。 なので、えーと、例えば、 うん、そうですね、ボタン、 ので、これで、えーと、モデルデータですね。 エンバイロメントじゃないや。 えーと、モデルデータ、モデルデータの、えーと、プロファイル? いや、いいでしょ。 えーと、モデルデータのプロファイルはですね、 プロファイルに、えーと、エディッティング、プロファイル、 ね、こういう風に書いてあげる。 で、ボタンの書き方はどうか、 ボタンは、えーと、ボタンは、 アタタラベルカ。 だから、これで、ボタンで、 RUBミットにしましょうか? えーと、RUBミットで、 Roleは、何だろうかって、 アンセル、クローズ、コンファームありますね。 うん。 っていう風にして、で、これで、 えーと、あれ、コンファームは、 アベラブル。 iOS26。 あー、そう。 他、iOS26。 うん。 まあ、いいですけど、 iOS26水分のバージョンを求められますね。 だから、クローズになるのかな。 では、一回、コンファームで、 影響を見てみますね。 iOS26以上。 え、ボタンロールってどこで取れるんですかね。 まあ、わかんないや。 えーと、ちょっと調べてみますか。 えーと、SwiftUIで、あれ、えーと、 SwiftUIで、ボタンで、ロールね。 これの使い道は、どうなんだろう。 ロール特性、ボタンの新しい特性。 えーと、どうだ? えーと、これで、 ロールを指定したときの、ボタンの色が変わってきますね。 これで、ロールテキストで、ボタンのアクションを定義するわけだからね。 まあまあ、それは、それとして、見た目というか、そのボタンの意味が分かれるぐらいで、 認識すれば、きっといいんでしょうね。 きっとね。 で、コンファームがないということにすると、 それから、OS変えちゃいましょうか。 ちょっと、エミュレーターで、iOS18。 えーと、これは、iOS26入ってますよね。 あ、でしたか。 プロジェクトの設定か。 プロジェクトの設定で、これで、デプロイメント立てたね。 これは、iOS26ぐらいにしてあげれば、よいと。 どうなんだろう。ビルドちゃんと通るかな。 まあまあ、やってみましょう。 コツとしては、ストリングインターポレーション。 これは、私の資産じゃなくて、ストリングインターポレーションを使いましょうと。 デプリケートなんだ。面白いね。 フィリスト、プロファイル、オールデート。 これを、インターポレーションで、開いてあげましょうと。 えーと、どこだっけ。ここですよね。はい。すごいね。 スタイルデートが、これを使いたかったってことか。 スタイルデート。なるほど。 そうした場合って、どうするんでしょうね。 ここで何かスタイル指定できるのかな。 インターポレーションで、ちょっと試してみますね。 スタイル、こんなすごいことないか。 すごいかどうかはね、聞かれてるか次第なんで。 スタイル、このとこに指定できても、どうしようもないのかな。 スタイル、例えば、押してあげたときに、エラーが出てきたけど、このエラーは、スタイルを取れば、えーと、そうか。 ここで、どうだ。まあ、こんなのあるかどうかは、わかんないですけどね。 スタイル、デート。で、テキストを切ってあげる。 あ、やっぱありましたよね。なんとなく想像ですけど。 はい、まあ、こんな感じでしょう、きっと。 これでOKで、これをコンパイルさせてあげると、フィルドが通りますね。 フィルドが通ったけど、まだやりたいことができてるわけではないので、ちょっと見ますが、えーとですね。 この上で、これはプロファイルサーモリーか、じゃないですね。みたいなね。 ここで、ボタンを用意してあげて、で、えーと、Confirmね。 クローズとかでもね、いいと思うんですけど、iOS26じゃないのでね。 とにかく、こうやってモデル、モデルというか、Confirmってあげて、その上でエディットモード、インアクティブ。 エディットモードがいらないわけですね。これをやってる場合ね。 例えば、エディットモードというものが全部いらないですね。 まずね、これは推奨されない、あまり良くなさそうだったやつですが、とにかくエディットモード、これね。 これを要約して、その上でエディットモードによる条件判定。 エディットモードがないと、自分で管理しないといけないんだ。 エディッティング状態かね。あとは、まあまあ、エディットモード、エンバイオメント。 ここで使うものでもないからね。 プライベート側、isEditing、最初は、プラスですよね、みたいな感じです。 用意してあげて、何かしますか。 そして上で、キャンセルボタンの表示は、この条件ではなくて、isEditing、エディッティング、エディッティング。 こうやって、エディッティングモードにして、キャンセルなりなりで、isEditingを、フォルス。 こういう風に変えてあげて、それでここも、サブミットも、isEditing、フォルス。 という風にしてあげて、それで、あそこは、isEditingでサブミットを用意したけど、これもサブミットと分けないといけないんだ。 だから、ifisHの方がいいかな。 switch isEditingで、ケース、ブルーだったら、サブミットですよね。 そうでなければ、ケース、フォルスだったら、ボタンとして、エディット。 これで、ロールとして、ロールいらないのかな、これは。 普通のボタンとして、これで、isEditingをブルーに変える。 ケース、スイッチ、ステートメントが、 エースラベルオンリア、ピアインサイド、スイッチ。 これで、この過去がないんだね。 こうやってあげて、それで、スイッチのこのモードがないわけで、これも同様に、 ミドゥエディティング、だから、ウェットシット共通だから、 一緒にやっちゃえばよかった感じですかね。 そうね、isEditingで、ここに、ボタンサブミットと一緒に、 これは違う、エディットボタンと一緒に、プロファイルサマリンを置いてあげて、 それで、エディティングのときは、サブミットと一緒に、 ピリッタを置いてあげて、それで、この辺がこっそりといらなくなって、 さらに、予期しない状況というものもいらなくなって、 それによって、どこか、できた感じになるんですかね。 それで、ちょっと動かしてみますか。 動かすといっても、こっちのシミュレーターで、 プロファイルを動かすとじゃなくて、上の方からしましょうか。 コンテントビュー、コンテントビューね。 このウェビューから見ていく感じにしましょう。 なんか、エディットモードは、大機能すぎて、 リストとかを書き換えるための機能として、組み込みのエディット状態制御。 それによって、するためには、役に立ちそうなんですけど、 そうじゃないときには、ドットばかり、難しいコードが難しくなりがちな感じがして、 あんまり、どうなんだろうね。 エディットが終わったときをキャッチできればいいんですけど、 キャッチできるのかな。 あるいは、キャッチできる可能性を感じる。 わかんないけど、感ですけどね。 とりあえず、ウェビュー出たので、これを停止といって、 あとでね、つかんでね。 とにかくボタンを押して、この状態になって、 エディットが2つ出ている。 エディットが2つ出ている。 下の辺のとこに出ているのは、置き場所の問題か。 そんなことだけ。 えーと、Hスタックでボタンがあって、 その後は、あ、そっか。 Hスタックの中に入れたからか。 あとは、スペースでエディットボタンで、 このHスタックの外にね、配置してたのね。 なので、あとエディットボタンが残ってる。 これだ。これが邪魔なんだ。 で、これで、人のね、ものと別の作ったボタン。 あー、Hスタックのスペースは、 あとから横に詰めたかったのね。 なるほどね。うん。 そうすると、ウィッチ分はここではなくて、 Hスタックの外にして、 あー、やっぱりちょっと、大した話じゃないんですけど。 うん。ちょっとばかし、うるさいことになっちゃうかな。 まとめすぎるとね。うん。 スルーだったときには、Hスタックでスペーサーの後に、 えーと、サブミットボタンをね、 配置した上で、このHスタックを終わらせて、 プロファイルエディターですね。 デフォルスのときには、同じくHスタックでね、 これをボタンを、えーと、配置するために、 ここでスペーサー、スペーサーを用意して、 えーと、この上で、Hスタックを終わらせて、 プロファイルサマーに、こんな感じですね。 うん。 そうすると、機械通りの画面になってくれるのかな。 おそらく、こうね、エディットボタンを押すと、 キャンセルとサブミットがね、出るようになってきて、 で、えーと、あー、キャンセル、 これ、Hスタックの中に入れるのかな。 だから、このボタンのキャンセルも、 同様に入れておきますね。うん。 この辺、消しても、もったいないか。 もったいないというか、後でまた戻ってくる可能性が、 これで、ボタン、サブミットと一緒に、 キャンセルを置いておけば、まあいいって話ですね。 要はね、こういう感じね。 で、こうしてあげて、見ると、エディット、 エディットボタンを押すと、編集モードになって、 サブミットとね、キャンセルがあるという、 そういった状態になって、 例えば、シートになることを、ウィングにね、 書いてあげた上で、サブミットを押すと、 これで、スクリーンになりましたよね。 で、同じようにエディットを押して、 今度、サマーにね、書いてあげて、 で、この時、キャンセルを押すと、 スクリーンが回るというね、 こういうボックスパッカーが回ってきますよね。 いつエディティングというプロパティを、 えっととして、自分で作っておいて、 エディットモードには頼らずに、 普通にね、サブミットボタンを押したなら、 編集中のデータを反映させる。 そうでなければ、現在情報、 いや、お聞かれ必要ないね、これはね。 えーと、うん、お聞かれ必要ない。 こういうことですね。 で、あとは、エディティングプロファイルが、 今のままだと、表示されるときに、 どうなるだろう。 エディティングプロファイルの、 プロファイルエディターに対して、 エディティングプロファイルの、 バインドを渡してあげる、ということを踏まえると、 これは、まだダメですね。 えーと、編集したときに、 だから一回やってみるだけのか。 これで、エディットを押して、 あれ、でも反映されてたな。 あ、いいのか。 編集して書き換わったやつを、 キャンセルすると、 あ、キャンセルしたときか、問題はね。 これ、えーと、ウィンターだったのを、 サマーに変えてあげて、 キャンセルを押すと、ウィンターですけど、 これでエディットを押すと、サマーのままなんですよね。 だから、これを直さないといけないわけで、 どうすると、キャンセル、どこだろうね。 どこでやるのかな。 プロファイル、つまり、 プロファイルエディターにバインドするとき、 この状態で渡したい気がするんですけどね。 うん。 ここででも、いいのをね、えーと、 乗加するってわけにはいかないですよね。 もうね、オンアピアのときにやる手ではありますね。 結局、オンアピアに帰ってきちゃいますけど、 オンアピアのときに、ここで、えーと、 バインディングが、どうなんでしょうね。 これね、エディティングプロファイルに、 えーと、パレントじゃない、プレゼント。 プレゼント、プレゼントプロファイル、 っていう風にしてあげると、 これだとね、ちゃんとキャンセル後に、 また、現在情報を取ってくれるんで、 ウィンターをサマーに変えて、 で、一旦キャンセルしたときに、 もう一回エディットを押すと、 ウィンターからね、始まりますよね。 うん。 これでいいのかな。 オンアピア表示するタイミングで、エディティングプロファイルを更新するよ。 で、バインディングされてる情報が分かってるよ。 うん。 まあ、これでいい気もしますがね。 あとはもう一個として考えられる状況は、 どうだな、モデル、そうね、特にはないか。 ただキャンセルしたときにね、モデルデータを依存のものに置き換えるっていうね、 そういったものですよね。 モデルデータじゃないや。 エディティングプロファイルをプレゼントプロファイルっていうのに置き換えることによって、 オンアピアなどはいらないですよね。 こういった方法とあって、どっちがいいんだろうな。 キャンセルのときに現在情報にエディティングを変えるって言ってもね、 エディティングって編集のときに必要な情報だから、 これはなるべく編集直前に変えたい気がするんです 例えば、オンチェンジ、オンサブミットってありますね。 オンサブミットってなんだ? サブミットバリュー、すごく興味深いですね。 オンサブミットOS26からかな? そうだと嬉しい、嬉しいというか、あ、違うな、関係ないな。 オンサブミット、サブミット、これ呼ばれるかな? 鉄砲で言うのもなんですが、オンサブミット、プリントって例えば、 えーと、なんでもいいや。で、ビューが終わったと書いてあった? 違うかな?えーと、クローディア、オンサブミットは何に置いてあるんでしたっけ? オンサブミット、トリガー、サブミット、トリガーって書いてあるのか? とか、ちょっとイメージと違った、サブトリじゃないや、別のを探してみましょう オン、レシーブ、ディスアピアート、オープンド、キープレス、タップ、タップペンシル、 ビューメトリー、ドア、コンティニュアスフォア、レファレンスチェンジ、マップカメラ、 ペンシル、ロングセンサーなどいろいろありますが、 特にエディット関係はないのか、なさそうかな、どこ見てたんだ今、 スイッチに対して教えたVスタックとかVストリーか、ここでちょっと見てみました オンで、アピアはサブミットとか、さっきみたいなのが並んでますがね、 ドロップとかキープレスとか、さっきより細かいかな、クロールとか、レシーブ、チェンジ、 チェンジはまあ使えるかなという気がするけれど、チェンジか、チェンジでもいいですね、チェンジで でもまあどうだろうな、あとジオメトリーとか、いろいろ スクロールとかでもあるくらいか、なるほど、そうすると、どこにはなさそうかな、 あとは考えられるものとしてはボタンと、エディットボタンを メタとしてあるかな、どっかに、エディットボタンは 見失ったかな、消したかもしれないですね、エディットボタン、 どこでもいいや、どっかに置きましょう、例えばエディットだからこっちでいいか、 例えばエディットボタン、この方が何か持ってたりするのかな、 ちょっと見てみますね、でもイニシャライザー、ビフォルトイニシャライザーしか なかったですね、あとはボディーがあって、あれだけか、うん、 なるほど、やっぱりなんか、上手く両方エディットボタンを活用してやろうとすると、 特風がいろいろしているようになってきそうな感じがしますね、そうすると、 今回のようなコードの場合は、ディフォルトエディッティングをね、フラグで持っておいて、 で、それをね、上手くマネージしていくっていうのが、なんかいいのかな、 っていう、ちょっとね、そんな気がした、うん、あとはそうね、 あれんと、プレゼントプロファイルがモデルデータからだけか、 モデルデータからだけ取っていて、で、どうか、まあこれはこれでいいね、 うんと、ステート、バインディング、そうね、あれはいいな、そうすると、やっぱりこれは、 ディフォルトエディッティングがスッキリするかなという気はするんですけど、 このエディットモードをね、もうちょっとちゃんと考えたい気がするんですよね、 ここがすごい楽でいいんですよね、このほかね、まだ一個だけね、このディフォルトプロファイルはエディティングプロファイルに入れちゃってる、 ここが相変わらずデバイに続いて気になってるんですけど、 何も意味のない値を入れるっていうのがなんか自分は苦手で、この後、結局プレゼントプロファイルに置き換えることになるんでね、 そうすると、プレゼントプロファイルというものが、えーと、なんだ、 プレゼントプロファイルというものが最初からね、入っていて欲しいなというね、そういった感じですよね、 ただ、これを強制アラップのオプショナルにしてしまうと、バインディングができなくなるというね、 まあ、かんぱりとできますけど、そういった問題もあるのを考えると、このステップはなんか情報をディフォルトに入れておくようなものなのかなというのは感じなくはない。 あとは、エンバイロメントから取るんじゃなくて、プロファイルコスト自体が情報をもらうっていうのもありますよね。 エンバイロメントにする必要性っていうのは反映したいからなのかなっていう気がするんですけど、 その可能性は感じるんですが、ただし、ただしというか、そこまでやらないで、プロファイルコスト自体がバインディングをもらうって言っても、あるのかな、ちょっとやってみましょうか。 モデルデータ、要はプロファイルコストを表示する時点でプロファイルをもらっているじゃないですか、だからこの中に渡してあげればいいんじゃない、とやってみましょう。 バインディング、バー、プロファイル、で、プロファイルコストがプロファイルを取るよっていうね、こういった風にしてあげると、イニシャライザーでプロファイルを取るのか。 このプロファイルを、セルフのプロファイルに対して、アピーディングか、バインディング、バインディング、プロファイルね。 こういう風にしてあげて、それでプロファイルはそのままプロファイルですよね。 プロファイルはそのままでしょ。そうすると、やっぱり省略して、そのまま入れる感じにして、エンディング プロファイルに対して、プロファイルのね、トラップバリュー。 そういうのを入れてあげる。練習状のデータはね、もらったデータで良いという事になるんで。そうするとこのプロファイルは初期化風潮になるじゃない。 そうすると、いらないデータというのを入れずにするんだよね。こういったメリットが出てきて、エンベローメントがいらないでしょ。 そうした上で、プレゼントプロファイルも、これプレゼントプロファイルにしようかな。何のプロファイルかが分かりにくくなってきたんでね。 プレゼントプロファイル、現在のプロファイルと編集中のプロファイルね。こういう風にしちゃえば良いですよね。 そうすると、計算がやっぱりいらなくなって、エディットモード、一回消しちゃいますか。この辺はOKなのね。 これで、例えばこうやって、編集中だった場合には、エディットプロファイルキャンセルが、ここはこれで良いですかね。 サブミットだった時には、プレゼントプロファイル、プレゼントプロファイルのラプトバリュー、これそのままで良いのか。 編集中のデータをサブミットだったら、書き戻してあげれば良いですよね。エディットが無いな。 これで、無理が良いだったら表示するだけはプレゼントプロファイルを表示すれば良いですよね。 こんな風にしてあげると、こっちも良いかな。とりあえずね。こんな風にしてあげると、これであとはここか。 エディットのデフォルトとかモデルデータとか、モデルデータのデフォルトプロファイルっていう風にして、ここにプロファイルとしてバインディングしたプロファイルを渡してあげると、エンバイロメントが要らないよと。 こんな風に書いてあげると、あとは呼び出し元、直してないので、プロファイルホストの呼び出し元、ここかな。 ここで、プロファイルホストのプロファイルとする必要があるかは今迷ってるんですけど、普通プレゼントですよね。 だからOK。プレゼントって現在のプロファイル。 あらかじめ情報を持っておいて、デフォルトのプロファイルをモデルデータの中に入れておくって言ってもいいかと思いますね。 そうすると、デフォルトで何かしらの値がデフォルトで与えられているのか、ユーザーによって何と指定したのかがわからないという問題が出てくるので、そこを知りたいんだったらオプショナルにするか、別のフラグを用意するか、みたいなことをしないといけないけど、そこを知る必要がないみたいな場合にはオプショナルじゃなくて、最初からデフォルトを入れておくって言う手がありますよね。 これでいいのかな。ここにモデルデータのプロファイルですね。ここにデフォルトを最初から入れておくのが良いか。 このアプリ自体だったらいらないと思うんですけど、一般的に考えたときにね、何かいるんじゃないかなという気がするので、それでなるべく突破したい気がするんですけど、どうしようかなと、オプショナルをバインドするとなるとね、バインディングを、ここでバインディングを自分で作っちゃう手もありますよね、とりあえずね。 自分で作るのもそうなんですけど、プレゼント、プロファイル、それをここで作るか、ここで作るか、モデルデータがそこまで面倒を見るっていうのはあまりよろしくない気がするんですよね。 そんな気がするので、この場合はここで数字詰まわせるっていうのが良いんですかね。プロファイルフォースに渡すときにバインディング。 バインディングのイニシャライザーが微妙に好きじゃないんですけど、好き嫌いって言ってる場合じゃないような気もするんですけどね。 何かGETとSETでしょ。これGETとイニシャライザーを見ときますが、いかなかった。GETとSETでいいんですけど、いろいろありますけど、まあいいか。 バインディングで、それでこの中でパラメーターGETの時にはどうするっていうのをクロージャーで指定。クロージャーで指定するんだったら書けなくなるのかな。 超約計をここでオフして、SETをすれば書けるのか。書けない。わからない。ちょっと書いてみましょう。 GETの場合はやりたいこととしては要は、元1として、パレント、パレントじゃないや、モデルデータのプロファイルね。 これか、もしくはモデルデータのデフォルトプロファイル。SETの時にはモデルデータのプロファイルに対して、これなら書けた。 でもインデッドが微妙なの結局のところ。GETは表に現れないのに、SETがエラベルが出てくるっていうのも何か違和感ありますね。 公文の問題なんで、でもマシかな。○○がいっぱいつくよりはマシかな。でもこのインデッドなら大丈夫だな。 これで○○で始めて、GET、GETとして、ここでクロージャーになってくるのか。 でもこうかな。SETに対して、こんな感じ。 ああ、曲がれた。 ここもSETで、あれ、邪魔じゃないか。なんかおかしくなってきた。○○○○○、こんな感じですね。 どっちがいいかな。なんか決まってなくなってきませんね。バインディングがね。 まあ中に入れないで外で定義すればいいんだと思うんですけど、やっぱり、こうするとプロファイルのデータが、プロファイルホストにバインディングしたものを書き戻すよっていうコードになって、プロファイルホストの中身を見ると、ちゃんとバインディングが成立していて、エディティングプロファイルの内容を、ちゃんとバインディングしたものを書き換えてあげるか。 サブミットのときはね、そうじゃないときは、プレゼントプロファイルをエディティングプロファイルに書き起きはするけど、まあこれは何でもいいというところで、この下準備はやっぱりプロファイルエディターのオンアピアでもいいのか、これか、この辺でもいいですね。 BitEditingだったときのHStack、まあ一緒か、周りとしても一緒だ。プロファイルエディター、これが表示されるときに、セットするのがよく見えてきましたね、なんかね、オンアピア、このタイミングでエディティングプロファイルを更新してあげるというのが一番無駄がなさそうですね。 表示前にプレゼントプロファイルをエディティングプロファイルに設定した上で、編集モードが上がって、編集はここじゃないと、BitEditingだったら、ああそうだいいんだ、ボタンが押されたときにはエディティングがフォルスになる。サブミットのときに限ってはエディティングプロファイルをプレゼントプロファイルに反映してあげるというね、こんな感じで。 エディティングプロファイルをプレゼントプロファイルにすることによって、編集モードに入れるという状況を作っておきつつ、プロファイルを表示しておくと。これで動くんじゃないのかな、どうだろう、やってみましょう。これがスノー、スノーというかウィンターになっているのを、これをサマーに変えて、サブミットを押すとサマーになりましたね。エディティングプロファイルをサマーから始まって、これをオートムに変えて、キャンセルを押すとサマーのままですね。もう一回デッキを押したときにはサマーから始まるよと、できてますね。 オーソドックスじゃないかな、ちょっとばかしややこしいことになってましたけど、呼び出しのところね。ただ、こうすることによって、あくまでもプロファイルホストの中では、このプロファイルを書き込みが可能な状態のバインディング状態でもらっておいて、それで編集モードが終わったときにあそこに自由に落ちて書き込むということが表現できたと。こんな感じでとりあえず行き出しますね。こんな感じでたったら自然な感じに見えるんですけど、いったいこの先、エディットモードをちゃんと使わないといけないという状況が出てくるんじゃないかなと思うんで、エディットモードを有効化して、エディットモードを有効化したと 例えばこれでエディティングプロファイルじゃないや、エディティングモードですね。エディティングモードがどうやら、いずれエディティングが今いらなくなった代わりに、いずれエディティングを使って、ルールで判定できれば十分なんでね、今回ね。 Switchのエディットモードって、これがケース、何とさむか分かりにくいな、アクティブ、アクティブ、アクティブ、あれちゃったっけ、エディットモードはエディットモード方ですよね。 エディットモード方は、バインディングがオプショナルっていうことがあるのか、バインディングがオプショナルかというのを前の話に戻ってやろうと思っているんですけど、バインディングは要は、プロファイルが設定されていなかったときに、エディットモードをオプショナルでバインディングすればいいかと思ったけど、それだと使えないのでダメでした。 今回知りたいのはエディットモードの インアクティブとトランシエントとアクティブ。 エディットモードがアクティブだったら、インアクティブだったらフォルスですよね。 あとは、ケースにいるだったらフォルスですかね。 エディットモードのバインディングだからラプトバリューですね。 オプショナルで、これでラプトバリューだっけ? エディットモードにインアクティブが入っている場合になっている? それ以外の場合、インアクティブ以外だったらエディットモードになるんだ。 なるほど。他にもいい方法があるのかな? いずれエディッティングがあるということを知ったら、恐らくごめんですが。 これでエディットモードのラプトバリューのイズエディッティングまたはフォルスとやれば、イズエディッティングができましたね。 ちょっとカットした感じで。 そしてこれで、イズエディッティングに書き込むということをしたいから、Getterと一緒にセッターが欲しいですね。 セッターとして、エディットモードのラプトバリューとして、インアクティブですね。 Fにしてあげれば読み書きができるようになると。 ここまでは良くて、セルフが拡張されてない、ミュータブルか。 この場合はいずれエディッティングだけど、このエディットモードはミュータブルではない構造体でも書き込める状態のバイオメント、バインティングになっているので、ノンミューティングでいいですね。 ノンミューティングセット。そうすると、イズエディッティングを通して、制御が簡単にできるようになってくる。 このプロファイルポストにとっては、全画期化でエディットモードを制御すればいい話なんで、これで良いですね。 そして、サブミットがあって、コンファームがオフ、これでもいいや。 押してあげると、エディットモードがオフの時だけ使わせてもらって、あとはサブミットは独自のボタン機能によってプロファイルを追加するということができるようになると。 この時はエディットモードで動いてるはずで、この時に例えば、エネブルノーティフィケーションをオフにしてね。 サブミットを押すと、ノーティフィケーションがオフになりましたね。 エディットを押して、またサマーに変えてみて、これでもう一回サブミットするかな。 サマーになりましたね。これでエディットを押して、このサマーをリングに変えつつ、キャンセルを押すと、サマーのままで、エディットを押してもサマーから始まるよというのがまず1個できたと。 これを押してあげると、スマートというか、エディットモードを活かしつつそれを制御しつつ、ちゃんとね、明瞭なコードで書けたよという風に言えるのかなという気がするんですけど。 でももう1個ね、これでいいのかなって思うんですけど、エディットボタン。 これがね、エディッティングモードの時、この時にエディットボタンを用意してあげると、これでも、はいまたこれ、動くわけじゃないですか。 押して、エディットでここをね、ダウンに変わって、本来このボタンを使わせるのがエディットモードとしてはね、なんか、本来の作り方じゃないかと思うんですけど、 今は反映するコードが用意されてないんで、これでね、スプリングに変えてダウンを押しても、プリンタのまま。 これをなんとかしないといけないよっていう状況になっていて、これをどう解決するかっていうと、 まあ1つの方法は、やっぱりディスアピアの時、このファイルエディターが終了した時に、キャンセル。 あ、いいのか。またキャンセルボタンか。またキャンセルボタンで。 キャンセルボタンを押した時には、そこはやっぱり、ちょっとリアルなコードっぽくなってきますよね。 エディティングプロファイルをプレゼントプロファイルに書き直した上で、それでね、オンディスアピアだった場合には、 オンディスアピアの状態で、エディティングプロファイルをモデルに書き換えてあげる。 今回はプレゼントプロファイルに書き換えてあげるですね。 プレゼントプロファイルに書き換えてあげる。 こうすると、オンキャンセルでプレゼントプロファイルをエディティングプロファイルに書いておいて、要は変更をリセットした上で、 それをちゃんと知っている前提で、リセットされたエディティングプロファイルを、 現代のプロファイルに書き戻すというコード。ここが気持ち悪いんですよ、個人的に。 まあいいんですけど、ちゃんと書けてるんでね、問題は何もないんですけど。 そうするとここで、ステータスをロパティで戻せるとか、って言われてるんですかね。 あとは、アクティブのほかに何かいいステータスがあるのかな、エディットモード。 インアクティブとアクティブと、あとはこれですよね、テンポラリーエディットモード。 テンポラリーエディットモードは何を意味するのか知らないんですけど、 でも書いてあるのか。 一時的なやつ、ちゃんと訳せなくて悪いところ。 プラットフォームやコントロールによって異なってきて、 スワイプジェスチャーの実行時に一時的なエディットモードが有効になる場合があるか。 これは勝手に使うものではないようですね。 そうするとやっぱり別のステータスが必要になってくるのかな、って言うね。 こんな感じになってきて。 例えば、そうだな。 エンディングプロファイルみたいなね。 例えば、ステータスプライベート。 あっ、エンディングじゃダメか。 エンディングに入れないといけないからね。 エンディングに入れないといけないからね。 エディット、イズ、エディット、エディッティング、 キャンセル、キャンセル、みたいなのを持っておく。 これ気持ち悪いね、なんかね。 キャンセルされた時のトリューにするよ、みたいなことをね、 使用過度と膨らんでるわけですけど。 これだと微妙ですね。 これだったらね、ちょっとリアルの通りに、 ディスアピアとディスアピアをタイミングとして持ってあげて、 で、その上で、 書き込みをね、適用する。 あ、でも一個ちょっと思いついたの。 このディス、キャンセルとか抜きにして、 エディングプロファイルをオプショナルにするとやりますね、ちょっとね。 こうしてあげると、 書き換えのタイミングの時はヌルでよくて、 バインディングしないといけないんだ。 オプショナルね。 エディングプロファイルとエンディングプロファイルみたいな感じで、 フライングプロファイルみたいな感じで持たせておいて、 バインディングをそのまま入れておいて、 やるのかな、ちょっとだけやってみますけど、 例えばアプライティングプロファイル、 そしてバインディングでね、持たせてあげる。 だから、うーんと、 正確に言うのと言うのかな、これで、 バインディング、あとバインディングでいいかな。 やかたは、これはバインディングのプロファイル。 これをオプショナルでね、ちょっと用意してあげて、 これフライベートでいいのかな、で、 で、押してあげて、 その上でエディングプロファイルを設定する。 これは、まあそうか、ここで設定することになるのか。 で、オンアピアーでエディングプロファイル。 結局、タイミングしてないですね、何もね。 エディングプロファイルに余計なものを入れたくないという発想から、 始まった割には何の意味もなってないような気がしてきた。 そうか、もしならば、プロファイルホストが、 エンバイルメントから普通にプロファイルを取って、 それをバインディングしてあげて、 で、エディングプロファイル。 うん、もうね、それでいい気がしてきたかな。 で、それでバインディングのときに、 よしなにね、計らってあげて、 バインディングがカンセルされたとき。 カンセルされたときに、バインディングをニルにする。 うん、ま、ちょっとやってみますか。 そうすると、エンバイルメントが復活させて、 エンバイルメントでモデルデータね、ELF。 で、パワーモデルデータっていう風にやってあげて、 そうすると、イニシャライザーでプレゼントプロファイルをバインドする必要がなくなって、 で、これが計算型プロパティに戻りますかね。 計算型プロパティになって、で、それで、 なんやったな、ちょっともう一回したか。 計算型プロパティになって、 でこれでモデルデータの デフォルトプロファイル というかモデルデータのプロファイルもしくは ここまではまず移動して、でこうしてあげて、 プロファイルのイニシャライザーね このイニシャライザーは、とりあえず要らなくなって、 で、それで、バインディングを、 バインディングプロファイルをオプショナルにして、 それでこれをstateとかかな、 エディングモードで提供すれば良いから、 エディングモードかオンモードになればいい。 まあでも一応、ちょっとエディングモード、プロファイルをstateにしてエディングプロファイル。 で、えーと、だから、nilでいいわけですよね。 それで、うーんと、これで、 プロファイルプレゼントwithエディングとあって、 で、cancelボタンを押したときに、 これでエディングプロファイルをnilに設定してあげて、 エディング中のものがないというね、 そういった表現にしてエディングモードを許可してあげる。 で、そうじゃなかったら、 エディングプロファイルを有効にしてあげて、 で、それで、オンアピアのときにエディングプロファイルを プレゼントプロファイルにしてあげて、 エディングプロファイルのプレゼントプロファイルが、 ifretをエディングプロファイルだったときには、 それをプレゼントプロファイルに入れてあげる。 というふうにすると、このプレゼントプロファイルは、 今は、これね、getterだけにしちゃってたから、 これをsetterとgetter両方用意してあげる。 setterとして持てるデータのプロファイルに対して、 newプロファイルがいいな、newプロファイル、newプロファイル。 こういうふうにしてあげれば、ここが書き込みにしたいから、 これで書き込めたでしょう。 ここにbindを当ててあげる。 そういった形を取りますが、 このときにタラーマークは、 ここは同じ名前でできるのかな。 ちょっとやってみますね。 エディングプロファイル。 押したときには、 だから、 エディングプロファイル、バインディング、 バインディング、バインディング。 bindを取りたいときって、どういう名前にするといいんでしょうね。 bindのbindingの用は、 プロファイル、こういうふうにしてあげて、 bindable、 エディングプロファイル、みたいなふうに してあげればいいのかな。 これで、バインディングを返してあげるというふうにして、 この中でgetは、こういうふうにするんだ。 getの場合には、プレゼントプロファイルですよね。 それでsetの場合には、newプロファイルは、 プレゼントでいいのか、プレゼントプロファイルに newプロファイル。 っていうふうに入れ上げると、これでbind完成じゃないですか。 難しいものだったね。 ってことは、なんか面白い書き方あるかな。 もう一回やりますけど、 bindingでgetをsetに対して、 ここにgetって渡してるんですか。 プレゼントプロファイル、これでgetはダメか。 これでもダメか。 どうか、これで定義はどうしようかな。 このgetは関数で取れれば、取れていいんですけど、 今setもプレゼントプロファイルのset、 何か書けてそうですけどダメですね。 この書き方知らないだけなんで、 ちょっと試しでやってみますけど、 プロファイルをどうするかどうなるか、 これも関係ないよね。 このエラーとしては、プレゼントプロファイルgetが すごくない、ないよって言ってますね。 もうね、言われちゃうと、またこれが取れないのか。 そういう人でgetter、setterを関数に渡すときには、 どうするんだっけ。 こういう書き方でもないよね。 ちょっとやってみますけど。 そうですね、これも違うよね。 いいパターンだもんね。 これは聞いたことばかりで違うですね。 こういう書き方できなかったかな。 ちょっと私、調べてみますか。 そういう人でgetter、setter、これを関数。 関数、これ日本語だけど関数。 関数として、何出てくるかな。 getter、setterとして。 これかな、これかな、適当なことだけど。 その省略とかで。 あ、終わっちゃった。 getter、setter、getter、getterの効果。 getterというわけではないね。 やっぱり、Signatureが取れなかったというのが 書き方だった気がするんだけどな。 これもちょっとGPTの出番ですかね。 一応、義務的に書けたら嬉しいなと思うところから 聞いてみましょう。 getterとsetterを関数型の変数に保存する方法を 教えてくださいと。 日本語が教えてくださいって言ってくれるかな。 保存する方法は、アプリで保存する方法。 それではないな。 getset、local ticket set、こういう話ではない。 パターン全体はなく、 基本的に表す仕組み、キーパスか。 キーパスだと、WPパスで取ることはできるんですけど、 こうした時には、キーパスだとこんなバリューで なっちゃいますよね。 セレクターみたいなやつが知りたいな。 セレクターみたいなもの。 例えば、関数なら、 こんなやつと言いたいんだけど、 sync、value、こういうやつ。 また、これね、みたいなもの。 長い人に聞いたら。 こういったもので、 なんかあった気がするんですけどね。 getter、setter。 そうそう、getter、setterを取りたいとき、 関数参照として。 関数参照って言う言い方なのかな。 関数型ですよね。 レプロパティの場合には、 クローダーに入れるのか。 どうだっけな。 どちらに近いのか。 なんか面白いね。 こういう風に質問を続けさせようとするように。 ちょっとリピートになりましたけど。 いるのかな。 こんな。どうなんだろう。 getter、set、みたいな表記で、 関数で解く。できなかった。 AIね、普通には変だな。 まあいいか。 どこの仕組み、関数参照、getter、setter。 .getter、これはないよね。 ないと思うんだけど。 value、getter、setter、getter、set。 まあいいか。 なんかあった気がするんだけどな。 忘れちゃったな。 とりあえず教えてもらったら、 絶対できないと思うんでしょ。 ファイルの.getterでしょ。 そんなのはないでしょ。 何に乗ったこれ。 何にも乗ってない。 .getter、setter。 そんなのはないですよね。 なんか、こっちじゃないよね。 なんかこういう書き方だった気がするんだけどな。 まあいいか。 まあいいか。 今はそんなことやってないで。 大人しくこれでいいか。 こんな感じで、バインディングを バインダブルエディティングプロファイルという形で 取得できるようにした上で、 これを渡してあげれば問題ないですよね。 バインディングプロファイル。 どっちが早かったか。 バインダブルエディティングプロファイル。 こういう風に渡してあげて。 それで書き戻しは、エディティングプロファイルがあったら 書き戻すだから、ここいいですよね。 エディティングプロファイルがあった場合には 現在のプロファイルを書き換える。 で、プロファイルエディターが表示される時には、 現在のプロファイルをエディティングプロファイルに入れてあげる。 そして最初はオプショナルにしておくことによって、 編集中のプロファイルはないよみたいな感じで表現すると、 オプショナルを上手く使って、 編集中のデータがあるのか、 編集中のデータがあるのなら、それを書き出すという、 そういった風なコードができたということになっているはず。 なので、まだ呼び出しもかなおしてないや。 バインディングプロファイルじゃなくて、 エンバイオメントでよくなったので、 このプレビューのコードをプロファイルに渡さなくなって、 代わりにエンバイオメントとして持てるデータを渡してあげると。 呼び出しはまだあるよね。 ここでは細かい呼び出しは不要になって、 こんな感じでサクッとデブ通りに戻る。 これでOKですね。 これでプロファイルでのプレビューが 今、描画されようとしていることで、 描画されたので、ホスト。 今、ウィンターなので、エディットモードで ウィンターをたまに変えてダウンを押すと、 ダメだったっていうことで、 一瞬の何だったんだ。 これは困りましたね。どうしようかな。 どうすると、どこがおかしいか 突き止めないといけないですね。 これで、エディティングプロファイルがプレゼントで、 ここはどこだろうかな。 プリントを、例えば、ここで。 プライフですかね。 それで、そうじゃなかったとして、 トンアピアでプレゼントプロファイルでしょ。 あれ、プレゼントプロファイルか。 バインドするときに、バインダブルエディティングプロファイルが、 動きが違いますね。 持てるデータ。 ここ違うじゃんね。 これがエディティングプロファイルだ。 いや、違うな。 ここが間違ってますね、完全に。  だから、プレゼントプロファイルがいいんですけど、 タイミングの方ね。 プレゼントプロファイルを取ってきちゃうと、 よろしくない。 エディティングプロファイルの内容が、 あるかどうか。 割るかどうか。 エディティング中? エディティング中、よく、プレゼントですね。 プレゼントプロファイルで、 えっと、や、違うね、違いますね。 あれ、吐き出すとき。 あ、でニュープロファイルでしたね。 ニュープロファイルは、練習が終わって。 この辺のタイミング、このエディティングプロファイルが アプライして、アプライと合わせて、このセット。 両方見てみましょうか、プリント。 で、ここで、えっと、ね、こんなんで、 僕が、こんなのが全然ダメでしたね、さっきね。 これをサマーに変えて、それで、ダウンを押したときに、 一緒にサマーなんですけどね、となると、 ウィンカーになってますね。 あ、やっぱりそうか、セットの後、アプライしてますね。 セットの後、アプライか。 だから、プレゼントプロファイルが、 エディティングプロファイルに、セット。 何かが、セットが、バインディングしたのか。 それでプレゼントプロファイルに、混乱してるな。 これで例えば、ニュープロファイルの、シーズンのあるコトのシーズン。 このコトを表示するでしょ? これで、こういう風に、アプライに、ここで、 エディティング。プロファイル。シーズンのあるコトの、シンボル。 えっと、今思ったんですけど、プレゼントプロファイルに 反映させたら、これ、二個ですね。編集は終わりですね。 エディティングプロファイル、これが、コップの中。 編集が、終わったよってことで、2個入れないといけないですね。 ちょっと、入れ替えちゃったけど、大丈夫かな。 とりあえず、これで、エディティングで、アマーにしてあげて、セット。 アマー。あ、そうか、今、セットされるのか。 バインディングだから、今、セットされるのね。 なるほど。セットされた時に、どこに入れてるっけ? プレゼントプロファイルに入れてるね。これ、ダメだね。 これが、エディティングプロファイルに入れないと ダメですね。エディティングプロファイル。 編集中のものを書き換えるんでね。 だから、データソースは、プレゼントプロファイルでいいんですけど、 名前よくないかな。エディティングプロファイルで、 渡す時には、現在の値。 書き出す時には、編集プロファイル。 なんか、思いがけず、いい行動をかけたんじゃないか。 そうすると、オンアピアいらないでしょ。とりあえず。 オンアピア。エディティングプロファイルに書き込む必要がない。 読み込まれちゃうんだ。 バインディング、これだと、ダメなんだ。 ダメだけど、この時に、プロファイルと ディフォルトプロファイルと、プレゼントプロファイル。 バインディングは、エディティングプロファイル または、プレゼントプロファイル。 ちょっと、もう一回、やりやすくなってきましたね。 これはね、分かりにくい。 コードはね、動きが良い気がするんですけど。 これで、サマーにすると、サマーでしょ。 これで、またね、オータムにすると、オータムで。 最後、これで、ダウンを押すと、アプライされるっていうね。 これが、エリック、サマーね。 アタッチが、スクリーンになり、これをキャンセルを押すと、 アプライはされない状態で、オータムのままですよね。 で、この時、ニルになってるんで、 もう一回、エディティングを押すと、 オータムから始まりますよね。 もうできた。うん。ダウンだと、OKですね。 うん。これでいいですね。 ちょっと、分かりにくいけどね。 エディティングプロファイル、エディティングプロファイルとね、 エディティング、エンディングにしようかな、これ。 こっちを、エンディングプロファイルにして、 それで、バインダブルとか余計なこと言ってないで、 エディティングプロファイルに変えてあげる。 そうすると、エディティングプロファイルは、 エンディングがあれば、それ。 そうじゃなければ、現在のプロファイル。 で、セットするときには、 エンディングのところに書いてあげる。 これはなんか、読みやすくなってきた気がする。 うん。ほんとかな。慣れただけかな。 まあ、こうしてあげると、 要は、プロファイルエディターのときに、 アプライがいなくてね。うん。 そうですね。ここで、エンディングプロファイルで、 新しいプロファイルは、エンディングプロファイルにして、 新しいプロファイルを、エンディングプロファイル。 で、この一部の中に、エンディングプロファイルを入れるの方が、 より適に詰まるでしょうね。 これを、オンリズアピアーでやっているというところが、 もうちょっとだけ引っかかるんですけど、 これはいいのかな。タスクはいけるかな。 ここにタスクを入れると、いつ動きますかね。 タスクじゃないか。 オンアピアーでもいいのかな。 オンアピアーでプリント。 これで、また表示してあげると、 これで表示したときに、オンアピアーが出ましたね。 おすると、やっぱり・・・。 プロファイルエディターが、 一番いいところにいるんですかね。 書き戻しのタイミングね。 プロファイルエディターが、ディスアピアーになった時点で、 ペンティングが、どうか。 反映していく。 どういう感じか。 プロファイルオンリズアピアー。 これがいいんですかね。 なるほど。 結局、オンリズアピアー。 オンリズアピアー、オンアピアー、プロファイルエディター。 そうね。 そうか。 あるなところですか。 じゃあ、これで、大体、表現ができたというところで、 最後の成功ですかね。 エディットボタン。 エディットボタンがね、これ、 共通なものになるんで。 そのエディットボタンは、外でいいよね。 っていうことになってたのかな。 そうすると、エディットボタンが必ず、 イズエディティングとかの外でいいとなると、 プロファイルエディターが、どうじゃないか。 やっぱり、要件が複数場所で、必要になってくるんですかね。 これは、SwitchとUIである以上は、基本的な表現になってくるんですかね。 えっと、要はこれで、Hスタックで、 イフ・イズ・エディティング状態だったら、キャンセルボタンをね、 押して、押して、というか、用意してあげるよ、という感じで、 スタートエディットボタンを用意して、Hスタックが終わって、 その後ね、イフ・イズ・エディティング。 ここがSwitchが好みかな、どっちかというと、 イフ・イズ・エディティングで、 これがブルーだった時には、プロファイルエディターを表示して、 それで、フォルスだった時には、プロファイルサマリオを表示してあげるよ、 という風な形で、どうなったんでしょうかね。 これをエディすると、あ、ダメだった。 えっと、どこだ。イフ分でボタンで、ここは良さそうね。 これで、Switch分でブルーと、あ、そっか、ここね。 ここで、オン・ディスアピアだから、このカッコがいらないですね。 これで、どうやって閉じてあげるのかな。 ここが、ケースが無い。ケース・プルー。 で、ケース・フォルスですが、えーと、なんか違うみたいね。 えーと、Switchがイフ・イズ・エディティングで、ナミカッコ。 ケース・プルーで、プロファイルエディターで、これが、あ、ここが無いね。ここだ。 ここですね。 これで、フォルス。で、このカッコだった時は、えーと、このカッコだった時は、ここだ。 そうですね。これで、あ、うん。こんな感じで、なんかね、イフ・イズ・エディティングが、 こういう2箇所出てくるのが、なんとなく気になるんですけど、 まあでも、これはね、どうでもならない。うん。まあ、こんなもんですからね。 うん。そうですね。 これで、ボタンを押すと、編集。で、ミターをタマーに変えて、タンを押すと、タマーになったと。 なんかこれ、消えた時にも反映してて欲しいですけどね。 これは、できるのかな。キャンセルの時はね、いいんですけど。 これで、押して、これでタンを押した時に、ネットで送れるのが、微妙に気になってるんですけど、 これは、ディスアピアだからなのかな。えーと、いや、でも、違うかな。 これのタイミング見てみましょうか。 この、オンディスアピアが発生するタイミングと、えと、このプロファイルサマリーがオンアピアするタイミングと、IAP345P5と、あとは、 あと、何するタイミングだろう。えっと、2エディティングだから、2エディティング。カンセルボタン。まぁ、こんなところですか。 あとは、影響しそうなものって言ったら、Pending Profile?Pending Profileが? あと、Pending Profileが変わったタイミング持つときになろうかな。 えっと、例えば、ONCHANGE.で、Pending Profileを出た時。 これは、どう tintるのかな。 ピコータブルじゃないか。プロファイルが、プロファイルが、今は、ネザーネームとこの辺だから、これピコータブルいけそうですかね。 このままやっても問題ないでしょ。ピコータブル。 押してあげると、ピコータブル。で、ONCHANGE. 文字分かりにくいですね。似たような文字になっちゃうと分かりにくいから、顔じゃなくて、例えば、 まぁ、なんでもいいか。黄色に選んだら、まぁいいか。なんとかなるでしょ。 これで、ちょっと1回ね、レビューを走らせ直したときに、まず何が変わるか。 えーと、レビューは、これ走りの、あ、そっか、これを表示したときに、まずは、笑顔モード。 プロファイルサマリーが表示されました。で、リプを押しました。で、この後に、これをボタンに変えまして、ダウンを押しました。 で、そしたときに、はいはい、なるほど。えーと、笑顔の後に、このマークだから、ディスタピオが後に走ってますね、これね。とりあえずね。 うん。で、あとは、 えーと、このオンテンジだから、オンテンジの ペンディングプロファイル。これが、いつ走ったんだ? もう1回やりますか。 えーと、オンテンジ、ペンディングプロファイルが 走るとすると、えーと、イジェイティングが、えーと、 キャンセルされたときぐらいか。あとは、ここで書き換えますけど、 そうすると、こっちかな。 なんか、こっちのほう、ディスタピオじゃなくて、えーと、 オンピアのところ、ここで、えーと、表示する、表示するじゃない、 えーと、値をね、変えてあげるっていう手法を取ると、 これで、エディットを押して、これを、ダウンに変えて、 で、ダウンを押すと、まあですね、エディットを押して、 これで、オータムを押して、ダウンを押すと、 最初からオータム。こっちのほうがいいけど、バッテンのかな、 これで、えーと、表示前に反映させる。 ペンディングがあったら、反映させる。 で、エディットモードのときには、 仮にペンディングがあったとすると、 ペンディングがあったときには、反映が、 あ、ディスタピオか、まあ、ディスタピオじゃなくてもいいや。 えーと、アピーアするときに、 ペンディングプロファイルがあったときには、 それが、編集モードに入っていく、ですよね。 で、エディットが終わったら、 普通はプロファイルサマリーが表示されるわけだから、 それが表示されるときに、反映すればいいし、 何らかの事情で連続で、プロファイルエディターに、 もう一回ね、突入するんだったら、 編集中のものが表示されるから、これでいいですね。 大丈夫な気がする。で、終わらせるときは、 編集中の段階で、この、Pを閉じてしまったら、 編集はキャンセルされる、というドライバーとするんだったら、 これでいいですね。大丈夫だ。 まあ、だと、なんか、書き換わる感じがなくて、 嬉しい、個人的には。なので、これでいいや。 うん。まあ、妥当な気がする。 タイミングはこっちかな、で、そのね、オンアピーアね。 うん。それで、プリムな感じになったし、 あとプロファイルは、イコータブル。 まあ、あってもいいですけどね、これだとね。 うん。 まあ、でも、プロファイルをそんなひとつすることも なさそうな気がするんで、やっぱりイコータブルは無しでいいかな。 うん。できた。これでいい気がする。 エディットモードを活用する場合のコードの書き方で、 でも、ちょっとこのエディッティングプロファイルが すごいややこしいんで、ここはさっき分かれそうな気がしますけどね。 まあ、でも、ペンディングがあったら、ペンディングを読み取りに使うし、 プレゼントプロファイルをね、無ければ使うって、いいですよね。 うん。で、それで、書き込みはペンディングに対して、 バインドを書き込んであげれば良い。 で、さらにオプショナルを使っていることによって、 ペンディングがあるかどうかっていうのをね、 ちゃんと表現できるようになっていると。 うん。という風な形になっていて、 それで現在のプロファイルっていうのは、モデルデータに 設定されている設定があるならば、それ。 そうじゃなければ、ディフォルト値を使うよっていうことによって、 余計なところでね、ディフォルトを与えるっていうのを、 いろんな場所でやる必要がないっていうのも、良い感じですね。 で、それで、プレゼントにセットする時には、 モデルデータに書いていきますよね。 これはいいですね。で、それで、エディッティングは、 エディットモードをね、使いやすくするために、 こうやってね、開くことで、OKですね。 で、それで、セットする時には、 インアクティブを入れれば良いと。 なので、いつか、エディッティング、このフラグによって、 シンプルにね、制御することができるようになってくるんで、 まあ、準備もそんな大変じゃないですしね、 あっと見で、分かりますからね、 エディッティングモードを、プール型に置き換えてるんだな、 っていうのがすぐ分かるんで、これで大丈夫ですね。 で、これで、後に、いつエディッティングだったら、 キャンセルボタンを出す。 で、キャンセルボタンでは、キャンセルするんだったら、 ペンディングのプロファイルをリセットしてあげるっていうね、 そういった論理的な考え方で、ちゃんとキャンセルできる。 リアルにあったみたいな、プレゼントプロファイルを 書き込んであげるみたいなことをね、せなくて良いので、 まあ、少なくとも自分には直感的に見えますからね。 その上で、いつエディッティングをポルスにすることによって、 編集モードから抜けるよっていうね、 こういった風にシンプルにあげていると。 で、エディットボタンがあって、エディットボタンはね、 エディッティングかどうかによって、エディットボタンになるか、 ダウンボタンになるかっていう風になるので、 これはOKですね。 で、いつエディッティングによって、エディターにするか、 サマリー表示用のね、という風にするかを切り替えて、 エディター表示の時にはエディティングプロファイル、 要は、あの、ペンディングがあればそれを使うとかね、 そういった色々な配慮がされているプロファイルを バインドすることによって、 うまいこと、その、ペンディングプロファイルを書き換えていくよ、 ということができていると。 で、あとは、サマリー表示のところでは、 現在のプロファイルをね、表示すればいい。 ペンディングのものがあったとしても、 それは反映されていないので、 表示の時には気にしなくていいと。 うん、いいですね。 で、それで、サマリーが表示される段階っていうのは、 つまり、編集モードが終わって、 その、表示モード、まあ、さっきの言い方。 編集モードが終わったっていうことを 意味することになるので、 ここの、オンアピアーで、 ペンディングプロファイルがあったときに、 これを使って、現在のプロファイルを更新してあげて、 ペンディングプロファイルをリセットするっていうね、 こういった方法を取ってあげることによって、 サマリーが表示される前に、 現在のプロファイルが更新される。 ペンディングされてたやつにね。 という風になるので、表示が間に合うと。 表示前にちゃんと差し替わるので、 あくとね、最初から変更済みのものが 見えるようになるよっていう感じで。 まあまあ、今みたいにしゃべったので、どうですかね。 一応、理想的なところまで落ち着いたかなという気がするので、 自分の中では、エディットモードを使う方法が、 まあまあね、 違うプロジェクトだったら、 また違う使い方になってくると思うんですけど、 まあ基本的な考え方としては、ちょっと難しかったけど、 まあできましたかなっていう気がなんとなくする。 うん。 いや、言葉オプショナルで表現できたところが、 個人的には一番良かったかなという、 そんな感じですかね。 はい。 じゃあ、まあこんなところで今日は終わりにしました。 次回は、UIキットとの連携のあたりの テュートリアルをね、読んでいく形になります。 はい、ではこれで終わりにしますね。 ご視聴ありがとうございました。

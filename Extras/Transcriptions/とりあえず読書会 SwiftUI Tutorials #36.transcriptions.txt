Transcription & Summarize : とりあえず読書会 SwiftUI Tutorials #36

はい、ではとりあえず読書会を始めていきましょう。 Web UI Tutorialsを読んでいって、最後の方にいよいよ、いよいよじゃないや、だいぶに入ってますけど、 Creating a Mac OS Appですね。これをセッション5からですね。ではね、早速やっていきましょう。 えっと、こちらですね。この中の、うんと、Mac OS、Creating Mac OS Appですね。 で、これで、えっと、そうね、この中の、とりあえず次へ行っていきますが、 ちょっと心配になってきたマイクが入ってるかどうか、あ、入ってるわ、大丈夫ですね。 はい、えっと、では続いていきますけれども、ね、ところね、リファクターをしながらやっている都合で、だいぶTutorialから行動がかけ離れていってますけど、 まあでもその代わりね、自分、少なくとも自分の感じる限りでは、良い感じに行動がかけてる気がするんで、 まあ、この調子でね、いきたいなと思うし、なんかリファクタリングしながらやってると勉強になりますね、やっぱりね、 頭で考えるからでしょうかね。Tutorialにまとめたと、やってて思うこととしては、 なんかね、行動のことを考えてるつもりで、意外と見てないなというのがね、実感としてあるんで、 今回ね、リファクタリングをやりながらというのをやってみましたが、そうするとね、Tutorialとなんか動きが違うなみたいなことに乗った時に、誰が間違ってるのか、 時々ね、Tutorialと間違ってたりするんで、まあそういったところがね、難しかったりするけど、 それも、えっと、問題を解決するっていう観点で言えば、良い練習になるっていうね、ちょっと難しいですけどね、 まあまあ、そんな感じでやってますが、まあ今のところはなんか、問題を解決しながら、 エクション5個ですね、ここまでこれだよっていう、そんな感じですね。はい、じゃあ続いて見ていきますが、 えーと、ビルドインメニューコマンドを作っていく、今、Mac OSなんでね、Mac OSの醍醐味と言ったらいいですかね。 UIデザインガイドラインはちょっと、自分は把握が全然できてないんですけど、 まさか、Mac OSはできる機能、備えられてる機能のすべてをメニューからできるようにするっていうのが、なんか推奨されてたような気がしないような、ちょっと知らないんで、 UIのデザインのガイドラインも読んだほうがいいんですかね。まあちょっとね、次は何を読むかは、ちょっとこれを終えてから考えようと思いますけど、 とりあえず行きましょう。UIライフサイクルを使ってアプリケーションを作成するときに、視線は自動的に共通的なアイテム、必要となる共通的なアイテムを作る。 UIキットというかストーリーボードで作ったときにも、まあテンプレートってそういうことをしましたよね。そういえば、ソリストUIはどんなメニュー揃ってるんでしょうね。 まずは読んでからにしますか。トジルとか、フロントウィンドウ、一番上の、最上位のウィンドウ、あのクローズってトジルウィンドウかな。 なんかこの前、アズキュラみたいなそういった意味で出てきたような気がして、まあ大丈夫かな。 トップ、最上位、まあコマンドアプリのことか、どこかの自動化といったやつですね。 ソリストUIは追加可能にする共通のコマンドを、ビルトインビヘビア、あとはコモンコマンド、他のビルトイン動作としてコマンドを追加していくことができるようにする感じですかね。 完全に、どれと同様に、パスタムコマンドと同様、英語の訳がやすくなってきたので、ちょっと文明の歴に耐えましょうか。 読み込みの動作を持つ他の一般的なコマンドや完全にパスタムのコマンドを追加できるようですね。珍しかった気がする。 このセクションでは、システムが提供するコマンドを追加していく。それは、ユーザーがガイドバーをトグルする可能にする、それをドラッグでクローズすることを可能にする、そういったコマンドを追加していくみたいですね。 それはランドマークコマンズというスイッチを作って、ガイドバーコマンズというボディで、そういったのを呼べばいいのか、ガイドバーコマンズ、こういった標準のコマンドが用意されているのか、なるほど。 ランドマークターゲットをリモートして、マックOSアップを実行させて、セパレーターをドラッグして、左側に全部動かしてみようとして、マウスボタンを押すことができます。 ボタンを押したとき、リストはディスアピーアする、ツールバーボタンをクリックすると、それが戻ってくる。 導入するメニューコマンドをコントロール。このコントロールをメニューにも導入していくという、そんなお話みたいですね。 この動きを見てみればいいですかね。動いているこれですね。これで、ボタンを押すと出てくると、こういった感じのお話をメニューでやっていこうというお話ですね。 ちなみに標準は何かだろう。アバートランドマークス4マックOS。これを選ぶと、こんなのが出てくるんだ。 あとは、サービスカーマーク。この今もOSが基本的にどんなアプリにも提供しているやつですかね。 ITか、ITかな。アバートランドマークス4マックをハイトしたり、アザーをハイトしたり、一般的なやつ。 あと、入ると、ニューウィンドウ。ニューウィンドウの中で出るようになっているね。凄いね。 出るの凄いねって感じですけど、これiOS版から作っている状況で、OSが簡単に対応できたから対応させたと言っている状態で、 なぜかね、うっかりどこかで、このウィンドウに対する共通コンポーネントをグローバルに持っていたとかね。 言うような時というか、今もそうだね。今はコンテンツオピューにあるから今は。 それがね、グローバルに持たれてたりとかすると、データソース本来ウィンドウが違ったらどうならないといけないのに一生とかね。 なので、片方何とかすると、もう片方に影響しちゃうとかそういう可能性もあったりするから、意外とこのニューウィンドウって怖いですね。 まあ、普通に書いていれば大丈夫だと思うんですけど、あとはフローズ、またにエディットとして、 まあ、コピーみたいなのが標準のテキストフィールドが出てきますよね。 ライティングツールとか、こういった一般的な、まあ、ライティングツールってアプリに入れちゃうんですけどね。 まあ、こういったのが普通に用意されて、テキストエディターがあれば使えると。テキストエディターとフォックスか、こんな感じでしょうね。 あとは、ローズ、タブバー、ショー、オール、タブス、タブバー持てんだ。ああ、そこに出てんだ。 うーん、なるほど。この辺もね、タブバー、オンラインだったら想定してないアプリなので、タブバーなんて出ないで欲しいっていうね、そういった要はありそうですよね。 で、あとは、フルスクリーンは大丈夫ですかね。大丈夫ですよね。 そう、こういったのもね、プロスプラットフォームだとちゃんと確認しないといけないから大変ですよね。 Macの、こんな機能ね。 とりあえずこんな感じで、メニューがね、投票でのがいくつかあったりとか、あとはサイトバーがね、ちゃんと動きを見せるようみたいなことがありますね。 で、ステップ2として、新しいスイッチファイル、ランドマークコマンドを作って、これMac OSとiOS。iOSも、どうなのか。iOSにメニューなんてあるのかな。 どこかで使うつもりなのでしょう。 これで、また、Target iOSを開けた。 Target iOSにもターゲットするその理由は、シェアドランドマークリストは、イベンチャリー、ディペンドーン、オモプター、タイプユニファイル。 ディペンドーン、オモプター、タイプユニファイルで定義される型のいくつかに依存するシェアドランドマークリストは、 その理由で言えるのかなと、ちゃんとその中で意味を回してコードを書いてくれるんだったらいいですけど、 そうじゃなかったら逆にちょっと、いろいろ溜めて、めっちゃ汗になりそうですね。 イベンチャリーっていうのが、結局、ついに、っていう意味なんだ。 この辺の差、分かりにくいですね。 さっきのアドボとファイナリー、下に書いてあった。 イベンチャリーとファイナリー、あとラストね。 この辺りは、いろんなのが起こるが、いろんなことが起こった末の結果を述べるが、 マニタルまでの経過の困難さだと表す場合はファイナリーなんだ。 指定の苛立ちや反動など、漢字を伝える場合はラストを用いる。 このイベンチャリーは、一連の出来事について、結局、ついに、いくいくは、 という感じで、否定文には用いない。 難しいね。 そういう感じの意味なんだ。 ファイナリーとはまた違うのかな。 時計カードよりも結話なのかな。 まあいいか。 とにかく、イベンチャリーは結局だって、 結局、最後にとか。 まあいいや、ランドマークコマンドを作る。 ツイートUIをインポートして、ランドマークコマンド構造体を コマンドプロトコルに準拠させる。 コンピューティブプロパティを実装する。 という構造体のように、コマンド構造体は、A3型のボディ。 別にこれ、A3型じゃなくてもいいと思うんですけど、 とにかくボディを求めて。 で、ビルダーオープンね。 DSLだって言ってたっけ。ドメインビルド言語。 ユーザーインターフェースを書きやすい、 それ専用の言語を使って書けるように、 ビルダーというのを使って作っているという感じですね。 で、DSLは端的に書けるっていう、専門性をね、 端的に書けるっていう利点の反面、 それの書き方を学習しないといけないという、 学習構造がかかるっていうね、 そういったメリットがDSLにはある。 まあ今回はどうでもいいですけどね、 ツイートUIはツイートUIの書き方という感じで、 今、学んでる。 ただ、この学んでる全部の構造が、 かかってきているという感じですかね。 まあ、それだけじゃないですけどね、 ライフサイクルとか別のものもあるんでね。 でも、まあ、ツイートUIが登場しなければ、 覚えることって結構少なく生んでた。 そんな感じの、まあ、どうでもいい話ですね、これはね。 で、エクセプト、コマンド、ビューの代わりに コマンドを期待する。 ああ、ビルダーのね、セマンティックスでね、 何かランドマークのコマンドを作ってあげて、 で、ボディをとりあえず、こういった空の状態で 作ってあげるみたいね。 まあ、ここまでまず慣れてないんで、 やってみましょうか。 コマンドはどこに置くといいんでしょうね。 コントロールじゃない気がするから、 新しくメニューボルダーでも作ってみますか。 で、とりあえずね、何も指示されていないので、 全然答弁会のとこに置くと思うんですけど、 メニューにして、で、それで、 スイフトファイルでランドマークコマンド。 ランドマークコマンドか。 ランドマークズアプリなんで、 ランドマークズコマンドですよね。 で、とりあえずその手とかな。 えーと、ランドマークズコマンズ。 ああ、コマンドも複数系か。 ランドマークズコマンズにしときましょう、今回は。 で、これを、ドキッドUIをインポートして、 えーと、ストラップと、ランドマークズコマンド、 これがコマンド、コマンドだ。 コマンドのプロパティで、OT。 で、元1は、コマンドですね。 という風にして、じゃあ次。 えーと、サイドバーコマンズコマンドを、 OTに追加する。 ね、えーと、これは、ビルドインコマンド、コマンド、 ドキッド、ドキッド、サイドバーを、 トグルするコマンドになります。 ということで、これで実装がいくの、 サイドバーコマンドね。 で、えーと、コマンド。 この、ね、コマンドをアプリで、えーと、 使うために、えーと、これをCに追加する。 次でね、やる。 えーと、ランドマークアップファイルを開いて、 で、これで、利用するランドマークコマンズを、 えーと、コマンズ、Tモディファイア。 これを使って、動作していくらしい。 Tモディファイアは、Uモディファイアのように動作し、 えーと、ビルの場合にCでね、活用することを期待する。 なので、コマンズでランドマークコマンド。 これをね、追加してあげればOKと。 これだけでしょうね。 ここの変更はね、そうですね。 じゃあ、やってみますか。 あ、でもここで、もうちょっと言っちゃいますね。 えっと、MacOSアプリを再び動かして、 で、Vueのショースライ、サイドバーメニューコマンドから、 リストがね、復活できることを確認してくださいと。 で、えーと、残念ながら、 ショーエースアプリは、ビルドに失敗する。 それは、コマンズが、MacOSでは有効ではないからだと。 それを、次で直していく。 じゃあ、その前までいきましょう。 で、その前もそうなんですが、 もう一回コマンドを止めておきたいですね。 Vueの中から、サイドバーの話が、 あ、載ってないですね。今のところね。 Vueの中にね、他に追加されるという形の、 なんか、説明のように見えるので、やっていきましょう。 えーと、サイドバーの、サイドバーコマンドが、 これを搭載して、で、ランドマックスコマンドはOK。 だけど、所属先が、所属先が、iOSとMacOSですね。 なので、これを、AppOSを押してあげて、 そうすると、ファイル名も、ちょっと、 関与的、関与的というか、この、 プロジェクトの中では、関与として、 iOSとMacOSという風にしておいて、 で、これで、えーと、メニューね。 なので、メニューとしては、 シーンだから、アプリケーションでしたよね。 えーと、ランドマーク、ランドマックスアップね。 この中のシーンモディファイヤーとして、 と言っていたけれど、ここが、 シーンモディファイヤーと言っても、 まあ、Windowsのとこですね。 で、それで、コマンドズとして、コンテント、 コンテント、あ、コマンドズとして、 こうですかね。えーと、で、それで、 ランドマークスアップじゃない、えーと、 なんでしたっけ、ランドマークスコマンドね。 押してあげて、で、ビルド、 どうでしたっけ、MacOSだから大丈夫かな。 うん、大丈夫ですね。 で、これを押してあげると、メニューがね、 選べるようになるよっていう、 そういったお話に、行きますかね。 こっちかな、こっちで、ビルドして、 出ましたね。サイド、サイドバーで、 同じように、サイドバーね。 うん、できましたね。では、次へ行っておきますか。 えーと、次としては、 えーと、チュートリアルはここか。 えーと、ウォッチOSを次で直すよ。 で、コンディション、コマンドズモディファイヤーを、 ウォッチOSでね、除外するためのコマンドを追加する。 で、えーと、ウォッチOSをビルドして、 で、それで、コマンドズのランドマークコマンド、 これをウォッチOSじゃなければという形でね、 適してあげると。 まあ、そんな感じでいきますが、 まあ、こんな感じでいくと言いましたが、 こんな感じでは届かずに、 まあ、間に合いのことやりますけど、 モディファイヤーここですね。 では、もし、OSがiOS、または、OSがMacOSの時、 この時にランドマークコマンドを追加してあげると。 こうしている理由は、ウォッチOS以外だと、 例えば、えーと、TVOSとか、ビジョンOSとかね、 その辺も考慮に入ってきちゃうかな、 ということが考えられるんで、今後ね。 手を広げたと、仮にしたとき。 なので、今のところ想定している、 一番狭い範囲にとって、 それというのが基本的に、 常見分岐では大事になってくると思うんでしょ。 なので、ここではね、iOS、またはMacOSという形で、 限定してね、用意してみてる。 ただ、iOSがね、本当にいるのかどうかは、 まだ発信半径ですけど、まあいいや。 うん。まあ、必要なければね、 SharpIFMACをOS、MacOSで済んでたはずなんでね。 うん。 ランドマークコマンド、悪くないかな? TwinModifierでね、ランドマークコマンドというのを 作ってもいいのかなと思ったんですが、 コマンドコマンドは、 あとは、モディファイヤーは、コマンドビルダーか。 だから、メニューコンプリートやったとき、 これがすごい良さそうですね。 まだ使い方知らないですけど。 で、これで、なんか良さそうな気がするんで、 次。セクション6。 カスタマイズコマンドを追加していきましょう。 前のセクションで、ビルダイメニューコマンドセットを追加した。 ここでは、カスタマイズコマンドを作る。 お気に入りステータス、カレントセレクティブランドマーク。 カレントセレクティブランドマークのお気に入りステータス。 あー、それが後日の作るな。 あー、なるほど。 じゃ、セレクティブインデックスが前回とかに付けてありますけど、 それが使えそうな感じですね。 で、えっと、フルスルーノを打って、 フルスルーノを打って、ランドマークが選択されている音を見るために、 フォーカス、バインディングを作っていく。 フォーカス、フォーカスか。 自分でこの前やったの、セレクティブでしたよね。 フォーカスじゃないですね。 で、ちょっとその違いも、楽しみになってくれた方ですかね。 セレクティブランドマークのね。 えーと、そのためにランドマークコマンズの中で、 えーと、Focused Valueを出したい。 セレクティブランドマークのバリューを使って、 作成する。 Focused Values Structure。なんだろ?Focused Values Structure。 えーと、それをカスタマーキー、セレクティブランドマークキーを使って、 打ってカスタマイズしていく。 えーと、このパターン、Focused Value、 リセンブル。リセンブルってなんだ? えーと、類似する。 えーと、パターン、新しいエンバイラメントバリューを追加するのと似た、 類似するパターン。 プライベートキーを使って、 システムでフォーカスバリュー構造体。 システムが定義しているらしい。 セレクティブランドマークキーとして、 フォーカスバリューキーという構造体を作り、 タイプエリアスでバリューは、 バインディングランドマークといったものを用意するらしい。 で、Focused Valueというのは、 セレクティブランドマークというプロパティを持っていて、 Focused Landmarkを、Focused Landmarkをビルドインで言うと、 えーと、Focused Values構造体ですね。 そこにセレクティブランドマークというのを定義して、 で、ランドマークのバインディングを使って、 セレクティブランドマークキーのセルフ。 これに対して、セットとセットを載せていくということをするらしい。 ランドマークコマンズにもコピペで貼ってみますか、とりあえずね。 こうして、で、ランドマークコマンズ。 ランドマークコマンズ。 えーと、これですね。 これに対して、貼り付けてあげる感じ。 なんか変ですね。変じゃないのかな? なんか変じゃないな。 えーと、セレクティブランドマークキー。 これがこんなグローバルにあることが すごい気になったんですけど、 構造帯ですね、セレクティブランドマークキー。 ま、いいのか。フォーカスバリューに対して使うけど、 えーと、フォーカスドバリューのセレクティブランドマークキーと一緒にとらえていいですかね。 そうしたとすると、これ、 エクステンションの中に持たせてやった方がいいんじゃないかなという気がしたので、 ちょっとそれやってみましょうか。 エクステンション えーと、エクス はい、エクステンション えーと、何だっけ? こう、フォーカスドバリューの中で こうやって、エクステンションでセレクティブランドマークキー。 あと、ここがそのマイク版の外になっちゃうんだ。 ならば、この2つに対してフォーカスバリュー。 これの弾き方。 ここですね。 フォーカスバリューの中に出てますね。 フォーカスバリュー。 えーと、後はチェックアウトのかな? どうだろう?バリュー。 あらめたバリューが見つからない。 フォーカスバリューで えーと、あれ、ここ違うか。 セレクティブランドマークキーここにありますもんね。 これは省略で大丈夫ですかね。こんな感じ。 で、あとエラーになってるのは、デクラレーション。 ファイルスコープ内でのみ。 あーそうなのか。あーこれね。 フォーカスバリューがプライベートだったんですね。 なので、こうしてプライベートにしてアリティだった。 デクラレーションはファイルスコープでのみ有効とか プライベートでいいですよね。 いいと思うんですけど。 で、あとここか。 セレクティブランドマークキーはちゃんとコレですよね。 なので、定義としては。 パラメーターキーが推論できないよと言ってるんですけど、 セレクティブランドマークキースコープ内にない。 これがないのか。 フォーカスドバリューの中にセレクティブランドマークキーありそうですけどね。 今のかな? これクリックするとそこ行ってますよね。 で、フォーカスドバリュー接続キーはバインディングランドマークですね。 stimulateランドマークキーこれ確かにLa�エリアスがないですね。 ライクエリアンさんがない。あれコピーしてこなくなってるこれ。 バインディングランドマークでセレクティブランドマークキーが推論できそうです。 セルフのセレクティブランドマークキー。 セレクティブランドマークキーこれもしかしてエクステンションを止めると通ったりするんですかね。 どの可能性? バインディングランドマークキーがフォーカスドバリューの中にあるフォーカスドバリューの中から使ってる気がするけど、 これだと大丈夫なんだ。 だからやっぱりフォーカスドバリューの中が生涯空間に入っていないということか。 セレクティブランドマークキーをどこに置くのが理想かというといったお話。 これを知るにはフォーカスドバリュー。 これを知っておくのが良さそうですね。 この中でエクステンションしてるんでしょ。フォーカスドバリューで何たるキーというのが。 フォーカスドバリューをよく見てはいけないんだ。 これに対して何たるキーがいない? フォーカスドバリューにファクトしてるのは自分の話か。 だからここにないということはここにフォーカスドバリューをさせていないということですね。 どうするとセレクティブランドマークキーみたいなものが外にできておくというのが理想なのかなと思ったんですが。 そうなのかな。ここでファクトしておくのかもしれないですね。 エクステンションやめて、プライベートストラクトにしておきましょう。 これでセレクティブランドマークというものができたらしい。 自分が前に自力でやってみた選択のロジックと全然違いますね。 フォーカスドバリューなどのものが存在するか知らなかったので、どうせどうせか。 こんな感じでとりあえずコピーできたので次行きます。 フォーカスドバインディングプロパティを追加。 プロパティラッパーを現在選択しているランドマークに追加してあげる。 リーディング・ザ・バリュー。ここでそのバリューを読むことができて、 リストビューでこれを後ほどセットできる。 ユーザーはディレクションを行えるみたいな感じですかね。 フォーカスドバインディングでセレクティブランドマークというものを用意して、 フォーカスドバインディングをランドマークコマンドに持たせるのかどうかね。 何だっけ。フォーカスドバインディング。 フォーカスドバインディング。何だっけか。 フォーカスドバインディング。 これで、セレクティブランドマーク。 これがランドマークだったでしたっけね。オプショナルかな。 あちらが全然違う。セレクティブランドマークだったか。 それを使うタイプね。まずはね。 だから、セレクティブランドマーク。 ここに型などいらないよというね。こんな感じですね。 これでバインディングのセレクティブランドマークというものができたと。 で、あとは、また戻っちゃった感じかな。 セクション5はここから辿れるかな。 ここじゃないですね。 セクション5までタップしてからのほうが早いんですかね。 この辺か。 セクション5、で、8はセクション6だいま。 これで、ここまでできて。 コマンドメニューをランドマークと呼ばれるコマンドを メニューに追加する。 これはユーザーが定義するコンテンツ。 メニューのね、そういったもので。 コマンドメニューでランドマークで何か。 これだけかな。 そうですね。 戻っちゃった。間違えた。 どこまで行くんだ。一般下まで行くと、セクションは 8の中出た気がする。ここはまだですね。 セクション7、セクション8、セクション5でしたっけ、今。 ここですね。セクション5の。 ここは終わってて、ここも終わってて、試すのも終わってて。 あっ、違う。ランドマークコマンドを追加して、 セクション6に入ってた。 この中でコマンドを作る中で、ステップ3、ここまで行った。 ステップ2、ここまで行った。ステップ2、いいのか。 これら辺もステップ2みたいですけどね。 これで、フォーカス、トゥートゥー、ファインディング。 こういったものができて、 ロパティラッパ、アレントリセレクティブランドマークを トラックするラッパだって、これで話題を読み込める。 リストビューでそれを後で追加できる ユーザーがセレクションを変更したときですね。 自分でセットするのかな、これ。 フォーカスとファインディングという形で搭載して、 どれだけか。次、新しいコマンドメニューを ランドマークという名前で追加してあげる。 コマンドの中に追加するみたいね。 コマンドメニュー、ランドマーク。 ボタンの追加。ここを見ておきますか。 セレクティブランドマーク、フェイバリッド、 ステップバスをリバース。 安定させるね。メソッドブローを作って。 それは、アピュアランス。 アピュアランスってなんだっけ。 どっちが出てくるかわからないな。 実現。依存。現在選択しているランドマークを その現在の辺りに依存する変更が現れる。 こんな感じなのかな。 ボタンとしてセレクティブランドマークの イズフェイバリッドがトゥルーかフォーカスかによって 迷惑するかが決まると。 セレクティブランドマークのイズフェイバリッドによって ボタンに対して追加するのかマークするのか表示するんだ。 フェイバリッドね。 それで、イズフェイバリッドのゴグル。 ここでゴグルを使うのか。 この辺はゴグルを使えばいいのかな。 イズフェイバリッドに使えばいいのかな。 また後で考えますか。 ディセイブルセレクティブランドマークが見るのとき。 これは好印象ですね。 好印象というか当たり前では当たり前なんですけど。 こういう条件を抜けている。 こういった行動を見る機会がたくさんあって。 セレクティブランドマークが選択されていなかったらディセイブルですよね。 ドキドキなんですけどね。 セレクティブランドマークを塗る用意しない。 こういった行動を最近たびたび見ていてね。 選択していない状態があるにも関わらずオプショナルじゃないというのは 非常に難しいプログラム実装能力。 能力じゃないな。手間。 無理やり組み立てる手間が増えるのでオプショナルだと使った方がいいですね。 選択肢がないだったらオプショナルって当たり前の発想にできると楽になる行動かとかね。 オプショナルになっているのは純粋に自分が知らなかったフォーカスでバインディングを使っているから勝手にね。 そういった仕組みになっていて。 なおさらいいですよね。 UIで作っているんだからそれの機能をちゃんと使っていけばいい感じのコードになるよ。 といったお話ですね。 それでプログラム作ってこれで終わりなのかな。 あとショートカットも作るかな。 もう一回戻ってくればいいもんね。 キーボードショートカットもこのメニューのアイテムにね。 キーボードショートカットモディファイヤー。 直感的にいいですね。 覚えていないとモディファイヤーでつけるって忘れますけど。 何してもモディファイヤーを追加する。 これによって自動的にキーボードショートカットがメニューに表示されてくれるよ。 ここが重要なんですよね。 メニューの中を見るとショートカットキーがちゃんと表示されているので。 よく使う機能ね。 例えばブックマークよく使うなとかサファリでね。 これサファリですけど。 サファリでブックマークよく使うなっていう時に これでブックマークのよく使うって要は追加ですよね。 これを見るとね。コマンドDって書いてあるから。 次からはメニューからじゃなくてコマンドDでブックマークを追加するっていうのを やろうとここで見込んでおいて。 実際やれるようになると効率が良くなりますね。 まあそれはおまけでとにかく今みたいなコマンドとかのショートカットキーがね。 自動で表示されてくれるというそんな感じになるらしい。 キーボードショートカットがFでモデファイアーがシフトオプション。 これでアペイバリットのFですかね。 シフトオプションね。 シフトオプションF。 全然関係ないこと思い出しましたけどこれがオプションセットですね。 オプションセットってあの前日ちょっと聞かれてきた勉強会でお話にあがったオプションセット。 オプションセットを使うと劣況だといい感じにフラグとして使うことができる。 劣況値って1または2または3または4みたいな対価的な方法を表現するといった表現ですけど。 要は個別の選択肢があるよって劣況値で表現した上で、 その劣況値のうちの0個でもいいし1個でもいいし2個セットでもいいし3個でもいいし全部でもいいしみたいなね。 そういった風なことが自分の好みで選べるようになるみたいなそういった便利な機能ですね。 まあまあそれはいいかな。 これでメニューは新しいコマンドを含むようになったら、 セレクティブランドマークフォーカス、セレクティブランドマークフォーカスドプリンディング。 これを動かすための実装がいる?まだやってないってことか。 なかなか多いですね。 やってないの? セレクティブランドマークはコマンド? コマンドに対してフォーカスドプリンディングをつけてたのか。 そういうことか。 これで実際の動きとメニューの選んだときの接続先が関連付けられるっていうことか。 そうかもしれないですね。 なのでやることは、ランドマークリストに対してセレクティブランドマークをランドマークのオプショナルで持たせるというのをやって、 それだけじゃないよねって感じですが、 インデックスとしてヒントのオプショナル。 ヒントのオプショナルになっているのは選択していない状況があり得るってことでオプショナル。 良い選択ですね。 それでランドマークのファーストインデックスで、 セレクティブランドマークのIDから抽出して持っているデータが、 あのランドマークが再び取り出される。 その再び取り出す必要がある理由は、 このエトリアルをやりながら3段ハマったことですよね。 要は、バインディングを持ち回ってしまうと、 ビューの再評価が起こったときに、 そのバインディングが実質影響を予防せなくなってくる。 実質は言い過ぎか。 画面に反映できなくなってくるみたいなのがあるので、 このツールを抽出しているよっていう感じですね。 自分のコードどうなってましたっけね。 似たような感じになってたと思うんですけど、 インデックスはあまり明確に出すことはしなかったと思うんですけど、 とりあえずこんな風なものを作ってあげて、 インデックスとセレクティブランドマークを用意して、 そういうところで使っているか、まだ使ってないのか。 じゃあ次って感じですね。 リストをイニシャライズ。 セレクティブバリューをバインディングしたリストをイニシャライズして、 ナビゲーションリンクにタグを追加する。 説明読んでても全然わからないや。 UIの知識が甘いとわからないね。 タグがassociates関連付けるパティキュラランドマーク。 当たられたアイテム。 4-E-1の中の当たられたアイテムの個別の部分かな。 他のものと区別する個別のですね。 ランドマークと関連付けられるタグがね。 4-E-1使うことでか。 セレクションをドライブすることができる。 通じるところが怖いな。 運転、そんな気分ですね。 飛躍してなかったけど。 やっぱりやった自分でね。 リストのセレクションで。 タグは付けなかったの。 タグ付けなかった代わりにIDでやりましたね。 そっかそっか、なるほど。 タグ付けなかったからIDでやるだろう。 言えなかったんだけど。 タグは付ければランドマークでできるのか。 なるほど。これは便利?いいのかな。 まあいいんでしょうけど。 それで、Focused Value Modifierをナビゲーションスプリットビューに付けて。 Focused Value。 提供する。 ランドマーク配列からバリューのバインディング。 それを追加する。 ちょっと意味がわからなかった。 Focused Valueを追加して。 ランドマーク配列から値をバインディングする。 ランドマーク配列。 ランドマーク配列から値をバインディングする。 ランドマーク配列。 エンバイルメントの中のランドマークの話。 と書いてあるね。 ランドマーク配列ね。 実行。 フォーマル。 ここで確認するって感じかな。 ランドマークストア。 モデルの。 モデルに保存されているランドマークのモディファイ。 モデルの中の壊されているランドマークがモディファイされて。 動くことを確認する。 ランドマークコマンドと一緒に。 コマンドメニュー。 名前としてランドマーク。 コマンドメニュー。 ランドマーク。 ロードインタビュー。 イニシャライザー。 新しいメニューをローカライズネームで作る。 コレクション。 アプリ特定のコマンドの。 これで作って。 スタンダードロケーション。 アプリケーションメニューのスタンダードロケーション。 インスティアドインってなんだ。 初めて。 アルバリティすぎかな。 アプリ固有のコマンド群。 ローカライズされた名前で新しいメニューとして作成する。 このメニューはアプリの標準的なメニューの後、 明示的な位置指定なしで宣言された他のメニューと順序を揃えて損失される。 そんな英語だったのか。 まあいいか。 次やっていいかな。 アプリケーションのメニューの標準的なロケーション。 使われる感じ。 これはどうしようかな。 こう詰めといて。 ランドマークメニューの中でトグルするんでしたっけね。 ボタンか。 ボタンで、isfavoriteによってremoveまたはmarkというボタン。 markasfavoriteというボタン名でトグルをしていくと。 selectedrandmarkでメニューコマンド。 removemark。 まあそれでいいか。 だからやることとしてはこのボタンの中で。 selectedrandmarkのisfavorite。 あとか、isfavoriteね。 しかもファインをパソコンに出してればいいんだ。 selectedrandmark。 それが定義されていないのか。 ランドマークコマンドですよね。 ここでコマンドメニュー。 ここでコマンドメニューか。 だからここじゃないのか。 ランドマークコマンド。 ランドマークコマンドですね。 それで、サイドバーコマンドと一緒に コマンドメニューを並べておく。 やってるのかな。 やってますね。 これで。 selectedrandmark、ランドマークのisfavorite。 そして、favoriteまたは。 何だっけ。 remove全然違った。 favoriteだったらremove。 で、 マークか。 マーク。 で、これプラス。 プラスまだ使えないだけ。 asfavorite。 isfavorite。 この足し算が。 それのオプショナル。 これでいいですよね。 selectedrandmarkのisfavorite。 これselectedrandmarkがなかったとき。 このとき気になりますよね。 選択肢がなかったときはnilになるんで。 nilだった場合はisfavoriteが。 これ新記事入れてましたっけ。 あ、イコリコリやってましたね。 なので、isfavoriteが取れたときにはremoveになるんですけど。 これそもそもselectedrandmarkがnilだったとき。 取られていないときに条件として。 マークasfavoriteってなるのおかしくないですかね。 これ主にメニュー無くした方がいい気がする。 ifretをselectedrandmarksで育ったときに限って。 ここでね。 メニューをisfavoriteで判断して。 asfavoriteの手前がremoveまたはマーク。 こういった風になるようにした上で。 ここでボタンとしてラベルを置いて。 この中でselectedrandmarksのisfavorite。 これをトグルってあげる。 うん。 これでいいと思うんですが。 トグルが効かないですか。 immutable value。 selectedrandmarksがimmutable valueですよと言ってますね。 selectedrandmarksのisfavoriteのトグルというのをランドマークボタンでやっている。 あとdisableか。 selectedrandmarks="nil". これがあるからボタンが押せない。 えーと。 ボタンが押せない。 えーと。 グレーで出ているという感じか。 メニューが選べないメニュー。 つまりmarkerがfavoriteがグレーで出ているという状態をここでは作っているのか。 なるほど。 それはそれでありですね。 だからここでコマンドに対して。 えーと。 なんだっけ。disable。 selectedrandmarksのnil。 ランドマークズ。selectedはselectedrandmarks。 綴りがちだね。 これだったらとにかく。 disableとかselectedrandmarksこれがnilじゃなければ分離。 分離というかボタンの方の描画に入るよという形にして。 これがなければ完全にボタンの描画に反映しないというそういった感じですね。 そしてdisableはいいんですけど。 エラーがいっぱい出てますね。 丸カッコが多すぎるんですかね。 ここからボタンがこれで表現されていて、 コマンドが閉じていて、 丸カッコじゃないですね。 で、このカッコは? あ、でもカッコがこれも変ですね。 これもダメですよね。 ちょっともうちょっと考えないといけない。 えっと。ifselectでこのif文の丸カッコはifでコマンドでここが。 selectedrandmarksにdisableそんなはずないですね。 メニューに対するdisableですねこれね。 だからこれ1個前ですね。 1個前にしたときもダメというのはどうなった。 disableの場所がボタンメニューにつければいいんですよね。 要はね、ボタンにdisableをつければよい。 なので、うん。言った気がする。 で、ミューティングメンバーをイミュータブルできない。 だからミューティングボディにしてましたっけ。 どうだっけ。コマンドメニュー。 あ、そっか。selectedfocusedbindingだから大丈夫なのか。 うん。これね。selectedrandmarksね。 で、それでそのselectedrandmarksをここで使ってる。 で、そのボディのコマンズをあとは条件でコマンドメニューで、 コマンドメニューランドマークで、selectedrandmarks。 あ、ここラベル間違ってますね。isfavoriteは。うん。ないのか。いや、ラベルはいいんですね。 で、isfavorite、selectedrandmarksのisfavorite。 ここがトグルガイライナーってのが一個気になりますね。 えーと、使っていないミューティングメンバー。 イミュータブルバリュー。selectedrandmarksをredで定義されていると。 うん。で、selectedrandmarks。 あ、そっか。ここでしか使ってなくて。 で、これがselectedrandmarksでしょ。 あ、そっか。selectedrandmarksでこれが定義されているのがここ。 うん。ですよね。なので、これなんでだろう。 これがif文でいろいろ苦労しているのは何か。 えーと、selectedrandmarksでifレッドでしょ。 ここは。で、この何カッコの文字はここになってる。 やりてないね。やりてなくないか。 えーと、コマンド。あ、コマンドのカッコがないです。 あ、ネトンプラ。これ丸カッコがないですね。 これ単純なエラーですね。 これで丸カッコがここに来る。あ、1個目ですね。 あ、でもdisableだめですね。 ボタンに対してdisable。で、boolがあって、bを返す。 disableって何か違うね。disableってbを返す。 bを返していない?あ、そんなことないね。 で、これでもう一回。bodyのコマンドのbodyのdisable。 body?bodyか。 えーと、bodyはもう1個は?んー、どこだ? これはランドマークコマンズですよね。 ランドマークコマンズで。えーと、bodyのコマンズ。 ランドマークコマンズの中でbodyのコマンズが出ますね。 で、それで。コマンドメニュー。コマンドメニューで。 あれ?えー、トラベルこの辺おかしいのかな? disableあれ2つあるか。いや、そんなことないね。 これは無くすと無くしてもかまわないですよね。 で、もう一回。あ、先の方のこれか。 disableでboolを渡す。 なんだっけか。あれ?おかしいな。んーと。 ありにい部分がなくて、で、ここの条件が="true",で、で、それでここが? apply? あー、オプショナルエンディングね。 で、それで。 で、disableがやっぱり聞いていないと。 えーと、ボタンテキストがノーメンバーディスエイブルだって。ボタンテキストね。ボタンテキストがディスエイブル。 ボタンのテキスト。ボタンディセイブル。ボタンのラベル。あ、ラベル? この並格はボタンですよね。 で、ボタンで?これなんか混乱してるな。 ボタンでディセイブルでしょ。ちょっとコピペしましょうか。 これなんだった?集中力と同じような。 えーと、これをとりあえずどこまでコピーしたっけ? ボタンだけか。なのでボタンから全部。 こうしたところで並格がまず1個足りなくないか。 こうしてエレクティブランドマークに上がってまくってますね。 えーと、エレクティブランドマーク、ランドマークス、エレクティブとっては、えーと、まあまあ変数はランドマークスだから、ランドマークスにして、うん、あ、これは通ったって感じですね。 で、そうすると、あ、これでラベルが、んーと、うん。 ラベルの前にこのifretショートハンドを復活させて、このifretショートハンドでディテラキストすると、ここがオプショナルじゃなくなるよ。 で、オッケーで、エレクティブランドマークスのifretここか。 ここがローカルの名前になっているから、えーと、ifretランドマークイコール、あれ、セレクティブランドマークだから複数形じゃなさそうですね。 で、これでセレクティブランドマークでいいですね。 で、それでセレクティブランドマークという形で引き込んでいくんですが、これでいいのかな? で、ランドマーク、うんうん。 で、ここもランドマーク。 えーと、ここ、ここはランドマークですね。 ラ、ランドマーク、ここがランドマーク。 で、ここもランドマーク。 で、セレクティブここか。あれ違うか。セレクティブランドマーク、itsfavorite、ここか。 あーなるほど。じゃあこれをランドマークに変えて、で、そうするとここがランドマークのitsfavorite、itsfavoriteのトグル。 トグルのエラーは、えーとミューティングか。 itsfavoriteはミューティングだし、あとはコピーなんだこれが。ちょっと厄介ですねこれね。 ランドマークコマンド。うん、なるほど。 えーと、つまりね、これが今の状況だとセレクティブランドマークを、バインディングか。バインディング?フォーカスとバインディングってやってんのかな? あとしての情報はバリューフ。バリューフか。 うん、まあ値は取れてるってことですかね。 で、それはそれとして、まーてこれか、えーとセレクティブランドマークのitsfavoriteを加入するときにこれバインディング? あー関係ない。今のすごい適当にやった気がする。ランドマークはランドマーク型。ランドマーク型っていうことはオプショナル。一応セレクティブランドマークがオプショナル。 なのでこっちはセレクティブランドマーク、えーと、セレクティブランドマーク、これがランドマークのオプショナルですよね。 で、ifredとかランドマークは、ここなんかプロパティの表示変ですね。 ビルドしてみますか、いっぱい。えーと、ビルドしてみて、テマークOS用ですよね。 テマークOS用で、なんか選ぶか。2カ所。ここ。ここで、ミューティングメンバーを使っていない。で、ランドマークリスト、ランドマークスのシンボルがないと。これね。ランドマークス、あ、そうね、これはランドマークだけど、ニルなんてないって話ですよね。 なので、えーと、どうするんだ。ifも使ってるからdisableにする必要がないということですね。とりあえずね。 で、そうすると、残りとしてはトブル。iffavoriteのトブル、これをやらないといけない。で、トブルは書き込みできないようになってますよね。 レッド、ミューティブランドマーク、イズフェイバリットはそういう性質なんですか。えーと、ランドマークのイズフェイバリット。あー、ランドマークのね。あー、なるほど。 だから、これ、バインディングに何にもなってないので、まあ、ダメですよということなのかな。でも、そうすると、セレクティブランドマーク、あ、これ、型が出てないのか。バインディング。で、ランドマークのバインディングか。 セレクティブランドマークで、バインディング。 トブル。トブル、ダメ。えーと、バインディング。ランドマーク。ランドマークがバリューって言ってますね。ランドマークがバリュー。 2フレット、これは独立してますよね。 あ、ここの足し算かな。この足し算がなんか気になる気がする。えーと、ラベルの時には、asfavoriteという文字列の中でやってたので、 そのasfavoriteのラベル。ラベルはどこで使ってたんだこれ。えーと、ラベルは、あ、これだ。イズフェイバリットによってボタンのラベルか。だから、ん?ボタンのラベル? コマンドメニュー。コマンドメニューのラベルですよね。セレクティブランドマーク。これはアクションですね。ボタン。あ、コマンドメニューの中でボタンか。安全なところを忘れてますね、ボタン。 で、これで表示名を追加して、ドブルする。だから、これでタイトルを決めたらボタン作んなきゃいけなかった。全然忘れてた。ボタン、ラベル、で、ナミカッポ。で、あー、トブルまだできないか。えーと、セレクティブランドマーク。 とりあえずランドマークをオプション。これはね、見たときにランドマークバーですね。ランドマークバー、セレクティブランドマーク。これが、えーと、バインディングですよね。だから、あれ?なかなか働かないですね。えーと。 ランドマーク。なんか、セレクティブランドマークだったらいけるってことかな。セレクティブランドマークの、isFavorite。これならいけるな。 だからここで、ifletsショートカットを使ったときに何か問題が起こってますね。で、セレクティブランドマークは、ランドマークのバインディングを読み書きする。って書いてあるんですけどね。バインディングを読み書きして。 で、えーと、でもこれがオプショナルとか関係ないってことか。これはね。うん。なのでバインディングが通らなきゃいけないとなるとこれでいいのかな。なんかアンバランス感を感じて。それだから上の方もちゃんとね、セレクティブランドマークをそのまま使うってことがありますよね。 そうしますかね。いっぱいね。そんなことも働かない気がするので、これで、えーと、Athenaでやってるとビッグリマークでいいんじゃないかな。 いつでも、なんかアラートをいじったときにですね、ボディが先に呼ばれてたんですよね。アラートの表示の有無にかかわらず。だからここが大丈夫なのかなっていうのが心配ですけど、まずやってみましょう。 ビッグリマークを使う、そのね、利点としてはまずUnwrapが定時的には必要ないのでコードの見通しが良くなるのと、あとはね、それを使ったときには絶対あるでしょっていうようなとき。 なので、コマンドメニューで、この中がね、後で実行されるようだったら、条件一致してないね。これですよね。あーそうか。コマンドメニューランドマークスでボタンがあって、これNilだったらDisableなだけであって、Nilのときも別に行きますね。普通にね、今回のコードだとね。 これオプショナルじゃないとダメですね。オプショナルにするとこれで通るわけですけど、選択されていないときにはマーク。そこはいいんですけど問題もしていないときね。そういったときも別になってね、お気に入りではないとね、言われて。まあ大きな間違いはないんでしょうけど、そういったことが起こるのはちょっと注意しないといけなくて、リファクタリングの課題ですかね。 とにかくそうやってグローする形をとって、キーボードショートカットでFでシフトオプションね。なのでここでキーボードショートカットでFでシフトオプションですね。 メニューを追加できたが、セレクトランドマークのフォーカスができていないので、ランドマークリストでセレクティブランドマークをね、ステップに追加して、それでここでリスト、インデックスとかあるけど、とにかくUFO1の中で、ランドマークリストの中でセレクションを使っていくっていうね、そういったやつですね。 これに対して、セレクティブランドマークでセレクションが、あ、ここにあった。セレクティブランドマークIDで取っちゃってたのを、IDで取った後はどうするんでしたっけ。これでセレクティブ、あ、使ってないでしたっけね。 定義はここにあったプライベートバーね。それでこのプライベートバーの使い道はどこかっていうと、ナビゲーションのリストのところにバインドするのと、あとは変数として持つの、どれだけか。 そうですね。それで、これのセレクティブだった場合には、フィルタードランドマークとかやって、こういうのかな、こういうのを今見てたとこですね。 IDに対してランドマークで、フィルタードランドマークに対してだから、セレクティブランドマークIDはここに何もしないでしたっけ。 あとは選択すればデータを選ぶですもんね。そのIDを使って何をするかっていうのが、あれどこだっけ、使ってないってことか。 そうかもしれないですね。 だからこれで、この後何をしてたんですっけね。バインディングか。バインディングを取っていた。 セレクティブランドマークでランドマークを取り、それでセレクションで選べるようにし、フォーカスバリューモディファイア、これを使って、ナビゲーションスプリットフューがバインディングの提供をしていくよといったお話で、とりあえずここのセレクションまで置きますかね。 というか、ここまでにしておきますかね。とりあえずね。 今のところはセレクティブランドマークIDを使って、IDでフォーイキ回して、セレクティブランドマークIDを取っているという形で取っていて、これでもいいと思うんですけど、今回のチュートリアルみたいにフィルタブランドマークで回っているから、タグを設定しておいて、それをセレクションで取っていくっていうことでやってもいいのかなっていうね、そんな感じで。 このフィルタブランドマーク、これをちょっと見ておきたいなと思うんですが、これは何だ、ボディの中か。これはバインディングのランドマークですよね。なので、セレクションでやるとすると、バインディングのランドマークに対してやらないといけないのか。 ただし、それは発信になっていないので、IDを取ることができない。なので、ここでは純粋に、あれ、IDで取ることができないって言ったっけ。発信なので、ランドマークのバインディングでセレクション管理するわけにはいかない。それでやりたいんですけどね。バインディングで取れれば理想なんでね。それでやりたいんだけど、ダメなのかな。 IDで取ってて、そうですよね。だからIDでやるしかなくて、その後ね、実際に動くコードを書いていこうっていうふうになった時には、IDから、それからモデルでからIDを使って、抽出して、それで抽出したランドマークのデータ、これをいわゆると扱っていく。 あまりインデックスで設定したくないってずっとやってたんですけどね。ここはどうにもならない気がするけど、とにかくチュートリアル通りに実装してみたから、もう一回ね、改めて、本当にそんなことできない状況なのかなというのを調べてみれば、まあ、頑張んじゃでしょう。見つかろうと見つからなかったね。ということで、いいかな。セクション8でしょ。セクション9。これで終わるか。じゃあこれやっちゃおう。やっぱり。 なので、やることとしては、今回IDで取ってる、ここからランドマークで取ってるけど、ランドマークで取っても何とかなるでしょう。まあ、インデックスさっき拾おうとしてたんでね。IDからインデックス取ればいいということで。それで、これで次。ここを見たっけ。タグね。今回は使わなかったよってそういったお話。ここをね、スクロールしながら一瞬で飛ばしちゃったけど。なので、これでよしで、それで次。 フォーカストバリューモディファイヤーを使って、スクリプトビューに使った、バインディング、ランドマーク2アリのアタイとバインディングをする。モデルにちゃんと書いてあることに反映されることにしましょうって話でしたね。それでこれで、モデルの中でモデルデータをバインナブルにしてあげる。今モデルデータはエンバイオメントで起きてるんで、これをバインナブルにして、直接扱いながら、どこだ、直接扱いながら。 フォーカストバリューモディファイヤーを使って、スクリプトビューに使った、バインディング、ランドマーク2アリのアタイとバインディングをする。モデルにちゃんと書いてある、バインディング、ランドマーク2アリのアタイとバインディングをする。 リストの中のボディと、リストの中のボディとコードがあった方がいいかな、ファイル名がこれでいいですね。 それでボディの中で、このフィルター情報を取る前に、 アッドバインダブル、レッドモデルデータ、エコール、レッドモデルデータ、違うエンバイオメントだからいいな、これでいいな。 これで、プロポティロッパーの時は、今のプロポティロッパーですね、確かね。 それで、ランドマークリストを取って、これで、ナビゲーションスクリプトビューのところに、モディファイヤーですよね。 あれ、そうなのか。こっちだと思ったけど、違ったのかな。 まあいいか、バインディングのランドマークが手に入るような、そんな風になっていて、できてるね、ちゃんとね。 それで、エレクティックランドマークトップルとかをやってるけど、これはリンクだからいいのか。 ここにバインドしたバリュー、それをだから、モデルデータで、ランドマークス、 間違った、ランドマークス、バインド、ランドマークスに何か怪しましたね、IDで取るやつ。 どちらかのモデルに取ったんだったかな。 ファーストじゃなくて、ここじゃないか。 モデルデータの方、これを見ると、何を載せたか。 バインディングランドマークスとかじゃなくて、モデルデータ、ここは違うね。 で、違ったとするとランドマークの定義ですかね。 ランドマークの定義、ここのランドマークトですね。 で、それで、この中で拡張、バインディングじゃなくてシーケンス、この辺ですね。 エレメントバイIDか、ああ、なるほどね。 シーケンスに拡張した都合で、名前が非常に分かりにくくなってるっていう、こういった問題が気になってたやつだ。 完全に思い出せなかったやつだね、今ね。 これがランドマークバイIDだったらよく分かるじゃないですか。 そっちの方がいいのかもしれないですね、これね。 あ、でもあれか。ランドマークスの中で要素1個をね、取るよっていう。 だからこれサブスクリプトを搭載してもいいですね。 サブスクリプトっていうことは、もう一回シーケンスでいいのかな。 えーと、サブスクリプトで、IDという風なラベルをつけて、ID効果がないとダメだな。 で、それでエレメントのIDですね。 で、こうしてあげて、戻りキーはエレメントのオプション。 そしてあげた上で、エレメントバイID、バイIDこれでIDを渡した。 こういう風にしてあげると、上と下も同じインターフェースなので、 どっちかというと、74行目のこれを廃止して、 14行目を残した方がいいのかなという気がするので、後でやりましょう。 とりあえずこうしてあげると、えーと、どこだ。これか。 ここですね、リストの中、もう一個戻ればいいかな。 ここの中のランドマークのIDとして、セレクティブランドマークIDですね。 で、これが0だった時、その時は0にするよっていうお話になってたわけですよね。 ユートリアルではね。 ただまあ、ランドマークリストが0個ではないとは限らないですよね。 あれ多分、おかしい。おかしいけど動きはするのかな。 あれ、果ての果てのダメだった。セレクティブランドマークIDが違う。 セレクティブランドマークIDはintのオプショナル。 オプショナルということは、モデルデータのランドマーク数の、これか。 インデックスを0にしてるのか。そういう意味ね。 なるほど。やりたいのはこっちだ。0にするか。 セレクションがなければランドマークIDを0とみなしてやって、 それで、もしランドマーク数が1個も要素がなかったら落ちますよね、これね。 だからあんまり良くないと思うんですけど、まあいいか。 で、それで何て言ってるの。セレクティブランドマークが、えーと、どこだ。 セレクティブランドマークは、バイトプライベートのプロテクションレベルのセレクティブランドマークIDにアクセスできません。 セレクティブランドマークIDはプライベートですよ。 ここはいいですよね。自分の関与してるとこなので、見ると間違いだったんですかね。 えーと、どこだ。エラーメッセージをちゃんと見ろということで、セレクティブランドマークはこっちのところか。 これがインアクセシブルでプロテクションで、バイトプライベート。 あー、これね。プライベートにしちゃったのが問題と。 特にこっちですね。特に、まさにこっちですね。 で、セレクティブランドマークは外からアクセスできるようにして、 セレクティブランドマークキーがあって、これは定義して、ここの中でしか使わないのでプライベートが多等ですよね。 そして、こっちのランドマークコマンドは外で使うから、これが多等ですね。 そして、OKとRepeatが通って、これで動かしてみましょうって話でしたっけ。 チュートリアルはね、確か。 チュートリアルを動かしてみて、新しいメニュー、アイテムを確認する。 えーと、あ、追加したからか。これを選んで、あーなるほどね。これを選んで、ランドマークからリムーブ。 リムーブ。あ、そっか。 なんかこの横が動いてるのがすごい気になったんですけど、まあやってみよう。 お気に入り外すかどうかだけでしょ。 なので、ディテールビューであんなにね、大体動く必要ないはずなので、どうなってるんだろうねっていうのがすごい気になった。 えーと、アプリ、これはチュートリアルだからよくて、アプリから。 で、メニューが、今のところはもしか、ランドマークの、えーと、マークス、そうそうそう。 マークアド、なんか間違ってるね。メニューの表現が間違ってる。 えーと、マーク、えーと、どこだ? マーク、マーク、えーと、こんな闇雲に探すものでもないか。 えーと、コマンドですね。どこだ? まず、あー、スペースが足りないですね。 これが、あ、そう、これ優先度変ですね。 ラベルがあって、ボタンのラベル作るときに用意しましょう。 うん、これだと多分マークにしかないでしょ。 っていうとこだってね。 なので、こうして、えーと、ストリングインターポレーション使って選べる。 ラベルアドフェイバリット。 ね、これでいいですね。 これでいいけど、課題はいろいろありそうな感じで、えーと、実行かけて動いて、 で、これで何にも選んでない状況。 その時はランドマークのね、マークアドフェイバリットっていうメニューが出てきて、グレーアウトしてますけど、 まあまあこれは、まあ選べるのが分かっていいんですかね。 こういったのでエディットとかでもね、オフィーとか別に。 エディット、エディットとかでもね、グレーで出てますしね。 まあこんなノリで考えればいいんでしょうけど、まあ選んでないのに、ログインできないのにね、これが出てるのが気になります。 で、シルバーサーボンクリック選んだとして、出てきた。 で、これでランドマークから、マークアドフェイバリットですね。 これを選ぶと、あの、いいのですね。 自分が作ったやつがそうなってるだけかな、わかんないや、言えなきゃいいですね。 で、もう一回やろうとすると、リムバードフェイバリットになっていきますね。 で、他のものと、これをオプションシフトフェイバリットですね。 このショートカットキーでも引ける。 ここが一瞬、ランドマークのメニューのところが近々となって、そうそうそう、これも大事なとこですよね。 ショートカットキーだけ押しているという状況もたまにあると思うんですよ、メニューからじゃなくてね。 押したときにメニューのどこにあるんだろうみたいなのを知りたいとき、ルイージしたものって同じ辺りのメニューにあるじゃないですか。 なので、OPとかもそうかな、これを今は選べないか。 G押したらリストがヒットしたけど、まあいいや。 この感じで、近々と押したときに光るんで、ルイージするメニューはあそこにありそうだなみたいな、簡単に渡すためにやる。 肝心なのは、フェイバリットオンリーにするとグッドカード減るじゃないですか。 これでお気に入りを消して、お気に入りを消して、まあこれはいいですよね。 で、エトリアルトは外れて、お気に入りを消した途端にフィルターがかかったといなくなって、もう一回間違えたみたいなのを直すときに大変なことになるので、次フィルターをいじるときまでは残しておこうと実装しました。 まあ、とにかくそれはお向きとして、今お気に入りが全部なくなった状態ですよね。 これで一回お気に入りのみじゃなくてもいいや、Xとか選びましょうか。 押したときに、こっちはしないのか、動くのか、メニューは? メニューはマウントワーズフェイバリットがここにいるからだとアドレロックが。 これはバグですね。自分の行動が想定してないですね。 フィルターを更新したときにいなくなったのに表示されていたら誤解を見ますよね。 リストにいるものだと思うじゃないですか、アドレロックが。 なのでこれは大問題ですね。直さないといけないですね。 で、これでマウントワーズフェイバリットができるけど、これやるとどうなの? っていう名もならない。 何にもならないけど、たぶん言いますね、これね。 アドレロック割り、リバーストかな? あ、ありましたね、ちゃんと。 こちら、裏では付いてる。これバインディングの都合で、ビューには反映されない。 ビューとのバインディング。 ビューと反映しているバインディングは古くなっちゃって、 評価できなくなっているけど、モデルデータとはつながっているので、そこが変わるというね、そういった都合ですね。 やっと言えるようになった感じですね。 とりあえずこれで、マウントワーズフェイバリットで落ちなかったですね。 落ちるかと思ったんだけど、落ちなきゃいいのかな。 インデックスが、要は、インデックスが、 0.8.0なんてほとんど使ってないから、これでいいや。 エレクティブランドマークIDまたはゼロ。 何も選択していない状態から、あとフォーカスバリューが、 エレクティブ、ああ、そういうこと。 バトルロック、バトルロック偶然かなこれ。 フェイバリットALLにして、フェイバリットONLYやめて、 バトルロック一番上じゃないですか。上じゃない方がいいですね。 セントマリーレイクにして、それでフェイバリットONLYにすると、リストが全滅して、 それで、ランドマークから、このマウントワーズフェイバリットができるという状況ですよね。 それで、これを押すとどうなるんだ? どうなんないか。どうもなんない。 これで、セントマリーレイクで貼って、リバースにして、 これでゼロ、フェイバリットONLY、これ取ってもいいや。 これ落ちなかったですね。今リバースは何にもない状態ですよね。 それで、セントマリーレイクですよね。 リバース、リバースもやめようか。 マウンテンズにしますか。いないという状況で、 セントマリーレイクをお気に入りを、リムーバーズフェイバリット、 ああ、いいかも。リムーバーズフェイバリット。 もう一回、メイクアーツフェイバリット。 この操作してるのが、多分バトルロックなんでしょ。 これで、お気に入りにして、 フェイバリットONLYを外して、ここはこっちか。 フェイバリットONLYでもよかったな。 フェイバリットONLYで、REXにすると、セントマリーレイクが、 セレクティブモデルのランドマークのIDが、 セレクティブランドマークIDまたはゼロ、IDがゼロ。 IDがゼロなんてそもそも言いましたっけ? どこだ、モデルデータ、モデルデータじゃない。 モデルだ、リソースだ、リソースの中のランドマークデータ。 IDって1001とかですよね。 えーっと、間違えた。 これだけを閉じたいのですが、まあいいか。 戻ればいいんだ。 だからこれでね、セレクティブランドマークIDがニルだったとき。 あ、そっか。ニルだったときか。 あーなるほど。 だからセレクティブランドマークIDを 消化してないですもんね。 あの、リスト、フィルターを更新してもね。 だから選択状態になってるんだ。 これがニルになったときにはIDが見つからなくて、 そうすると、IDが見つからなかったときには、ランドマークIDだから見つからなかったときには、 あー、そういうことか。ニルが変えるんだ。 で、このフォーカスバリューはオプショナルを取る感じですね。 だからインターフェースではないんだ。 だから問題となってくるのは、何も選択していない状況で、フィルターを動かして、 そのときにたまたま、今回ゼロがIDにないので成り立ってるんですけど、 ランドマークのIDが、ゼロが設定されているものがデータの中にあったりすると、 それが選ばれちゃうっていうね。 そういった問題になって、バインドされたっていう問題が出てきて、 仕様では、ゼロよりも大きい値をIDとするよって仮に言ってたとしても、 コースコード的には、ゼロが混ざってきちゃったときにそれが分からないわけですよね。 なので、昔のNSノートバウンドみたいに、見つからなかったらマイナス1、 見つかればゼロ以上みたいなのは、そういう人の、というかモダンな言語の時代になったときには、 要はヌルランデンですよね。時代遅れっていう発想で成り立ってる世界の中で、 これ、つまり時代遅れなコードになってる気がするんで、 ゼロを何とかしないといけないという状況になってる。 モデルデータのランドマークもそうなんですけど、 セレクティブランドマークIDがあった場合には、 モデルデータランドマークIDとして、 サブスクリプトじゃない方法、 なんか無くそうと言ってた方が使えちゃいますね。 だから、サブスクリプトじゃなくて、 .element by ID、これでいいですね。 こうしてあげれば、あれ、ダメか。 ここが足りない。これだけですね。 マッチがあった。フォーカスバリューが簡単にできるとか、簡単にできなかった。 マッチしなかった。フォーカスバリュー。 それで、セレクティブランドマークIDがオプショナルでしょ。 オプショナルイントですよね。 それで、マップだからあったときは、 モデルデータのランドマークのelement by IDで、 そのIDで検索して、 それがオプショナル?いや、オプショナルでいいですよね。 見つかなかったら、ニルになってくれれば全然OKなんでね。 なのに、これは合わないって言われてましたね。 フォーカスバリューで、バインドしていて、 セレクティブランドマークバインドですもんね。 あれ、できると思ったんだけれど、 やっぱり並格化にしました。 それで、また元のやつに戻して、by ID、IDだから0。 で、これで、並格化として丸格化として、 ビルドをかけると、 ビルドをかけると、by、ここがIDね。 これで、ビルドをかけると、これは通ります。 あ、通らない。 あれ、通らない。そうなんだっけ。 オプショナルじゃダメなのか。 ちょっと待って。待っても何もないか。 これでバリューのオプショナルですよね。 だからオプショナルでよかったですよね。 という状況で、ランドマークのIDで、 ここでIDがあって、 セレクティブランドマークマップで、 これなんてダメなんだ。 見るかどうか。オプション、バインディングのエレメント。 これが、アンラップする必要がある。 バインディングランドマークの、バインディングランドマーク。 ランドマーク、ここじゃないよね。あ、ここか。 ランドマークID、これをオプショナル解除に してるからって感じか。 結局、これで オプショナルが返ってきて。あー、コンパクトマップかも しかして、コンパクトマップ。 アー違うか。コンパクトじゃないか。コンパクトイント。 コンパクトマップ?イント? あーオプショナルだからね。 マップでこれで。イントもオプショナルも、 イントでこれで、アプショナルが返ってきて、 といいいと思ったんだけど何かすると。 ビックリマークにすれば、バインディングの、 バインディングのエレメントというのがなんだろうね。 ランドマークмуスのエレメント。 サブスクリプトですよね。 サブスクリプトはここら辺。ITじゃなくてサブスクリプト。 サブスクリプトの出来てることはどれの面倒なのか。 あれ?ランドマークスのエレメントバイIT。 これ、タウンと一緒なんで、とりあえずこれでやってみますか。 これでやってみて、これだとダメって言ってるわけですよね。 それでエレメントバイITがオプショナルになるのが問題だって言ってるわけですよね。 これで返るのがエレメントの果てなんですね。 とってもサブスクリプトの場合、一般にランタイムエラーで落としそうな気がしますね。 今そのことはどうでもよくて、オプショナルが返る。 なので、セレクティブランドマークIDのマップで、なかったらなかったでランドマークス。 これのバインディングのエレメントバイITで、 なかった場合はニルを返せばいいのかな。 これもニルはず、バインディング、ランドマーク。 これ違うか。 あれ?これ落ち着いて手直したほうがいいのかな。 っていう感じがしてきましたね。 感じはなかったか。 こういう表情擬音の悪さは何なんだろうか。 これでクロージャーでマップスタートを返すのか、バインディング、ランドマーク。 これを返してほしいわけですよね。ここでランドマークス。 モデルデータでランドマークス。 そしたら、バインディング、ランドマーク。 ここを置いて、バインディング、ランドマークを返したとき、位数はIDですね? それでID、バイIDで出して、オプショナルですね。 それでバインディング、ランドマークは、 オプショナルではなくバインディング、ランドマークをアンラップしないといけない。 ランドマークスElement gars、オプショナル が変えた場合、バインディング、ランドマークでID、 ではオプショナルですね? バインディング、ランドマークかifferentialかですね? この話としては、モデルデータの中で、 ランドマークスのモデルデータ、モデルデータを、 これアリに変換するのかな? これでバインディング、ランドマークに変換できたのか? 自分で分からなかったという感じなんですけど、 作りはしましたよね? それでエレメントで、何か勘違いしていると思うんですけど、 アンラップしないといけない? アンラップしないといけない? マップでオプショナルを返す。 これはオプショナルを返しているんじゃないのかな? このことはやらなくても、ここでresult="="でいいと思うんですけど、 これでresultのカッターは、ランドマークのオプショナル? ランドマークか? エレメントが、エレメントbyidが、 外れなくなっていた。 だから、ランドマークスイコールーター、 モデルデータの中で、細かく分けていくと、 見えるようになるんで、よくこういう風にして、 謎のとき調べますけど、バインディングこれはダメなのか? これがダメになった。 ここでランドマークスのカッターが見えないのか? なるほど、ここからやるのかな? ちょっと長くなってきちゃいましたね。 解決したくなるんですよね、ハマっちゃうとね。 バインディングの配列が取れていると思うんですけどね。 それで、バインディングの配列が取れている中で、 バインディングのランドマークスになっているんで、 あそこから選んであげればいいのか? ランドマークス、ファインドですね。 ファインド、ファースト、ファースト、フェアで、 $0のip、イコール、イコール、$0、こういう風にして、 これを返す分には、アップイコール、イコールがダメか? これで、ディターン、ディターンはいらないんですけど、 押してあげると、ファーストがダメか? オプションタイプ、また同じですね。 だから、自分の勘違いか? フォーカスバリュー、フォーカスバリュー間違ってるのかな? Bindingのランドマークスですね。 それで、フォーカスバリューの定義は何かっていうと、 バリューがあって、バリューというのは、 Pathで戻り値がバリューオプショナルで こうなってしまうんですよね。 なので、Bindingのランドマークスもオプショナルですよね。 欲しいのはね、これのキーがそうなんでね。 なので、これが、 今オプショナルが2つになっちゃってるんだ。 戻り値で、これが、 イントが無かったとすると、オプショナルのマップっていうのは、 戻り値として、イントを返した場合は、イントのオプショナルになるわけですね。 オプショナルを返したときには、イントのオプショナルになる。 Bindingのランドマークのオプショナルを返した場合には、 オプショナルのオプショナルにならない。 受け取らないといけない。 なので、そうすると、オプショナルの場合って、 フラットマークでいいんだ。 こうすると、2度フラットにしてくれるんで、 これでOKでしょ。 ここがイコールで止めるよって言われてますけど、 これはOK。 だから、ランドマークスのIDで、 ここで、IDのエレメントにしようかな。 ランドマークス、エレメント、IDで、IDを渡す。 これで通りました。 勘違いして。 これを簡単にしようかなということで、 クロージャーを止めて、直接渡してあげる。 ランドマークに押してあげれば、OK。 こういう感じ。 これで、まるっかっこがない。 こんな感じですね。 いや、なんか簡単とか言って、相当時間かかっちゃいましたね。 でもこれで、IDが見つかったときは、ニルになるんで、 ちゃんとフォーカスでバリューに。 余計のものがリンクされなくなる。 あるいは、IDがゼロのものがリンクされなくなるっていうのは、 非常に大事な安全性の、今のときの安全性を保有する上で大事になってくるやつですね。 ここサブスクリプトできるのかな? サブスクリプト渡したいんですよね。 どっちかというとね、こんなことできるのかな? そんなこと無理ですよね。 じゃあこれで、消化の意見がこれくらいの規模だったら、 サブスクリプトでやっちゃってもいいですね。 フラップをマップで、あれやっても、そうか。 リッチ行動だけじゃないんだ。 ああ、そうか。 そうね。そうすると、やっぱりIDがいいですからね。 もっと簡単にできそうですけどね。 できそうもそうだし、別に分ければいいんだ。 算数で。 セレクティブ、なんだろう。 セレクティブ、バインディング、ランドマークみたいなのを じゃあこれで、とりあえずユートビュアルのセクション6が終わったので、 次回セクション7をやってみますかね。 リファクトリングももうちょっとまとまってから、 いろいろやっていく感じにしましょう。 はい、じゃあ今日はこれで終わりにしますね。 お疲れ様でした。

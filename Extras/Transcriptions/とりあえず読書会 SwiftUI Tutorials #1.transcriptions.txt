Transcription & Summarize : とりあえず読書会 SwiftUI Tutorials #1

とりあえず紹介を始めていってみましょうか。 今日からSwiftUIチュートリアルを読んでいきたいなと思って。 これ以前にも読んだことあるんですけど、そのときアーカイブにも残してはあるんですけど、 そのときに色々と遊びながらやっていた都合で、 Appleのビジョンプロの映像を映してやっていた都合があって、 すごく見にくいんですよ。 それでも可能性があるかなと思ってやってみたんですけど、 素直なこういった二次元の、 こういった形の方が勉強界向いてるなという気がして、 見れるものでもないなみたいな、音だけ聞けばいいんでしょうけど、 そんなの気になっていたことがあったので、 改めてSwiftUIチュートリアルを普通な感じで読んでいって、 ちょっと読み終えてみようかなと、そんな感じですね。 SwiftUIは自分はそこまで積極的に使っていない。 良い人は使ってるとかそういうわけでもないんですけど、 そういった都合であまり馴染みが薄いっていうのもあって、 なおさらSwiftUIのこういった本を読んでおいて、 馴染みとくっても重要かなという感じで読み進めていこうと思う。 まず先にSwiftUIチュートリアルのドキュメントでも見ていってみますか。 これが英語のドキュメントしかないんですかね、おそらくね。 なので、ちょっと自分は英語が苦手なのでずらずら読めるのかなという不安はありますが、 最近は結構英語も読むためのツールが世の中にはだいぶ広がっているので、 なんとかなるでしょう。 そんな感じで読んでいきますが、まずは導入部分からで終わっているんですかね。 SwiftUIがモダンな方法でユーザーインターフェースを定義する、 Appleプラットフォームのすべてのツールってのが多いかもしれないですね。 そういったのを作るのにだいぶツールですね、モダンなやつ。 モダンって言うのが面白いですよね、宣言的なUIの定義っていう形で、 そういった人流が出てますけどね。 他のAndroidとかでもなんて言うんでしたっけ、 ジェットパックコンポーズって言ったっけ、ちょっと難しくわからないですけど、 そういった風な形でね、同じような表現方法を選んでいくし、 それだけじゃなくデザインとかもね、 一時期フラットデザインとかで急にAppleもMicrosoftもかな、 あとGoogleもいいらしたりとか、 なんか流行ってどうやってできていくんだろうねっていうのがそういったのを見ると不思議で、 今回今度Appleがリキッドグラスっていうデザインのユーザーインターフェースを次のOSで発表しますけど、 これのペタペンを使ってみる感じではね、良い感じですね。 最初は微妙だったんですけど、バージョンが上がっていくにつれて、 なんか綺麗に良い感じになっていってる気がするんで、 そういったのもね、他も真似てくるっていう感じなんですかね、今回は。 一斉に動かなかったものね。 まあまあいいや、とりあえず終了してるのは不思議だなと思いつつ、 ソフィットUIの今時のUIの書き方で、結構書きやすい感じにしますよね。 なのでこれを学んでいくのが立ち上がるというかなんというか、 良い感じかな。 で、美しく素敵なアプリを以前よりも早く売れるらしい。 UIキットの結構速度とかはね、気を付けて。 UIキットの裏側ではちゃんとGPUを使って書くから早いみたいな、 そんな話はよく聞いてたものですが、早いのか。 構造が全然違うでしょうからね、また面白いね、速度の違いみたいな。 なんか全然特殊な違いみたいなのが出てきたりするんですかね。 このGet Startedを押すと何が起こるの? えっと、ソフィットUIエッセンシャルですか。 これ1個前の画面の下にあるね、このソフィットUIエッセンシャル。 このチャプター1ですね、今日はね、ここから始まるということのようで、 このチャプター1、ドローイング&アニメーション、これが全部小ですね。 だから、ここを普通に読んでいけばいいんですかね。 レーティング&コンバイニングビューズって書いてある。 一応このGet Startedを押してみて、そこはよく書きますね。 はい、じゃあここから読んでいきますが、えっと。 作ったり組み合わせたりしていくらしいビューをね。 ソフィットUIチュートリアルとか見せちゃうかな。 これぐらいのいいですかね。 ソフィットUIはなんか、ランドマーク、ビルディング、ランドマークスというものを作って、 見ていくような感じみたいね。 このアプリ、アップデートする、シェアする、プレイする、好きな場所をシェアするもので、 ランドマークの詳細を見るページを作るところから始めると、 これをレイアウトするのに、ランドマークスはタッグというのを使うらしい。 それで組み合わせたり、イメージとかデジタルとかのコンポーネント、 そういったものを組み合わせて配置していくと。 アップビューを追加するために、標準のマップキットというのを使ったりとかもするらしい。 よりデザインを良くしていくために、リアルタイムフィードバックというのがあって、 それでフォードをすぐに見られるらしい。 ダウンロード、プロジェクトファイル、ビルディングディスプロジェクトアンドローザステップ、 これをダウンロードすれば良いと。 読んだんですけどね、テキスト忘れてますね。 とりあえずダウンロードしてそれをいじっていけばいいと、そういうことみたいね。 ちょっとやってみますか。ダウンロードしたのを開くのかな。 まずはちょっと読んでいってみますか。 新しいプロジェクトを作ってキャンバスを見ていく感じみたいね。 新しいコードプロジェクトを作る。 それでキャンバスプレビューというアイテムプレートコードを見ていくと。 プレビューを見て操作するというキャンバスで操作するために、 こうしてスーププレビュー、それとか最新の機能かな、デュトリアル。 なんだろうこれは。XコードのキャンバスからPを見たり、 操作したりですよね。 最新の機能、ディスクライズ、デュトリアルで書かれている機能ですかね。 それでMacで立ち込められるんで、MacはOSそのままかそれ以上。 これは大丈夫そうなので打っていく感じですね。 まずXコードを開いて、とりあえずニュープロジェクトを選択してプロジェクトを作っていく。 その上でテンプレート、iOSのアプリケーション、これを選択して次へ行く。 ランドマークスを入力して、SwiftUIのインターフェースとSwift言語を選択し、それで次へ行く。 まずここまで行ってみましょうか。ランドマークスね。 XコードのニュープロジェクトでiOSアプリの、 ランドマークス、ランドマークス、言語がSwiftでインターフェースがSwiftUIのボディですね。 これで次へ行き、来る場所を決めてクリエイトしてできたというところまでやった。 次はステップ4として、プロジェクトナビゲーターでランドマークスアップを選んで、アプリがSwiftUIライフサイクル。 それで作られたアプリがAppleとこれに準拠していて、このボディで一つ以上のシーンを提供すると。 アップメインアプリビュートでこのアプリのエントリーポイントを示している。 Windowグループというのが一つのシーンで、その一環ですかね、Windowグループね。 アッププロトコルに準拠していて、アップメインが付いていて、これでアプリの一番外側の広角みたいなのができているというお話ですね。 それでプロジェクトナビゲーターでコンテンツビューを選んで、その内容も見ていくと、 きていではSwiftUIのビューファイルは放送材で定義されていると書いてありますね。 レビューがあると。ストラクトはビュープロトコルに準拠していて、 それで、詳細、ビューのコンテンツ、トレイアウトが記述される。 レビューはええと。 定義する。プレビュー。そのビューのプレビューを定義する。 そんな感じですね。コンテンツビューを表示しているようという感じですかね。 コンテンツビューは構造体でビューに準拠していて、 その中でVZAKを使って評価していると。 キャンバスはレビューを自動的に表示する。 もし表示されていないときには、エディターからキャンバス、これを選んで開けると表示されると。 これがね、このショートカットとかあって、今出ている感じですけど、 これがコマンドオプションエンターですね。 それで、キャンバスを選ぶのが、モビルで変わるよという感じになっているので、 これがショートカットですね。 それで、7として、コンテンツビューのボディプロパティで、 既存のコードを消して、アローワールドというのを表示している。 このときに、テキストというコンポーネント。 これを使っていく感じみたいね。 で、コードをボディプロパティを書くと、ビューが、 ブレビューが自動的に変わるよということらしいので、まずこれやっていきますか。 コンテンツビューの中で、アローワールドすでにあるから、 これ残すべばいいって感じになっちゃうけど、今それで。 で、ちょっと狭いですね。 プレビューのモードとしちゃってもいいかな。こんな感じで。 で、テキスト。一応、消してパイドルから消しますが、 ブリストックから全部消してパイドリングまで。 そうすると、中身がないビューになって、 ここでテキストでアローワールドってこんな感じで書くと、 もうすぐにブレビューに反映されるよというお話ですよね。 ここまでいいですね。 ハロー、ドリフト、ユーアイか。合わせておきますか。 ハロー、ドリフト、ユーアイ、ドリフト、ユーアイ、こうでしたね。 で、それでOKと。では次行きましょう。 セクション2。テキストビューをカスタマイズしましょうと。 で、コードを書き換えて表示を更新できると。 またはインスペクターを使って変更できるプロパティを見つけることもできるよと。 今回のランドマックスアップをビルドするのが、 コンディネーションで自由に何かエディターを使っていて、 ソースエディターとかキャンバスとか、あとインスペクター、 こういったのを使って編集していけると。 で、ここの英語が何かわからなかった。 これ、これで出てこないか。まあいいか。 アップデート、クリックアウトです。 更新がされ続ける。どのツールを使ってもか。 こんな感じでいろんな更新方法があるよというお話ですが、 どこから行ったらいいんだろう。 まず出てくるかな。カスタマイズする方法としてインスペクター。 これね、前このドキュメント読んだときにも思ったんですけど、 なかなか便利だけど、ついついコードで頑張ってもなという癖ですがね、自分のね。 これがなかなかよくて、シェルクタブルモードにまず変えて、 それでレビューがね、デフォルトではライブモードなんだけど、 それをシェルクタブルモードにするっていうのがまず一つあって、 そうしたら、レビューのところでコマンドコントロールクリック。 コマンドコントロール、なるほど。 それでインスペクターを開くことができて、 オフオーバーでいろんなプロパティが選べると。 その中でインスペクター、タートルロックっていう名前。 最初のランドマーク、アプリで最初のランドマークを表示するやつ。 それをタートルロックに変えると。やってみますか。 これをここからシェルクタブルモードに変えて、 これをコマンドコントロールクリックでインスペクターが出てきて、 それで、スウィートUIインスペクターですかね。 ここでテキストのところ。 大丈夫かな。余計なことをしたら消えちゃった。 これで、コントロールオプション。 でもそれしか書いてないわ。 スウィートUIを選んで、テキストのところで。 消えちゃった。 これをもう一回。 余計なところを消してしまってるんですかね。 タートルロック。これで変わりましたね。 このテキストのところがね。 これで終わったよということで。 フォントのモディファイヤーをタイトルに変えますっていうのもやってみますか。 同じくさっきのツール。 これでコマンドコントロールをクリックして、 インスペクター。 インスペクターはもっとすぐ出ないのかな。 これでフォントでフォントをタイトルにすると。 これでフォントとタイトルっていうのが反映されて、 表示も変わりましたね。いいですね。 このインスペクターの使い心地を見てると、 フォントで書いたほうが早いなみたいな気がするけど、 見つからないときはこれから探していくとすごい良いですよね。 これでフォントサイズが変えられて、 スウィートUIを読んでやるかな。 これでタイトルに変えましたよね。大丈夫ですね。 それでスウィートUIをカスタマイズするのに、 モディファイヤーを読んでやっていくよと。 モディファイヤーはラップしているっていう変更するやつですね。 それを変更する。ディスプレイは他のプロパティを ラップしているもので、それらのモディファイヤーは新しいビューを返す。 フォアグラウンドカラーをグリーンに設定してみましょう。 そのときに今解説にあったような、このモディファイヤー。 エキストっていうビューに対してモディファイヤーを、 横でもいいんですけど、フォアグラウンドで。 フォアグラウンドカラーになってますね。 フォアグラウンドカラーはテプリケートなので、 フォアグラウンドスタイルは使えてね。 なんでなので、スタイルにしておきますが。 でも使い心地は一緒ですよね。 ここでカラーって指定しないとダメだったんだっけ。 とにかくグリーンですよね。 これで色が緑に変わったらいいですね。 次は、コードは常に。 よく聞く言葉ですね。 Source of Truth? ソースコードと実際の表示の辺が、 ちゃんと対応ついてるよ、ずれることがないよ。 言いたいときによくこういうソースオブトゥルース みたいな大袈裟な言葉が使われたりしますね。 でも大事なことで、プログラムが書いてても、 同じデータが複数の箇所にあるっていうのより、 ちゃんと同じデータが一箇所にあるっていう方が重要。 基本的には、一箇所にオリジナルがある。 そうすることによって色んな面で楽になる。 特に、いろいろ利点があるので、よく言われる思想の一つですかね。 インスペクターでモデファイヤーをいじるときに、 Xコードはコードをすぐにエキセスに合わせてくれたよ、 というお話ですね。 なので、インスペクターでフォントをタイトルにした瞬間、 .font.titleが自動で付与されたよ、というお話ですね。 それを大げさに説明しているところがここです。 次は、このときにインスペクターを開いて、 Controlクリック。 エキストのエクレレーションでコントロールクリックをして、 スウィートUIのインスペクターを表示すると、 アラーポップアップメニューで引き継がれたエキストからプラグを選べるというのが、 とりあえずどうだとして、これを選択モードになっていて、 これで、コントロール、オプションクリックと言いましたっけね。 コマンドをコントロールクリックだよね。 間違えた。コントロール。これを選択して、 選択したときに左側のコードのほうも選択されているのが嬉しいですね。 これでコントロールクリック、オプションクリック、 コントロール、コマンドクリックですね。これでインスペクターで、 それでレンジで色付けたものを元に戻すというか、 色は下のほうかな。フォアグラウンドスタイルが変わりましたね。 意外と良い要素がありますね。これでここがグリーンになっているのを プラグにするって言ったかな。これでプラグにすると黒くなりましたね。 いいですね。これでプラグしたら、エクスコードのアップデート、 自動的にフォアグラウンドのカラーグリーンモディファイアを削除してくれるって言ってますね。 今どうなった?プラグになってますよね。 何か選ぶの間違えたね、今ね。 コントロールクリックって書いてありますね。 それでUIインスペクター表示して、 それでカラーのところでインヘリテッドを選ぶって言っているのか。 何かやり方間違えたかもしれない。 これでコントロールクリック、コマンドコントロールクリックだと思うんだけど、 コマンド忘れてるのかな、自分が。 今結構見落とすことが多いんだよね。忘れてるのかも。 とりあえずポップアップ出して、それでフォアグラウンドスタイルのところを インヘリテッドというのがない気がするが、 パスとも違うよね。インヘリテッドないね。 これでスロールもできないし、すぐ消えちゃうね。 ジェットリアルとエクスコードのバージョンが合ってないのかな。 それで消したらいいんだけど、インヘリテッドがない。 デリートしてみようか。合わないね。 これをセンサーとして、デリート、エスケープ、デリート。 あまりいかないな。しょうがない。エスしかないですね。 ブラックを選んでブラックになっちゃうってのは困るところがあるね。 しょうがないね。ジェットリアルと長違いだ。 まあいいか。これでこれでと言えば、やっぱり見るのが間違いますね。 そういうことか。コードの方でコントロールクリックだ。 自分が読み間違えたのかな。 ディプリケートに乗った都合で、このモディファイアーは 出ていかないといけないという状態になってるみたいね。 次行きましょう。エクスコードを自動的に反映して。 これ読んだね。フォープラウンドからクリーン。 アリムービングされた。 それでプレビューをライブモードに切り替えて、 ライブモードはインの動きとかをキープしてロスで。 とりあえずコード切り替えをして。 これがちょっと大きすぎるか、縮小ができない。 ここまでですね。 次、セクション3。ビューをアクセサリーで組み合わせる。 タイトルビュー、クリエイト作ったタイトルビュー。 それにテキストビューか、ディテールアウトランドマークの 詳細、それを追加していく。 パークとステート、Hスタッフでエースを挟んで、 スタッフですね。パークとステート。 そういうUIのビューを作るときに、 これらのコンテンツトレイアウトと動き、 これらをボディプロパティに再生していくと。 で、しかし、ボディプロパティはシングルビューしか、 一つのビューしかリターンできないので、 コンパイ連結させたり、踏み込んだりして、 複数のビューをスタックに入れる必要があると。 それらのビューのグループは水平垂直、 または後ろから前、みたいな風に重ねていくと。 このセクションでは、バーティカルスタッフ、 水平垂直方向のスタッフ、それを使って、タイトルを、 フォライゾンである水平スタッフのパークとか、 詳細のところの上に重ねていく感じみたいに。 そのために、Xコードを持って、 コンテナービューにエンベッドするために、インスペクターを開いて、 エンベッドインVスタックをやっていくと。 まずは、テキストビューをコントロールクリックして、 エンベッドビューインVスタックをやってみましょう。 テキストを選んで、コントロールクリックで、 エンベッドインVスタック。 これでVスタックの中にテキストが入ったと。 そうした上で、テキストビューライブラリからドラッグすると、 ドラッグすると、この時にライブラリを、 プラスボタン、右上のプラスボタン、 そこでウィンドウを出して、そこからテキストビューを、 アップロックのすぐ下ですかね、ここに入れてあげるよと。 なるほど、ここにプラスボタンを押すと、 ここにコントロール、コマンドシフトがあるか、 それでも出てくるので、自分はこれで覚えていたんですけど、 右上のプラスボタン、なんかすごい妙なとこにある気がするけど、 それでテキストを入れることができて、 このテキストはカートロックのすぐ下って言ってたけど、 そっちか、カートロックのすぐ下、どこだろう、 ここでいいのかな、ここにテキストを入れてみたと。 で、次にテキストビューのプレスフォルダテキストを、 上紙は、フリーナショナルバーカーのこれに変えてみようと。 これは普通にテキストプレスフォルダーを書き換えれば、 いいですね、ここまでね。 それで、ロケーション、レイアウト、 ロケーションを調整していく感じで、 サブヘッドラインというのをフォントにしていくよと。 この時にもまたテキストコントロールクリックで、 インスペクターを出して、フォントのところをサブヘッドライン、 これですね、これにしてあげればOKなのでしょう。 サブヘッドラインになったので、次。 VStackのイニシャライザーを変更して、 リーディングエッジでアライメントすると。 デフォルトでは、スタック、センターみたいにね。 だから、アライメントを調整する。 ここですね、VStack。 これはもう何かオプションないかな、 ちょっと選んでみますが。 これでインスペクターをやって、アライメント。 あ、ありますね、これで左ドライ、リーディング。 これでいいですね。 そうすると、左ドライになったりだと。 左ドローエーができて、次はもう一つのテキストを右側。 パークの右側、そこに配置して、 ローシャー3、ナショナルバーカー。 これをエッジスタックに入れるよっていう。 ていうか、まず最初ね。 それでエッジスタックに入れて、新しいテキスト。 そのロケーションの後ろに入れて、プレスホルダー。 テキストをパークのデータに加えて。 パークヘッドラインに合わせてあげると。 この時のテキストがカリフォルニアっていうのが書いてない気がするけど、 まあいいや、それをアレット出して、テキストを置くけど、 その前にアレットがエッジスタックかな? なので、テキストを右クリックしてエッジスタックに入れた上で、 テキストをエッジスタックのすぐ直後に入れて。 このプレスホルダーがカリフォルニアですよ。 こういったふうな感じで。 カリフォルニアがカリフォルニア。 カリフォルニア直尾にして貼っておきました。 これでいいですね、とにかくね。 これで配置ができました。 これで、スペーサーを入れる。 デバイスのサイズを大幅にするために、パークとスペーサーで分離していくと。 スペーサーは、エレントビューの全てのサイズを挟んでいく感じで、 サイズをディファイン。コンテンツのディファインをサイズをディファインする代わりに、 これでサイズが、サイズというか要請が測れると。 スペーサーを入れて、それで隙間ができるのと、 またこれを忘れていた、コントサブヘッドライン。 コントサブヘッドラインね。 最後に、パッディングモディファイヤーをランドマークの名前と似ているここにつけて、 実際のスペースを言葉に挟んでいくと、こういうスペーサーに対してつける感じ。 なので、ここじゃなくてこっちですね。パッディング。 これで、いい感じにできた。 デフォルトのパッディングが、パッディングで引数を指定しないことによって、 自動的に入っていくという。 これによって、統一感のある余白感というんですかね。 こういったのが約束できるというのも上手だし、 これをデフォルト引数でやる。 多くの人が考えるとは思うんですけど、 それをデフォルト引数でやるというのが、 言語を表現として上手な感じがしますね。 これでパッディングも早くなったので、 次、カスタムイメージビューを配置する。 ネームトロケーションビューができたので、 次のステップはイメージを置くことですね。 オードをアイドルに追加する代わりに、カスタムビュー。 マークとボーダーとドロップとシャドウ。 これをイメージに反映させる。 そういったカスタムビューを作っていくらしい。 そのために、プロジェクトのアセットカタログに イメージを入れていく。 スタートログのApp2x.jpgをさっきダウンロードした プロジェクトファイル、リソースフォルダから見つけたのか。 リソースフォルダをドロッグ、アセットカタログ、 エディターのアセットカタログにそれを入れて、 イメージを作っていく感じなので、 アセットカタログですね。 まずアセットカタログがあって、 さっきダウンロードしたプロジェクトが ドロップにあるんですけど、 その中のリソースのスタートログをドロップすると、 これでスタートログの2倍解像度の絵が 登録されたよ、という感じですね。 2倍解像度。 こうしたときに、ユートリアルでは、 Create New Swift UIView カサムイメージビュー。 ファイルからNewでSwift UIViewを選択して、 それでサークルイメージスウィストという風な名前で 作っていく。 ここにNewファイルでSwift UIViewか、 こんなファイルがあったのね。 それで、サークルイメージ、これで打った。 で、次は、 イメージを入れる。 そして、モディファイする。 そういった準備ができているらしい。 それで、リプレイストビューをタートルロックのイメージに、 これを使って表現していく。 そのときに、さっきのタートルロックのイメージ名を押してすると、 その画像が出るらしい。 やってみましょう。 ボディのテキストの代わりにイメージを入れて、 ここでタートルロック。 こうやってユートリアルに沿ってやっていくだけだと、 サクサク言って簡単だな、という感じがしますよね。 これが、ちゃんと自分だけで使えるかどうかというのは また鍋が必要ですよね。 それで、クリップ、シェイプ、サークル。 これをイメージをクリッピングするのに適用する。 それで、裏づるために、サークルタイプ、マスクを使って、 シェイプをシェイプするというのかな。 あとは、当たられたサークル、ビュー、ビューティング、 サークル、ロックやフィルで色々していけると。 今回、クリップ、シェイプでサークル。 サークルでクリップするという形を、これで丸切り抜きができると。 サークル、クリップ、シェイプ。 クリップ、シェイプでサークル。 丸く切れましたね、みたいなこんな感じですね。 こういったのができるんだ、みたいに思ってないと、 なかなか思いも寄らないので重要な気がしますね。 最近は、GPTとかに聞けば、 丸く切れな子ですよ、とかしてくれると思いますけどね。 それで、グレーストロークのアナザーサークルを作る。 それをオーバーレイでイメージのボーダーとして使っていく。 オーバーレイって、サークルストロークって感じでやればいいのか。 この時にグレーカラーとかは、レビューは自作できるのか。 サークルのストロークでグレーでラインハーバーが4と、 これはやっていく感じね。 サークルストロークなので、これでオーバーレイして、 クロージャンに対してサークルでストローク。 これを立てるのがいいのかな。どっちでもいいと思うんですけど、 ストローク、ストロークでグレー。 今、カラーグレーですよね。カラー、グレーでハーバー。 ハーバーは押し消すだけ。 サークルストロークでグレーでラインウィズが、 グレーでラインをここに合わせた。 で、これで4ですかね。あ、これだけだとダメなのか。 これで、スタイルというラベルがいらないのかな。 これで、つきましたね。OKですね。 グレーのマルフティができたと。 で、次に7ポイントの半径、シャドウをつけていくよと。 このシャドウもドットシャドウラディアス7という感じで、 オーバーレイの次かな。オーバーレイの次ですね。 で、シャドウで7。できたか。 これで、シャドウラディアス7出てきましたね。 はい、それで、ボーダーカラー。 これをホワイトにする。 ボーダーカラーで、ボーダーカラー。 ボーダーカラーは、ストローク、ホワイト。 ボーダーカラーをホワイトにするという意味は、 オーバーレイの、さっきグレーで作った輪の部分。 これをホワイトにするよと言ってますね。 ホワイトにする。 で、これでOKですね。 デトリアル通りですけど、そんなに難しいとこやってないから、 まあ、そりゃそうだよね、みたいな感じで進んでいきますね。 で、SwiftUIのView、他のフレームワークから使うと。 で、それで、マップを作っていくみたいね。 マップを与えられたコーディネート、これの中央にマップを表示して、 で、マップはマップキットでレンダーしていくよと。 そのために、まず、SwiftUIをまた作って、 で、それをMapViewSwiftにすると。 まず、そこまでやりますか。 Newファイルとして、SwiftUIのViewで。 で、MapViewSwiftができましたね。 そしたら次、デトリアルに沿っていくと。 で、マップキットをインポートして、で、SwiftUIと関係するフレームワークをインポートして、 で、SwiftUI特定の関数、それにアクセスしていける。 これ面白いけど、CanImportみたいなディレクティブが確かありましたよね。 それを使って、SwiftUIがインポートされるなら、こういったディスポートを活かすよ、みたいなことをやってるんじゃないかな、とりあえず。 とにかく、マップキットをインポートするというところまで。 まあ、いいか。 プライベートコンピューティブプロパティを用意して、 で、それで、マップのリージョンインフォメーションを持たせる。 珍しいですね。プライベートコンピューティブバリアブルって言いますね。 プロパティって一般に言いますけど。 とりあえず、プロパティを持たせるようなので、コピペしようかな。 コピペすると勉強の観点で、記憶に残りにくい気がするんですけど。 とにかく、インポート、マップキットを入れて、 その上で、プライベートな計算型、バリアブル、計算型プロパティ、これを定義する。 計算型プロパティリージョンは、コーディネートリージョンと、 コーディネートリージョンを返すプロパティで、それは、センターがこれ。 で、スパン、これがこれ、みたいな風になってるらしい。 とりあえず、これはちょっとリアル通りに持ってきた感じで。 次は、リプレイス、リフォルトのテキスト。 これをマップビューに変えて、カメラポジション。 これを、リージョンで、イニシャライズするか。 イニシャルポジションとして、リージョン。 これを、さっきの定義した計算型プロパティか。 計算型プロパティ。 ZwiftUIを使う時には、計算型プロパティよりも、 保存型プロパティの方が有利だったような気がするけど、 まあ、いいか。とりあえず、ボディで、マップとして、 これを配置してみましょう。 なので、テキストハローワールドではなくて、 マップに対して、イニシャルポジションがリージョン。 これで、マップが出て、イニシャルポジションが 表示されましたね。 コンポーネント指向というのかな。 すごいよね、これね。 マップがこんな感じにできたようになって、 ちょっと昔だと、想像もできない簡単さですよね。 これで、とにかく、マップがタドルロックを中央にして 表示されたと。 それで、マップのマニピュレート、 何だろう、大阪、これをズームアウト。 それで、いろいろ注意の状況を見たり、 オプションクリック、ドロー、オプションクリック、ドロップとかでも、 いろいろできるらしい。 一応、やってみました。 オプションクリック、ドロップ、これで回転だかね。 できますよ、という、そういったお話ですね。 レディ画面でこんなに動いているというのは、 今時なら当たり前かもしれないけど、すごいですよね。 で、これで次、セッションロックとして、 ディテールビューを組み込んでいく感じですか。 で、このようなコンポーネントを持っている。 で、名前とプレイスト、周りのイメージと、 あとマップがあると。 で、これらのツールを使って、コンバインユーカスタムビュー、 これらのビューを最終的なデザインに落とし込んでいくよと。 で、そのために、まずプロジェクトナビゲーターで コンテンツビューを選択する。 で、VStack、えっと。 Embed VStack、Folder Tree Text、 3つのテキストビュー、他のVStackにエンベッドするらしい。 で、このエンベッドは簡単にできるのかな。 なんか特にシビアがないけど、3つのテキストビューでしょ。 コンテンツビューでこのテキスト達、これをもう選択して、 これで右クリックして、エンベッドのVStackになるかな。 これで全部入る?全然入らなかった。 どうか、これが全部選べるのかな。 選択モードにして、これとこれが、 Shift、コマンドもダメ、Shiftもダメ、オプションはダメか。 こういう選択もダメか。何か手でやりますか。 VStackを入れて、テキストとHStackを丸とVStackに入れ終わった。 VStackは一番外側だからOKですね。 それで、MapView、これを追加。 カスタムで作ったMapViewをVStackより前に追加して、 フレームを指定してあげると。 ハイトパラメーターだけを設定する。 そうすると、自動的に幅が決まっていくよということらしい。 なので、ハイト300でこれを指定していくよと。 VStackの前、ここに入れてあげて、これでできましたね。 このフレームのハイトが300になって、 ウィードは暗黒的に決まるよと。いいですね。 次は、ステップ4として、サークルイメージビューをラフに入れていく。 MapViewの次ですね。また入れちゃいますか。 MapViewの次にサークルイメージ。これでサークルイメージが入りましたね。 配置するイメージビューをMapViewの上に配置するために、コフセット-130で配置する。 サークルイメージのコフセット-130。 それで、ボトムのパッティングも130マイナスする。 とりあえずこれは手で打ってみたい。 さっきのパッティングを見てみようかな。これでボトムでマイナスいくつだっけ。 マイナス130でやると、マイナス130によってタトルロックのエキュートが被ってくるんですよね。 それに加えて、コフセットのYですね。これがマイナス130で全体的に上に連れていって、 いい感じに130の半分がマップにかかったよと。 これで、レパレーターを入れていく。 ボトム。ボトムはVStackの下。 外にスペーサーを挟んで、ウィードの上側に固定するということをするらしい。 これですね。スペーサー。 今、真ん中に全体に寄っちゃってるね。VStackの中の最後。ここにスペーサー。 これを入れてあげると、上側にずっと寄ってくると。だんだんとすぐそのままになるのが面白いですね。 これで、ディバイダーを挟む。ランドマークのテキストを入れていくよと。 これとコピーしようかな。テキスト。 ディバイダーをタイトルとエリアのところに入れて。 ディバイダー入りしたね。これをやってあげる。 ここのスペーサーより下までですよね。 スペーサーはどこだ。スペーサーはここか。HStackにスペーサーがいる。 ここは要らないのか。ディバイダーを挟んで。 やっぱりちょっとずれちゃいますよね。 スペーサーは、あれどこ行っちゃった。スペーサー。 いると思うんだけどな。ここにあるとおもちか。HStackの下ですね。 だから、HStackの下。ここか。ここにディバイダーと説明テキスト的なのを挟んで。 これでOKですかね。できたっぽいけど。 待ってるのかな。これなんか変な気がする。 HStackの外ですよね。HStack変だなと思ったけど、外だった。 ここに貼る。これでOKですね。 こうすると、Z11がディバイダーの下に貼られるようになります。 最後に、サブヘッドラインを、フォントのモディファイアーを、1テキストビューから、それを含むHStackに移動して、セカンダリースタイルとして、サブヘッドラインテキストを適用していく。 セカンダリースタイルとしてというのは特別な言葉なのかな。 とりあえずやっていきますか。それぞれのテキストに合ったやつ。 これをサブヘッドライン、これですね。 HStackのサブヘッドライン2つをそれぞれのテキストに、それをまとめたHStackに設定して、それでおしまいということですかね。 ここのコードが出てきてないけれど、最後にモディファイアー、テキストのHStackに移動するといいですね。 それで、モディファイアーを適用したときに、Zackに入って適用したときに、UIはそのモディファイアーを外に含まれるエレメント全部に適用してくれればいいですね。 いいけど、コードは、これか。割れていった。フォアグラウンドスタイルのセカンダリーか。 さっきのセカンダリーって出てきたのは、セカンダリースタイルなので、サブヘッドラインに対してフォアグラウンドスタイルとして、 セカンダリー、これを指定してあげると、すると色が薄くなりましたね。フォアグラウンドスタイルね。これでできた。 これで、もう1個残りですね。理解をチェック。流れましたね、こんなのね。 カスタムスイッチとUIビューをクリエイトしたときに宣言する。ビューのレイアウト、どこで宣言するか。 カスタムUIビュー、ボディですかね。これであれですね。 次はまた次回にしますが、今度はリストとナビゲーション、あれを作っていくようという、こんなお話ですね。 基本的なランドマーク、ディテールビューをセットアップ。 それで、ユーザーがランドマークのフルリストを見ていくというのを提供する必要があると。 ビューのディテール、それぞれのロケーションのビューのディテールといったのを追加していくと。 そんな感じですね。今日はこれくらいにして、また次回それを見ていく感じにしましょう。 松原さんでした。

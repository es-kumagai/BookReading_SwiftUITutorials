Transcription & Summarize : とりあえず読書会 SwiftUI Tutorials #35

はい、では始めていきましょう。とりあえず、ちょっとしばらくVST UIチュートリアリティを読んでいきますが、今やっているクリエイティングマークオープンのセッション4ですけどね、この辺りを前回とかそれくらい前からディファクタリングをやっているところで、まだちょっと触れそうなところが気になるので、引き続きやっていこうと思いますが、やることとしては、ここですね、とりあえず。 カテゴリーフィルターの設定というか、カテゴリーフィルターなんですけど、これが気になっているのが、Rakes, Rippers, Mountedね。これの3つと、あとAll。これがバランスが悪いなというのがあって、前回の最後のほうでも言いましたけど、これがバランス悪いと言ってもね、あくまでもランドマークリストの中のフィルターカテゴリー。これのリスト、これのセットとしてはね、この4つの検索から選ぶことができるよということでね、まあまあ当て立ててみればよいんですけど、ただですね、Rakes, Rippers, Mounted, All。これのローバリュー、これのローバリューか、比較していったやつをもう一回見てみますかね。 ここですね、この中でカテゴリーズだった場合には、カテゴリーズのローバリューとランドマークのカテゴリーのローバリュー、これが一致した時にフィルターが引き寄せられるとみなすみたいなね、そういった形になってますけど、このローバリューがちょっと気になりましたね。 とにかくこの辺をね、まずやっていこうと思うので、Zilkのほうをちょっと用意したのを書き換えておきますかね。 リファクタリングとしては、カテゴリーフィルター、これをね、リファクタリングリーバー、やろうとしていることは、ランドマークのカテゴリー、これと対等というのかな、まあそんな感じの作り方、対等、対等とかな感じ、あ、これだ、まあそんなのね、ちょっとやってみようかなと思うんですけど、まずは対等にするにしてもちょっと気になりましたね。 このローバリューが今、さっき見たやつですよね、今、定義を辿ってみたんですが、辿れなかったですね、辿れない、まあこうです、もう一回ちょっとビルドかけてみますけど、ビルドは通過しますよね、定義が辿れない、カテゴリー2、フィルターのカテゴリー2ですよね、それでフィルターのカテゴリー2、フィルターカテゴリー2、これがカテゴリー、フィルターカテゴリーのAllがディフォルトになっているだけであって、まあまあこれはね、用意として、フィルターカテゴリーAll、これのフィルターカテゴリーのローバリューがRakesとRiversとMountainsですよね、そんななっている中で、ランドマー これプラスAllですよね、つまりね、だから考え方としてはすべて、またはカテゴリー特定みたいなね、そんな風になると思うんですよね、だからそうすると、まあなるほど、そうするとやれそうなこととしては、意外と難しくないかもしれないですね、カテゴリーがあるとなると、このカテゴリー2、フィルターのカテゴリーがあるじゃないですか、これが、だからカテゴリー、フィルターカテゴリー、フィルターカテゴリー型が要はRakes型なんですけど、AllかまたはSpecificですね、これでカテゴリー、カテゴリーは誰が持っているんだ、カテゴリーは、これは関係ないな、どこでしょう、カテゴリーはランドマーク、ランドマークが持っているのか、ラ トでも使いますよね、そうすると、ここじゃなくてもいいのかなというのが気になってくるところで、カテゴリー、このアプリケーション、ランドマークというアプリケーションにとってのカテゴリーと考えると、レベルで良さそうですねこれね、なのでちょっとファイル名も変えますか、ランドマークですけどこれカテゴリーにしちゃって、カテゴリーですよね、ランドマークに所属させるとかはしないで、こうやってあげて、そのカテゴリー自体は名前を持ち、カテゴリーをアイデンティファイルを持ち、ランドマークカテゴリーじゃないので、これですよね、カテゴリーとして持ち、で、他はどうだろう、ここもですね、カテ カテゴリーとして、そうすると、レイクス、ディパーズ、マウンテンズ、この辺が特定した場合という状況になりますよね、さらにこれで、どうしますかね、ローバリューが多分いらなくなりますね、なのでローバリューストリングを取ってあげて、係数一定ラブルはどうですかね、係数一定ラブルはオールドだから、これもちょっとないですね、とりあえずね、アイデンティフィアブル、これもないですからね、必要ならまた考えましょう、そしてIDも取ってあげて、そうするとフィルターカテゴリーが決まっているけれど、この時にそうですね、フィルターの方がフィルターカテゴリーを持ってますけど、これが発車ブルになるんですね、これが センダブルの発車ブルでいい気がしますね、フィルターもストラクトだから大丈夫ですね、センダブルになってますけどね、ローカルインターナルではね、これで良しで、そうするとエラーがまた出てくると思うんですけど、どうなりますかね、 フィルト中ですが、使っているところですよね、オールドスペシフィックオールを使っているところ、ここですが、ここがカテゴリーズ、今ローバリューなくしたんでね、フィルターカテゴリーズがオールがそれ以外ですよね、ここがね、カテゴリーズのランドムがローバリューか、 だからこれがオールかどうかっていうのを知らないといけない、なのでこれは、オプショナルバインティングじゃないや、アンコーエンサーしコンディショナルエンサーしね、これはコンディショナルじゃなくて普通にスイッチ分でいい気がしますね、スイッチ、フィルターのカテゴリー、ここはケース、オールだった場合にはランドマークスですね、ケース、スペシフィックレッドカテゴリーだった場合には、これはこれですね、 フェイバリッドタイトルなんでしたっけ。タイトル今作っているやつですね。なので、このタイトルを今作って、フェイバリッドローバリュー、カテゴリーのローバリューですね、こういう風に仕上げて、これであとは、タイトルが一板になるんですがね、フェイバリッドでタイトル、 リターンでフェイバリッドタイトルという形で出来ますよということで、フェイバリッドタイトルこのコードも何だ、かて、な、の、何、ころ、何でリターンでフェイバリッドタイトルでその後もコロンタイトルで何でしたっけ、ここか。 タイトルでフェイバリッドタイトルだとか、 両フェイバリッドオンリーだった場合か、ここか、あそこか、 そうした場合にフェイバリッドを付けるよって言ってるんだ。 なので、タイトルが出来上がったら、この後はこのようにフェイバリッドを付ける場合のほうを、 さらに加えてリターンしてあげるというこういった形ですね。 これでタイトルはOKで、また別のものね。 別のところとしては、ベルタリングの実際のところですかね。 これは今ビルド中ですけど、持ってきましたね。 カテゴリーがランドマークのカテゴリーと一致すれば、このように安定することが出来る。 このようにすれば、ローバリューで合わせるのでしないで、 そのままでカテゴリーの位置判定が出来るので、 どちらでも問題はないですけど、同じ形になったので、今回は前と違ってね。 なので問題はないんですけど、またローバリューとドキュリストインクがインスタンス化されるので、 それをわざわざする必要はないですよね。 同じ列挙子同士で合わせてあげたほうが明らかに効率が良い。 そんな感じでフィルターを作り、次ここは何だ。 コンパイラータイプチェック、なのでこの中身でしょうね、問題は。 どこだろう、この辺がカテゴリー、フィルターカテゴリー、フィルターセレクション、 カテゴリーセレクションがフィルターのカテゴリー、で、オールケーシズがここら辺ですかね。 フィルターカテゴリーのオールケーシズだと実装出来てないという問題になっていて、 フィルターカテゴリーが例えば、エースインテラブルだと分かってしまった、 タイプステンションランドマークリストのフィルターカテゴリーですか。 これを、エースインテラブル、という風にしてあげて エースインテラブルはオールケーシズアクセルフのコレクションであり、 オールケーシズをスタティックバーで実装してあげれば大丈夫そうな雰囲気を感じますね。 オールケーシズは、自分で作ってみましょうか、オールケーシズ。 これはどういうものかというと、自分自身がスペシフィックとオールだから、 自分自身をこれで表現するというのは、 配列として、オールですね、これプラス、 カテゴリーのオール、カテゴリーはオールケーシズの方でしたっけ、 カテゴリーはエースインテラブルじゃないのか、 これはエースインテラブルにして、その上でオールケーシズ、 これを取ってあげると、これと型が違いますよね、とりあえずからビルドすると、 この167秒目くらいでエラーになると思うんですけど、 フィルターはカテゴリー、フィルターはカテゴリーで、カテゴリーオールケーシズってオール、 違いますね、なのでこれはエラーになると思うんですが、 これをスペシフィックでくくってあげれば大丈夫な気がする、 なのでマップですかね、プレイスビルドエラーになるまで待ちますけど、 ビルドエラーになったらマップをかけてスペシフィックでくくってあげる、 これなら問題なくビルドできるかと思うんですけど、若干見にくい気がしますね、 どうしようかな、オールケーシズ、 じゃあそしたらもう一個考えられるものがありそうね、 まずはビルドが通ることを確認してから、もうちょっと変更していきますけど、 ビルドが通りましたよね、だからこれで、 ケースインテラフルもそうなんですけど、スティックバーでオールスペシフィックス、 普通の言葉なのかな、これでランドマークリストのフィルターカテゴリー、 やってあげて、これで返すものはカテゴリーオールのマップで フィルターをスペシフィックするっていうそういったやつですかね、 こうしてあげると、押してみますか、オールケーシズとマップ、 カテゴリーインでスペシフィックのカテゴリーね、こんな感じ、 これでカテゴリーのオールケーシズ、カテゴリーのあくまでもね、 その中のオールケーシズをスペシフィックで作ったもの、これを返すようにして、 で、あとはオールケーシズはオールスペシフィックスと オールを足してあげるというね、こういったことで大丈夫ですよね、 オールとオールスペシフィックを足す、で大丈夫ですよね、 ここは効率化を求めるんだとしたら、コレクションオブワン、 これでドットオール、やってあげてもいけるのかな、これ、 足し算した後に、これが配列になってくれれば大丈夫だと思うんですが、 この辺はコレクションオブワンの足だ、 これがどういう風に実装されているかわからないけど、 何にしてもコレクションオブワンはおそらく、 キープ領域使わないと思うんですよ、たぶん。 ちゃんと見てなかったですが、コレクションオブワンは シングルバリオンのコレクションですよね、 それでシングルエレメント、アリのシングルエレメントは 足算ができるって書いてありますね、後ろですけどこれは。 ヒープとかどうとか言われてないですけども、 たぶんコレクションオブワンでわざわざヒープにメモリ取るのは、 わざわざやると案外にくいんで、きっとストックで作ってくれると思うんで、 最後の配列を作る時と、オールスペシフィックスも必要ですけど、 この2つ、ちょっとメモリ確保がよりくされるのかなと思うので、 これでオールケーシズがしっかりとね、 売れたままのコレクションオブワンはとてもいいんですけど、 とにかくオールとそれ以外のカテゴリをね、 スペシフィックに包んだやつ、これができたと。 そうすると、ビルドバー、今ビルドしたんでしたっけね、 まだ選ばれますね、1箇所ここですが、 ここまたタイプチェックの選ば、それはさっきの4e1ですかね、 オールケーシズに対して4e1してますけど、 4e1って確かハッシュとか、それを必要とするかもしれないですね。 なので、そうすると、ハッシュが今ね、搭載されてないから、 そのせいかなと思うんですけど、 なかなか定義がたどれない。 データの方はどうなっているのかなというのがね、 知りたいのですが、定義がたどれないというのは、 たどれないですね。 4e1は、たどれないならちょっとウェブで探しますか。 Appleの4e1で、きっと出てくるでしょう、出てきましたね。 これで4e1のイニシャライザーを確認して、 4e1は、これとコンテンツですね。 最初の引数はデータで、データはデータのエレメント。 だからコレクションのエレメントがアイデンティフィアブルか。 アイデンティフィアブルを求めている、またはIDしている人ですね。 これでオールケーシズでIDとして、オールケーシズのIDは、 IDはここではシンプルに取れないので、 Appleでアイデンティフィアブルをつけた方が良さそうですね。 なので、フィルタカテゴリの定義へ行って、 そこに対して、エクステンションでランドマークリストのフィルタカテゴリに、 アイデンティフィアブルをつけまして、 それではIDで、IDの方は何が対象でしょうかね。 できればカテゴリのオプショナル。 なんか微妙な気がしますね。 カテゴリのオプショナル。 この方法も一つありですし、あとは、 アイデンティフィアブルは、求めるものはハッシャブルでしたっけ。 IDはハッシャブルですね。 ここでは、セルフをハッシャブルにするって言っても、あると言えばある。 ただし、カテゴリのハッシャブルとオールのハッシャブル。 ハッシャブルですね、自分自身ね。 じゃあ大丈夫だ。 なので、そうするとハッシャブルになってるってことは、 これもしかして実装しなくても、オールケーシズで ID、これをセルフにすれば良いのかな。 こんなことできましたっけ。 またやってみますね。 どうしますかね、これね。 カテゴリをハッシャブルになってるから、 アイデンティフィアブルを搭載してあげるべきか。 こうやってね、IDは自分ですよって書いてあげるか。 なんとなく悩むところですね。 IDをメイキする必要性。 メイキっていうのは、ただに実装する必要性。 これが、分かるというか、あると言えばある。 でも、結局まだダメですね。 いや、まずアイデンティファイアを調整してやってみましょう。 なので、ここだ。 アイデンティフィアブルで、セルフを書いても問題なしですね。 セルフにして、戻り値セルフと。 これでアイデンティフィアブルOKで、 4E1の中で、そのままね、あえますよね。 4E1どこでしたっけ、この辺ではないか。 4E1はここだと思うんですけど、4E1ですね、はたた。 なので、これでここはOKですね。 ちょっともう一回フィールドをかけてみますけど、 アイデンティフィアブルで解決すればいいんですけど、 このボディのタイプチェックがなってないのはね、 まだ忘れてる。 カテゴリ、フィルター、カテゴリ、カテゴリ、 フィルターがこれをねじってる最中に、 なんかね、おかしくなって、このボディの中のどこかで、 まだそれが対応してないところがあるけれど、 このトップでね、エラーが報告されてるんだろうと、 そういう感じだと思うんですけど、 コンパイラーがタイプチェックができなかった このエクスプレッションを有効な時間内でね、 ということを言って、エクスプレッションです。 なので、フィルター、この辺がオンチェンジ。 オンチェンジはイコータブルですよね。 だから発車ブルで問題ないですよね。 で、それであとは、カテゴリ、フィルター、 カテゴリのオールケーシズ5倍ですよね。 で、ピッカーはフィルターのカテゴリズ。 このピッカー、この辺なんかまずそうですね。 フィルターカテゴリ、フィルターカテゴリズ、 カテゴリズ、あ、これはセレクションか。 これはいいですね。 セレクションでオールケーシズはね、 ちゃんとセルフのものになってるでしょうから、OKで。 で、あとは、あ、これとはいいか。 これで有効な時間でビルドできなかったよと 言ってるのがちょっと厄介な感じしますね。 まあ、一応ビルドの結果はこうですね、今ね。 見てるのがやっぱりここか。 なので、これの時間がなってないですね。 どこがおかしいのか調べないといけないですね。 これで、簡単なのはきっとここのフォーイッチが 間違ってるんじゃないかと思うんですけど、 間違ってるとか影響を与えるんじゃないかと思うんですけどね。 フォーイッチを消すってあげると多分ビルドが 非常に有利にするんじゃないかなと思うので、 こうやってちょっと、いこうっていきますが、 まああまりね、かしこりありがたくないですけどね、これはね、うん。 まあ、でもそれにしても、えーっと、 なんてダメなんでしょうね。 これでもダメでしたね。 あ、こうすると、なんとも、 セレクティブランドマンが置いて別にいいですよね。 フィルターのオンチェンジ、この辺かな。 ちょっとこれをカットしてみますけど、 フィルターオンチェンジ以外だとアニメーションと、 あとはタイトルと、あとはツールバー。 ツールバーでもカテゴリー使ってますね。 あとここID、あれ、えーと、IDセルフ。 消したのなんだ。なんか間違ってる気がするような。 あ、ここか。フィルターとランドマークス。 フィルターとランドマークス、違うのやりましたね、これね。 フィルターとランドマークスは、ランドマークスのバインディングだから、 あ、これはIDで指定しないといけなくて、 だから忘れてますね、こっちだ。 えーと、ないといけなかった、セルフ。 上は、うん、そう、うかつかったね、IDでね。 なので、こっちだ。間違えました。 で、これを消してあげて、フィルターをかけて、 これで通るんですかね。えーと、今のところ、このオンチェンジは、 フットさせたのと、フォーイッチ、ここは関係ないんでしたね。 だから下の方のフォーイッチはちゃんと存在している。 この状況でダメだったら、このフォーイッチを一旦コメントアウトして、 これが有効な時間内に効果を出していないのか、みたいなことを調べていく。 これをフォーイッチをカットする。 えーと、これは成功しましたね。 なので、ここですね、とりあえずね。 えーと、考えられるのは、カテゴリーローバリュー、これか。 カテゴリーが今ローバリューをラップした、モールケーシズですね。 モールケーシグなので、このカテゴリーは今フィルターですね。 ですね、テキストを取ろうとしている、ローバリューで。 でこのテキストを取ろうとしてるのは表示テキストですね。 そうすると、テキストのカテゴリローバリュー、 テキストとして、えーと、ローバリューか。 なので、どうしますかね。 フィルターカテゴリーに、テキスト表現を備えさせるか、またはテキストを変換させられるように するか。 フィルターカテゴリーモールとスペシフィック、モールスペシフィック。 これらの表現が、あのインスタンスのテキスト表現という価値観で考えた時には、 このフィルターカテゴリーと別に、インスタンスそのものの文字列表現ではないんだけれど、 テキスト表示する時のためのね、ラベルみたいな感じで文字列表現するっていうことを考えるんだとすると、 ラベルプロパティを搭載してあげる。 この3つがとりあえず考えられますけど、どれにしようかな。 テキストもいいけど、ラベルかな。ラベルにしてもランドマークのフィルターカテゴリーがラベルという表現を持っている。 その可能性は十分ありますね。 カテゴリーを誰がこのラベルという存在を知っているか、元というとどの場面においてもこのカテゴリーのラベルは同じなのか、 それともビューによって変わってくる可能性があるのかによってタイトルが変わってくると思うんですよね。 今回のフィルターカテゴリーの場合は誰も変わらないような気はしないでもないのと、カテゴリーの文字列表現を知っているのか、 これは負けないか。 フィルターカテゴリー、これありますよね。で、Reverse、Mountedってありますけど、 ここもちょっとやっておきますかね。 ネタエクステンションでカテゴリーに対してカスタムストリングコンバーティブルを やってあげて、ディスクリプションを搭載してあげる。 で、搭載するのは、ネームがありますね。カテゴリーのネーム。 普通に考えるとXはXですよね。ReverseはReverseですよね。 で、MountedはMountedですよね。 このインスタンスはそのまま文字列で表現できてますよね。 そういったとき、別にネームじゃなくてもいいわけですよ。 このインスタンス自身がエキスト表現として表現できるものを持っているよというそういった発想。 これで表現すればいいんで、 ディスクリプションでローバリューでいいと思うんですよね。 そうすると別にネームっていらないんですよね。 ネーム以外の情報があるんだったらまた別なんですけど、 ネームというかそのものですもんね。 だからカテゴリーのネームは多分いらない。 で、そうしてカスタムストリングコンバーティブルなんですけど、 ローバリューですよね、今ね。 ローバリューはストリングを持っているから ローリプレゼンタブルを持っているんですよね。 そう考えればそれでよいんですが、 あと考えられるのは、どうでしょうかな。 これはこれでいいかという気もしなくもない。 ローバリュー、ローリプレゼンタブルで済ませばいいですね。 じゃあこれでいいや。 で、こうしてあげて、SortedLeftHandSide、この辺がエラーになった。 これはカテゴリーで、SortedLeftHandRightHand、 サイバーノケーションとコンペアでカテゴリーですよね。 一回ビルドしてみますか。 なんでだろう。ディスクリプションですよね。 で、これでネームがなくなる。 ネームだからか。これのことか。 ネームではなくてディスクリプションか。 ディスクリプションで料理してあげる。 ディスクリプションをそのまま使わないでねって書かれてるんですよね。 プロトコルにね。 どうしようかな。 書かれているんだとすると、文字列化をする。文字列化をするっていいんですかね。 で、どうしようかな。文字列化か。 ストリング、リフレッジ、ストリングディスクライビング。 また、そうなのは本来こっちなわけですね。ストリングディスクライビング。 で、名前の名前をね。 なんかコードが長くなっちゃうのが気になりますけど、でもこうやれって言われてるんでね。 プロトコルにね。パターンストリングコンバーティブルに書いてあるんですよ。 ディスクリプションプロパティを直接呼ばないでねって書いてあるんですよね。 えーと、どうだ。 えーと、インスタンスのテキスト表現ですよね。 で、それで、あとここね、ダイレクトリプのプロパティをね。 ダイレクトに呼ぶのは、えーと、なんだ。 良くないようなことだと思うんですけど。 なので、あわりにね、ストリングディスクライビング使ってくれて 言われちゃってるんで、まあ、わかるならこれですね。 で、こうやってスポーツができるようになって、 で、これでカテゴリの文字列化はOK。 で、その上でここですよね。 オールかスペシフィックか。 この辺りをテキスト表現にするかどうか。 インスタンスそのものはね。 どうするか。 で、この時に、えーと、スペシフィックのカテゴリ。 ここにオールっていうのが仮に混ざっちゃうとすると、テキスト表現が、まあ、破壊されてしまう。 最終的にこのフィルターカテゴリにとってはね。 ではあるんですけど、まあ、カテゴリの中でオールとは出てこないような 作りになってるだろうし、すべての、えー、ね、リバースとか言ってる中でね。 オールって何って話だから、まあ、仕事としないですかね。 そういう風な感覚でいくと、ランダムアクリストのフィルターカテゴリとしても、純粋なね。 それを意味するテキスト表現がある、という風に捉える手もある。 えーと、どうするかね。 だったらどうしようかな。うーん、テキスト表現でしょね。 テキスト表現で、そうね。 まあ、はい、テキスト。ディスクライビング。 ディスクライビングで4ビータースーパー。 フィルターのテキストを、うん。 インスタンスのテキストでしょ。 で、フィルターカテゴリ。で、これ自体がテキスト。 うーん、カテゴリ、フィルターカテゴリ。 まあ、これがフィルタリングの、なんだ、リスト選択肢。 そして捉えると、この選択肢はね、表示のためのね、 そんなにおかしくないかなということで、ちょっと悩むんですけど、 まあ、やってみますか。 要はフィルターカテゴリも、えーと、カスタム、ストリング、コンバーティブル。 それでね、表現してみて、要はディスクイプションを搭載する。 で、それでスイッチ、えーと、セルフ、エースドット、オールだったらオール。 で、それ以外だった場合、その場合はスペシフィックになるでしょ。 から、リストカテゴリ。で、このカテゴリの場合は、ストリング、ディスクライビング、カテゴリですね。 こういう風にしてあげれば、フィルターカテゴリというインスタンスが、 直接的にテキスト表現を持っているというね、そういった状況が作られたということになるんで、 これは使っていく、そんな感じですね。 えーと、ここの、さっきのローバリを使っていたとこですね。 そこだ、テキストでしたね。ポインチでカテゴリでテキスト、そこ。 ここでカテゴリをテキストでね、表示してあげるわけですけど、 カテゴリだけがダメかな、テキストの作り次第で。 もしカスタム、ストリング、コンバーティブルに対応するイニシャライザが入ってれば、これだけでOK。 ということでね、そうするとかなり使い勝手はいいんですが、 これは期待しすぎかもしれない。 でも選べなかったかな。えーと、どうだろう、ちょっと定義を辿ってみますか。 定義が辿れないか、init、で、コンテンツは? 辿ってこないですね。initの定義を辿りたいけど、出てこないや。 要は、どうしたら、ドキュメントですね。 えーと、txt、vst、ui、Appleあたり出てきますかね。 これもイニシャライザをね、ちょっと高めにしますが、 イニシャライザーとして用意されているのは、またこの辺ですね。 ローカライズ武器、これは呼ばれないですがね。 リキッド、アトリビットコンテンツ、initは、アトリビットコンテンツ、ストリング、これじゃないですね。 あとは、フォーマッターというのもありますけど、 これはちょっと違いそうですね。subjectとformatter。 そうすると、ないか。ないですね。 じゃあしょうがない。自分で文字列化する。 文字列化する方法としては、もう一個ちょっと気になるイニシャライザがありますね。 リキッド表現をそのまま出力しようとしているわけなので、 イニシャライザのパワーパッティブル、どうだ。 これが何を取るかですね。引数。ストリングか。なるほど。 そうすると、やるべきことは文字列ですね。 文字列にするとなると、一つの方法はストリングディスクライフィングですね。 もう一個は文字列保管構文。 文字列保管構文でやってみますか。 文字列保管構文、これかっこいいって思ったんですが、 リキッドのインスタンス表現そのままっていうのは何かと無理があるんですかね。 どうだろう。カテゴリーをそのままリキッドに表示できるよみたいな発想が、 なんか若干無理まで大げさな気がするんですけど、 なんとなくできになったんですよね。 これはリクリケイティブってことか。 これでオールにすると全てになることですね。 あとは、マウンテンドならマウンテンだけになること。 大丈夫ですね。リファクタリング完成ですね。 文字列考えが気になりますね。テキストデバーバティブとして。 フィルターカテゴリーというふうにやってますけど、 なんかまどろこしいじゃないですか。 フィルターカテゴリーがテキスト表現を持ってますよと言っている。 それで良いですが、 あとの方法としては、フィルターカテゴリーをね、 文字列化するために型のストリングコンパクティブルではなくて、 タイトルとかラベルとかそういったアプローチを持たせて、 これを使ってここで渡す方法と、 またここで渡すのではなくてテキストのイニシャライザーとして 受け取る方法、この2つが考えられるのと、 あとはテキスト表現を持っているんだったらテキストで表示できるっていう、 すごい普遍的な条件になるじゃないですか。 こういったようなときは腹始め作っておくっていうのがありますよね。 なので、どこだろう、ビュー、ビューいいのかな、ビューのこの辺にしときますか。 例えば、あんまりオリジナルの外部から提供されたものに対して、 汎用的なもので拡張するっていうのは、 あんまりいいことないことが多いんじゃないかなと思うんで、 今回は採用しないようにしようかなとは思うんですが、 新規ファイル少なくていいですね。 カテゴリーに戻ろう。フィルターカテゴリーでいいか。 フィルターカテゴリー、フィルターカテゴリーでいいかですね。 ここでインポートソリとUIしといて、大丈夫出されてますね。 出されてるのは、これで、例えば、 これでとかどうでもよくて、例えばエクステンション、エキスト、これに対してイニット、 で、例えば、イニット、エキスト、これが、 カスタムストリングコンバーティブルみたいなものだった場合には、 セルフイニット、バーバティブルって読み方での、 まあいやストリング、ディスクライビング、エキストっていうふうにやってあげれば、 どうやってもカスタムストリングコンバーティブルを持っているインスタンスに対して エキスト処理ができるよっていうね、 こういったコードにはなるんですけど、ちょっと巨大すぎる。 影響範囲、影響というか受け入れられる範囲が大きすぎる。 しかも、ごく汎用的なものを受け取って、 一般的に使うものに対して拡張してるんで、 今後のバージョンアップでショートする可能性とか、 あとはバージョンアップによって動きが変わる可能性がオーバーロードの都合でね、 そういったものとかが心配になってくるんで、 これはちょっと大すぎるかなと思ったのが、 やめようと最初で思ってた理由なんですけど、 今このコードを書いてみてより、別の理由でやめようかなと思うようになったのが、 このプロトコルってカスタムストリングコンバーティブルじゃないですか。 そういう人の特徴として全てのインスタンスは何らかのテキスト表現が可能。 それをカスタマイズするのがこのカスタムストリングコンバーティブルだということを考えると、 このカスタムのものだけを受け入れるってすごい変ですよね。 カスタムじゃないものだってインスタンスができるじゃないですか。 そうすると何をするようになるかというと、 エニーですよね、ここで取るものってね。 エニーになってこれもできるわけですよ。 どんなインスタンスだろうとそういう人ではテキスト表現できるというルールが決まってるんで、 これもできますよね。こっちの方が妥当というのは明らかなわけですよ。 カスタムだけじゃなくて全部でいいわけですよね。 こうするとなおさら一定範囲が超巨大になってさすがにやばいなというね。 ちなみに今の発想使われているのがプリントですね。 プリント関数はアイテム数をすべてエニーで受け取るというね。 こういった仕組みになっていて、 これは全てのインスタンスがテキスト表現できるから、 どんなものを受け取ってもプリントできるよねという発想ですよね。 それと同じ感じ。 ちょっとこれ巨大すぎるんで、 そうするとここでテキストにイニシャライザー持たせるのは悪くないなと思うんですけど、 限定が必要ですよね。 カテゴリーフィルター。 それで受け取る方はフィルターカテゴリーだったかな。 そうですよね。 ランドマークリストの中のカテゴリーですね。 これをgetbeyondにして、 それでストリングでカテゴリーフィルター。 これをディスクライビングでテキスト表現してあげるというのかなと思って イニシャライザーが止まるかと思ってますよね。 ここが違う。 ファイルプライベートか。 ファイルプライベートタイプ誰か。 フィルターカテゴリーかな。 フィルターカテゴリーがファイルプライベートか。 イニシャライザーエクステンション。 これがプライベートエクステンションですね。 こういう風にしてあげる。 そうするとテキストはフィルターカテゴリーをそのまま受け取って それを表示できるよという すごく限定的で 安全性の高い。 大げさかな。 とにかくシンプルな関数になるんで こうしてあげればこのテキストに対して ラベルを必要とすることもなければ ストリングインタープレーションを必要とすることもなく 素直にフィルターカテゴリーをテキストに表示するという こういったことになってくる。 そんなのがシンプルな気がしましたね。 ラクしているだけとも言えるので やらなくてもいいのかなと思うんですが 普段ラクしているだけという感覚だと やらないほうがいいというほうが 何かと多いんですけど 今回の場合は影響範囲が相当限られているのと プライベートの中でだけだものであるのと 表現上はすごくシンプルで 無理に分かっているかなという気がするので これはラクするだけの雰囲気はあるけれど やっても悪くないかなという気がしますね。 こんな感じでフィルターカテゴリー 搭載できましたが フィルターカテゴリーという名前が書いているたびに 何か違和感を覚えるんですけど がありますね。 フィルターは Unfavorite Only Filter カテゴリー luiSPF  フィルターにカテゴリー風にматせればいいのかな という可能性が感じられるので ここでENURBの フィルターカテゴリーってやってますけど これを勝手憚りか今かえの怖いな ランドマークリストのフィルター ランドマークリストのフィルターに エアサステンタクト リスト の フィルターフィルター 負荷하게というような ランドマークリストの フィルター型 はFoundationじゃなくて 何か間違ってますね。Draft Filter はランドマークリストの ここに入ってんだから ランドマークリスト これでランドマークリストの中では フィルターカテゴリー は定義しないでフィルターを定義して それでフィルターの中で このカテゴリーを定義するんですね こうしてあげてフィルターカテゴリー ランドマークリストのフィルター の名前をもう一回やりますね フィルターのカテゴリーというかカテゴリーズですかね カテゴリーズという風な名前にしてあげて それでフィルターのカテゴリーズ これを Custom Storing Convertedにして それでフィルターのカテゴリーズ これを Identifiableにして それで同じくフィルターのカテゴリーズ これがね All Cases でこんな感じになってきますね さすがにもうセルフでいいかな セルフにして オールケージズもそうですね セルフ こんな風にして あとはつけるところここですね レキストがフィルターのカテゴリーズ で それでカテゴリーズというのかな カテゴリーズ カテゴリーズをレキスト表現してあげるよっていうね こういった風にするのがまずいこと あとどこかでエラーになると思うんですが フィルター ここがランドマークリストの中の フィルターのカテゴリーズですね これがAll 全てのカテゴリーズですね で あとは何だっけかな そうかもしれないですね これでビルドが通れば名前が大分良くなるのかなと思うんですが 何処かしらで名前が悪い名前コインが出てくるか えぇと Mac OS leisure ここか この辺でカテゴリーズですね これも良いですね ランドマークスマップ これも良いですね これでフィルターのカテゴリーズ フィルターのカテゴリーズはいいのか フィルターのカテゴリーズか なので ここだフィルターのカテゴリーズ All Cases ね これで押し上げるとここがカテゴリーズ 情報 エキストとしてカテゴリーズです フィルターカテゴリーズ カテゴリーズは見やすい カテゴリーズはシーケンスのカテゴリー シーケンスのカテゴリー 画は シーケンスのカテゴリー セレクションフィルターカテゴリーズ なんなか混乱してきましたね All Cases でフィルターのカテゴリーズ あ じゃここもフィルターのカテゴリーズ で カテゴリーズこれがフィルターのカテゴリーズですね 混乱したって言うと大丈夫ですよね 大丈夫ですね これでビルドをかけるとこれでオッケーですかね 動くことを確認して 問題ないと思うんですけど 押し上げればカテゴリーがちゃんとカテゴリーとして 浮くように表列化しなくて済むので 問題なく いい感じにできるんじゃないかと思うんですよね リバース そうですよねリバー なってますよね あとは サートルロックってリバーなのかこれ サートルロックは サートルロックはとか書いてあるかな サートルロックとリバー レイクは これで マウンテン いいのか 大丈夫そうですね なんかね これでお気に入りも こっちは出ていないからなんともないと思うんですけど 大丈夫ですね それで 全然関係ないですけど 押し下げてもフィルターをいじらないときは 最後に選んだフィルターのものが 話になるよっていうのが前回リファクタリングというのかな 改良したやつですね 大丈夫ですね これでね これでカテゴリー周りは恐らく綺麗に整ったなと そういう雰囲気を感じますが これだけでいいのかなとりあえず 時間的には意外ですね なので 意外というのは1時間ぐらいを 一応イメージしてるんですけど いつも手長引いてますけどね だからこれぐらいでいいとしますけど 他にはエルタファン量化を作ったのがオッケーで カテゴリー値させてオッケーですね これでね いじれるところ ちょっとサート見ておきますか なるかな ランドマークリスト周りで気になるのは セレクティブランドマークIDは 記録してるだけで使ってないですけど INTで取ってないですね ディスプレイランドマークIDでこれで 今リストに表示すべきIDはどれだっていうのを順番も合わせて 表示してるという状況ですね フィルターはフィルタリングするための情報が入った さっきのフィルターボタンを押したときに 変わるアイテムだったりですね フィルターの方見ておきますけど これは消費割りとカテゴリーズで カテゴリーズの周りは今日 綺麗にしましたね カテゴリーズ周りがこうやってできてて この辺は問題ないでしょう サートね うん 大丈夫な気がしますね 綺麗な感じがする 今回のおさらいになりますけど 今回のポイントはカテゴリー 今まではカテゴリー フィルターから取れたカテゴリーのカテゴリーですね これが今まではカテゴリーとしてランドマークに設定されているこの3種類 これプラスオールが並列にここにケースとして4つ並べたわけですけど 明らかに3つと1つで分け離れてるんで これは一色差にしない方が何かといい感じになるよね っていう感じで今日やった その残りの3つを新しくパターンを作ろうと思ってたんですけど 既にペトリアルにあったのかやってる途中に 自分が作ったのか忘れましたけど カテゴリーっていうのがズバリあったので これペトリアルにあった感じしますよね この3つを既に存在していたってことは フィルターを特定するのかそれとも全てを表示するのか こういった二択にしてそのうちの一択は特定する じゃあ何に特定するかっていう関連値で持たせるというこういった方法と これによってボールがスペシフィックかどっちか 英語の問題で英語は苦手ですけど 英語 カテゴリーズ スペシフィックでいいか そんな風な感じでこれが二択で完全に全てが特定化で ちゃんと相対的活動が最強じゃないですか これによっていい感じに作れてきた 若干オールケーシブが不思議な感じになりましたけどね オールケーシブはフィルターのすべてのケース フィルターのカテゴリーズのすべてのケースってことは ボールの場合が特定の場面全部ですね 特定の場面全部っていうのはカテゴリーの存在するすべてですね それをスペシフィックで包んであげれば完成 問題ないでしょうねっていうのを今日やった それでこの辺はオッケーでしょ フィルターは今言ったように特定したところですね それでオッケーでできてますね あとは変更すべきところ一応あるか見ておきますかね この辺がいいんだろ 全部見ていくのもねと言ってもまたザザッとカテゴリー カテゴリーは今言ったやつですね オッケーですね これもザザッと見たときに問題なさそうですね ディスタンステキスト これはいいのか このテキストで思い出しましたね 1個やりたいことがあったんだ この辺結構リファクトリングしのぐらい来たんで もう1個だけ残ってもらっておきますか ランドマークリストで唯一というか動く気になっているのがタイトルですね タイトルプロパティ タイトルとはどういう状況になっているかここにいろいろ詰め込まれてますけど 今このタイトルは何かというとボディの表現のところの中で ナビゲーションタイトル ナビゲーションタイトルとしてタイトル まあまあいいと言えばいいのかな ランドマークリストのタイトル ナビゲーションタイトルだと .navigationタイトルとかちょっとうるさくなるなあというのが なんか気になっているところで  やっていることはタイトルをカテゴリー図で ローバリューは カテゴリーですね スペシフィックですよね スペシフィックで カテゴリーですよね このカテゴリー は ストリング化 ああありますね ああそっか カスタムストリングコンバーティブル でこれやってるだけだからいいのか ああなるほどね ということで これは ストリングですね ローバリューでいいんですけど 文字列化したいですよね ローバリューを取りたいんじゃなくて 標準文字列を取りたいので ストリング ディスクライフィングですね ここはね 今回の修正によってね なので これで文字列化してランドマークス 全部なのか それともカテゴリー かやっぱフィルターの小フェバリッド オンリーかどうかでタイトルなの タイトルの前にフェバリッドをつける かいなかというのができてくる よという感じになっていると これですが フィルターのほうにフィルター を意味するテキストとして持たせる っていう手も一体要はあります よね フィルター いろいろ条件指定 してるんで フィルターが規律になってる 感があると思うんですよね なので そうする手もあるけどオール だったらランドマークスにする っていうのはちょっとUIのほう の気持ちを知りすぎてる気がする からやっぱりここですかね やっぱ フェバリッドだったらそのテキスト でしょ だからカテゴリーズ カテゴリーズ で そうか まあいいですね カテゴリーズ 自体を文字列化するとオールのとき はオールが取れるんですよ それは それでいいですかね なので考える とそれとは別にこうやって立地 気味に作っていく なんかテーマ の気もしますけどね 文字列 まあ まあでもこんなもんですかね タイトル をここに置くかどうかで迷ったん ですけど タイトルもここで大丈夫 ですかね あと考えられるのはナビゲーション タイトルのモディファイを自分で作る でもありますけど それもいいんですね やっぱりこれで大丈夫ですかね コードが微妙に見えるんですけど まあいいのかな フェバリッドだったら それでしょ カテゴリー タイトル タイトルをカテゴリーズに戻す のも大変ですしね なんかこれでいい 気がしますね じゃあいいや ということ で気に乗ってるとこがなくなった 気がする そんなところで いいですか ね またランドマークローとか一応 見ておきますか 気になるといえば 気になるのはクロスプラットフォーム になってるところで このシェア トリフなんたらかんたら これを もうちょっとスマートに収めたい なというのがあるんですけど なかなか 損いかないですもんね それ専用 に作るとか配慮を分けるとかすれば いいんですけど ただ一応ちっちゃい ものそこまでやるのもランドマーク リスト これについては結構やって るんで タイトルがまずiOSとMacOS 用でしょ なので こういったやつ ですよね これをもしかすると例えば カテゴリーズはエルターカテゴリーズ フィルター自体がプライベート バーが プライベートなのもちょっと 気になるところがあって .if これベースタイルに分けようかな と思ったんですけど それはちょっと 難しいですね 考えられるのはプライベート として ここからは切って 下の ほうに条件付きで 例えばiOSとMacOS だったときに限ってエクステンション プライベート プライベートエクステンション ランドマークリストをやってあげて それでここでエクステンション してあげると スクリプトのタイトル はiOSとMacOSからしか使えないんで ゆっくりウォッチOSで使っちゃう と ウォッチOSでも使うコードに入っ ちゃってるとエラーになってくれる という そういったのがさっきも 紹介でありましたけど もうちょっと まとめられているというような 状況をね そういうふうにすると iOS MacOSというカテゴリー こういった 部分的なものは入れ込んでいくしかない と思うんですけど あとはその他 あまり効果なさそうかな 途中で 出てくるもので ずっぱりと分け られるとするとiOS MacOSがここ ありますね プロファイルツールバー とツールバーというのがあるぐらい ですか これも分けることはできます よね プロファイルツールバー ツールバーですよね でも分ける かどうするかですよね ここもiOS MacOSがありますね iOS MacOS これは まとめられるんじゃないかな こんな 感じで なるべくないほうがいい かなと思うので あとは こんな感じですよね やっぱり あるとすると 例えばWatchOS用モディファイヤー とか iOS用モディファイヤーとか MacOS用モディファイヤーとか そういった ふうに定義を作って ここではサクサク とSharpIFとかやんないで .〇〇って やって その実装が 実は何もない とか そういったようなのを作る ことによって SharpIFをどこかに閉じ込める ことが可能だとは思うんですけど ただ それをするとしても ちょっと ばかしい 大げさなのと融通が 効かないのと いろいろあるから マルチプラットフォーム だから諦める よね そういった感じでいいのかな という気もするけど こうやって 長いコードを見ていても これなら いいですけど ふっかり見落として ここにWatchOS用の入れてよとか あり得なくはないんで もうちょっと 分かりやすい何かが含めてもいい のかなという気はする どうします かね これね WatchOS用 MacOS用 iOSと MacOS用とか そういった感じですよ ね でも これはしょうがないですか ね なら この辺を短めに書くとか そういった感じですかね ツールバー として このツールバーは定義として は ツールバーのコンテント ツールバーコンテントビルダー というのがあるので そうすると コンテントビューでコンテント を返す ツールバーコンテント コンテント はツールバーコンテント 例えば このツールバーコンテント を売る ツールバー これは何だろう これは ツールバーコンテント というのかな 例えば 条件は これ は MacOSとMacOSで書くとか使い たいですね ツールバーコンテント として関数 が割んないかな ツールバーコンテント としてThermal ツールバーコンテントはいいか この 中に貼ってあげて ツールバー いた作ってるけど これをツール バーコンテントビルダーでした って こうしてあげて これでコンテント はね 別に取り出されて作られた んで そしたらこれを すげえここに ツールバーに対して ツールバーに対して ツールバーの コンテントここですが これに対して ツールバーコンテントとやると どうなった ってのは テキストですね そう ツールバーコンテントですけど 関数 ですよね バーツールバーコンテント の場合だと あれはツールバーコンテント だから○カップで作ってあげる 感じですね ツールバーコンテント のコンテントはツールバーコンテント ヤ ポンテントはツールバーコンテント で それでコンテントを返す関数 を分けて入れてますよね ツールバー コンテントビルダー ツールバーコンテント ビルダーでそういったものにせよ だから そういった関数にすれば いいんですだっけ バーじゃなくて ファンクションにして もうですか こういうか 戻り値だからこうか 待ってるんだっけこれ っていう のが どっちかというと引数があって こうか戻り値が こうしたときに リターンタイプがリターンエクスプレーション あそこか ここがサムなんたらが できないのかなとするとツールバー コンテントコンテントがツールバー コンテントで それで戻り値がコンテント ですよね これなら大丈夫ですか まあダメか コンバートできない あそこか ロージャーになってない というか これでいいんだ 普通に 関数何のために作ったかってですね 割れていいですね 割れてジェネリック とか ジェネリックの戻り値になってる のでジェネリック関数ですけど これでいいですかね こうしてあげる と 上のほうもちゃんと引いてこう か こうしてあげると見た目的に すごくシンプルになったんで この シャープUがちょっと多いですけど これがあっても この中はiOSとMacOS 用だなみたいな感じで伺えます よね これでちょっと実行してみて ちょっと動くかどうか ちょっと動くかというのはこの ボタンがあるかどうかですね ついで ば あとは普通にデータが上がって いくよということで オッケーですか ね レイクスどんなもんでしたっけ レイクスっぽいですね シルバー 3をクリックしてレイクスのバー でもレイクスで書いてますね 大丈夫 ですね これでちょっとスッキリとした 感じがする あとは考えられるのは GoogleOS MacOSで iOS MacOS両方で こんな もんですかね 全然ね この辺ノンチェンジ でこれは何のためだったのかという のが あそこかGoogleOSで長押しを 再生してしまうとリストバックできなくなる という問題の話だ これはいくつ もいいですが まだいいですね とりあえず あとここのオンザード しているエレクティックランドマークス が変更されたときのコード これは もういらなくなってますね これはいい ですね あとこのiOSだった場合 とりあえずiOSだった場合になってます ね だからこれiOS用のコードって ことはこれコメントアウトで何も 意味もないですけど ここですね そうするとね 長押しの実装 これで iOSだった場合 ここの条件 何もいらなくなった これでいい ですね これでここに乗った感じ ですが これは何だ これはフィルター ここもあまり綺麗だなと思い出しました フィルター これもやりたかったんだ 思い出しましたね 何をやりたかった かって言いますと フィルター ランドマークスを作るときに このフィルターの型の条件に応じて フィルタリングをやっていること になる もっと言うとフィルター ランドマークスはディスプレイ ランドマークID これを持っている ものの全部という形で取り渡している というところまではいいんですけど このときにディスプレイランドマークID これがある アップデートランドマーク リストで ここでフィルターに応じて フィルタリングをやっている なので全部スイッチのフィルター の何たらかんだらってやっている ということは フィルターを満たしている かというメソッドを搭載してしまえば 十分な気がするんですよ なので それを搭載してみたいなと思って たのを忘れていた なのでフィルター 型 これを確かめるというか フィルター 型を作ってあげたいなという 気がする フィルターを満たしている か それをよるにはフィルターに対して いつサティスファイルみたいな メソッドを持たせればいいんですかね 何が満たしているかですよね これはフィルターでランドマーク があって ランドマークが良さそう なので サティスファイル 英語がわからない ちょっとGPTに来てみますか フィルターの内容をランドマーク が満たしているか 満たしている かを英語にしてくださいとして これがフィルター フィルター は whether the landmark satisfies the filter だから フィルターがサティスファイル にしたい場合からそうすると これで フィルターがAPIを持つんで 英訳 はフィルターですよね なので 英訳 しかもBool型の値を返すということ です 具体がどうであるかという 表現にすると どういったAPIが出た 意外とないんです こういった名前 になるという ことで今英語を作って もらってるんですけど 修行をフィルター にしてくださいと 英語弱い意味 としては作れますよね こうやって ちゃんとやれるのね チェック if the filter matches the landmark あとはdetermine whether the filter applies to か アプライズって安定するという か プログラムやってるとアプライズ 適用しちゃいそうな雰囲気を感じる けど こんなことないのかな これ はランドマーク これは違いますよね フィルターdetermineか あとはtest かtest markか この辺で考えるとmatches がいい気がしますね filter.matches landmarkみたいな感じでね 合体 するか フィルターが合体するか これにしてみましょう そうすると フィルターに対して エクステンション はこの辺だけど フィルターに対して 素直に拡張してるとこないか 型 の定義 型の定義の中に書いてれば いいんですけど 自分は型の定義 とフルマイトは分けたいなという 気持ちがなぜか働くので こうやって 書いて ファンクションマッチーズ でランドマークですね これで ランドマーク モード1がプールっていう ふうな感想を作ってあげて そうすると この男がいつ買ってこれサティス ファイト ここの辺ですが 売れ たんですね アップデートランドマーク でいろいろ条件が売られたわけ ですけど 要はここですよね リスティングランドマーク IDはモデルデータのランドマーク のフィルターで フィルターにマッチ するもののIDって こういったこと になりますよね なので ここでやれる こととしては フィルターのマッチーズ こういうふうに書くことができない フィルターマッチーズは関数ですけ ど タイトルのはずなんだけど ランドマーク マッチーズ これ バインディング でしたっけ ランドマークスのこと ないですよね ランドマークスは ランドマークの配列なので ランドマーク オッケーですよね フィルターがマッチ マッチーズ マッチ バインディング ですね こういうふうにしてあげる と フィルターにマッチするか っていうふうに書き方になる それで フィルターにマッチしているかどうか っていう条件はこれなわけですよ 要は この辺 ずっと長いやつ これ なので こうしてあげると もう 素直ですよね アップデートランドマーク リストはIDを更新する それはランドマーク スの中からフィルターにマッチ するもののIDを持っておくっていう バリアスですね なので こうした 上でマッチーズのメソッドとか マッチーズとかいった マッチーズ は書いたところができたと言えば 大丈夫ですかね マッチーズ この中で安定を得上げるっていうこと ですよね まだちゃんとやってない ですけどね それで自分自身に関心 を持っていったので このフィルター っていう主体がモチーフなので いらなくなりますよね そうすると メトロですよね こうした上で IsFilterSatisfiedWithランドマークを 読んであげれば終わるんですけど それでちょっとここもなんか長いん で見ていきたいなと思うんですよ そうするとここでフィルターコンディションズ としてランドマークとテーブル を返すもの それをいろいろと加えて いって これをいっぺんに適用させよう というそういった発想で作った わけですけど またどこか上から なってる気がなんかする なので これについてもうちょっとシンプル にやっていきたいなというところ なんですけど 要は何をしてるか というとIsFilterSatisfiedWithを見て みれば すごいサティスファイですよね フィルターコンディションズに 加えたフィルター関数たちを すべてランドマークが満たせば オッケーですよね こういったふう なコードになっている 加えている ものというのはこのAppendの5カテゴリー フィルター 要はカテゴリーのフィルター のやつと あとはこのAppendのfavorite コンディション これですね この2つ この2つの両方を満たせば フィルターに合致しているよっていう ね また2つのためにこのちょっと 複雑な関数型の配列って何回やり すぎだなと思うので それをやって いきたいというところで フィルター ランドマークだからNoFavoritesOnly ですよね これはというかフォルス によってまず状況が変わっていきます ね なので状況を満たせばそれで オッケーだと思うんで NoFavoritesOnly がフォルスだったとき これ全て じゃないですね これカット次ですね だからこの辺はもうちょっと工夫 しないといけないのか NoFavoritesOnly はこうやってシンプルで 次のランドマーク はカテゴリーがAllかスペシファイ でAllだったらするんですね スペシフィック だった場合にはカテゴリーがランドマーク と一致するか 条件はすごい簡単 ですよね この2つが一致するカテゴリー がただそれだけ なので これはどれ どれを関数外に出しちゃえばいい んですかね まずはとりあえず既に プライベートオフエクステンション がそんなに生き込むほどでもない ですね なのでマッチーズ フィルター がマッチーズですね フィルター の他に考えられるのがお気に入り とカテゴリーですよね それがAPI としてあればよくて フィルター のお気に入りのフィルターがということ かな では ちょっとGPDにもっと頼 みますけど どれだ どれだ 甘いのか ユーザンシステム さっき言われた では お気に入りのフィルター を主考にした場合 何だっけ カテゴリー のフィルター カテゴリーのフィルター を主考にした場合は 何だろう フェヴァリット オフかな 分からない フェヴァリット フィルターマッチーズ フェヴァリット フィルターマッチーズですよね クラッシュ語がフィルター フィルター をね 難しいですね そこまでこだわん なくてもいい気もするんですけど フィルターという単語から始められ ますか 聞いてみようかな もうできる らしい フィルターチェックス そうか ランドマークマッチーズ フィルター ディタミンスフェザー ディタミンスフェザー ランドマーク スペースファイズ イッツコンディション 状況を満たしているかですよね どうか お気に入りが分かること これは知りたい フェヴァリット フィルター フィルター カテゴリー フィルターになってましたね フィルター マッチーズ フィルターどうしよう かな フィルターチェックス ランドマーク 難しいですね どうしようかな 英語が 英語力がないな フィルター どうしようかな どこまで頑張らなく ていいのかな フィルター ちゃんと やりますか カテゴリー フィルター カテゴリー フィルターが だから フィルターがいたすか 何だろう 何か いい方法というか いい文章 が思い浮かばない だからフィルター が ランドマークにマッチするか ですよね フィルターじゃなくても いいのか フィルターでいいんですけど プライベート プライベート アクション エイバリッドフィルター マッチーズでランドマーク こんな ふうな感じで ちょっと何かよくない 気がするんですが いやでも分から なくはないですかね エイバリッド フィルター この場合は ブールだった 場合には主体がどうという表現 というよりは レシーバーとして フィルターですね これが持っている ものがフィルターカマみたいな 感じですね 文章的には これで エイバリッドフィルターがマッチーズ ランドマークっていうね こういった 表現の感じで 悪くないかなということ にして これでエイバリッドフィルター マッチーズでランドマーク これで そうすると まずこのマッチーズ のお気に入りに対してのフィルター に着目した機能 それだけに投資 を取ってあげますよね でも微小 フェバリッドオンリーのフィルター がオンだったときには ランドマーク がお気に入りかどうか これによって フィルターの結果変わりますが 微小 フェバリッドオンリーが付いて ない場合はもはや必ず満たします よね ランドマークね それで なので これで良い このセッティングを 見ても良いんですけど 参考に フェバリッドオンリーだった場合 には ランドマークがいつフェバリッド かですね それで そうじゃなければ 必ずプル これで良いですね この 一例だけのコードだったら ちょっと 頭悩ませても分かりますよね きっと フェバリッドオンリーだったら フェバリッドかどうか そうじゃなければ プルですよ これで良いですね これで良くて ちょっとなんか表が 変なとこで解除されてるから ウィンドウハーバー 収納しますが これで良いかね 同様にファンクションで エイバリッド フェバリッドじゃない カテゴリー マッチーズ フィルター マッチーズ ランドマーク マッチーズマークってさっきね 英語をチャットビューティーに 教わったときには 全然必要ないんですかね 要るのかな ウィズとか要らないのかな っていうのが 気になってるんだけど まあ いいか プル これも同じように カテゴリーでね フィルタリングをかけてあげる だから ここですね カテゴリー これがiOSのMac OS専用版 ここは条件文で 送ってあげれば 間違いなく使う ことはなくなる そもそも使いたい カテゴリーがこの中でしかないん で 間違いが良くないようにすでに なってますけどね これでカテゴリー の一致条件はこの中ですね ここ にカテゴリーに対してオールだった 場合には無条件トゥですね そうじゃ なければカテゴリーのランドマーク と一致しているか というシンプル ですね こうやって切り出してみる とね なので これでウィバリッド フィルターとカテゴリーフィルター のマッチ条件 マッチ判定がそれが もうできるようになった そしたら この二つがマッチしているかっていう のをこのマッチ図で調べればよい わけで このフィルターコンディション みたいなのをわざと作る必要も なければ このis何たらかんたら とかをこうやってまとめて難しく するみたいな 難しくというより は長くですね 作る必要もないという 状況で それで最後にこのフィルター オールサティスファイでまとめ 上げてもらった要領を満たすか とかですね なのでここでウィバリッド フィルターマッチ図ランドマーク ×カテゴリーフィルターランドマッチ図 ランドマーク こんなふうに書いて あって これだとOS用とかここは ビルドできないんですけど ここで ちょっと問題があったんでした ね &&っていう演算子 これが演算子 演算子はここで開業してシャープ イフでこれを送るということが できないんですよ なのでこれを 何とかしないといけなくて どう 何とかするかですよね 簡単なのは 条件で片側なら1個だけ もう1個 条件で両方っていうふうに載っか けばよいですよね ウィバリッド フィルターマッチ図が複数2回書かれ ちゃうというのを無意味に気に しているという状況になっているん ですけど それはどうしようですかね そうすると 2段階にするという方法が一つと あとは条件文 条件文は関係ない か ここはあんまり細かいことを 考えなくていいかもしれないですね なので やり方として一つあり得る のはWatchOS iOSまたはMacOSだったとき には両方で判定する そうじゃなかった とき だからElseIfOSWatchOSElseIfWatchOS だったときには Favoriteフィルター だけですね Favoriteフィルターマッチ 図ランドマーク &&のif こうやって ちょっと簡単に置くのは こんな ことばかりにビジョンOSが作った ようなときに ビジョンOSが戻り ないのでエラーになってくる 特定の条件なのかな また別の条件 なのかなというのをこのとき考え られるんでちょっと半分にして おく ここはElseにする手もあるん ですけど Elseにしておくとこうやって ビジョンOSの場合下行っているので まだ想定もしていないんでいい んですけど こういった感じであえて if 文を中に浮かせておくっていう のは このSharpIfにおいては重要 になってくる 重要は言い過ぎが やるようになってくる こんな感じ がなってますね とりあえずこれで マッチ図で条件をちゃんと判定 できるようになったらビッグ ビッグですね それでこっちのAppでランドマック のフィルターにマッチするもの だけをフィルターしてIDを取る ね これでフィルターできるかな できると思うんですけどフィルター をかけてみて それで大丈夫ですよね ちゃんと動いて これ一回落とします か ちょっとGPTね ちょっとGPTは裏 に置いといて これでこれを動かして Appにどこかな ここじゃないですね 動いてないかな App開いた 戻り ました これですね これがいるのでフィルター で項目が全部出ていて今リスト いっつも出そうですよね エペガリ 通りにするとお気に入りだけになり ましたね エペガリ通り外すと外 れますね リバーズにするとリバー だけになりましたね こんな風に お気に入りにすると両方分かります ね 大丈夫ですね こんな感じでコード がマルチプラットフォームが相変わらず ですけどでもだいぶ良くなった かなという気がなんとなってしまう からね iOSでランドマックリスト が ここは流すぎても困るからこれ ぐらいでいいでしょうね 同じ条件 で作ってますけどランドマックリスト のフィルターに対しての確定は かかっちゃった そんな感じでできたのでこれで あとこの辺は気に入ったとこですけど この辺はしょうがなさそうですかね Mac OSとかになってるからWinWiz ここ 対象値というものをリテラルじゃない やスタティックな値で持っておく 手間ありますけどね WinWizをMac OS だったら300にしといてそれ以外だったら 20っていう感じね それともいいですね そうしましょうか Mac OSだったら そうですよね なのでエクステンション っていうのかなスタティックの 場合 スタティックの場合はiOS Mac OSで でも面倒かな どっちでもいい気が してきたみたいな感じしますが そしてこの辺に持たせておきます やくエンドイフと同様にやくイフ これまでも微妙かなWatchOSだった 場合の条件と引き継いだネットは どうだ ここですね こんな感じ ここも やってあげて これでiOSだったら ニルでWatchOSだったらニルみたいな 感じでリテラル作ってあげて それ でこの中で WinWizにしましたっけ ない気がする リスト しかもリスト ですよね これリストのミニマム のリストですよね なのでこの辺 の名前をこれをリストミニマムWiz にしてあげて それでこの名前を 買ってあげれば これディレクティブ と関係なく変えますよね そうする とここが条件いらなくなって 立ち上がるようになりますよね でもダメだ これはセルフですね この辺はしょうがないからこれで タイトルは定義はどこでしたっけ タイトルはこれか これは大丈夫 でしたね iOSまたはMacOSっていう 程度ですね だからこれは良いですね iOSまたはMacOSならタイトルを設定 するよ え するか入れていくよ なので ここがいいですね こんな感じで良い かなっていう感じがしてきました でもある程度はこうやってディレクティブ が目立つかつ大きいの枠組みで さっくりと捉えてくれるんで これはいいか これはいいね なので さっくりと捉えてくれればある程度 はいい感じにこの辺もパークできて ちょっとこのタイトルが稀に出て きますけどね これはしょうがない ということにして 大丈夫ですかね 良さそうです こんな感じでこれまでのアプター のリファクトリングが終わったんで ここでまた続きテクトでしたっけ ね セクション4が終わったとこなので 続いてMacOSのセクション5のところ ですね それをまた引き続きこの MacOSアプのセクション5 これをあとは 後日やっていく感じにしますね セクション5は何をするんだろう セクション5はどこだ セクション3 でしょ セクション4が終わってこれ なのでセクション5はこれだ ビルド インメニューコマンド あーなるほど MacOS用アプリなんで メニューからやっていこうよという そういったお話になっていくと思 われる セクション5が終わったら またゆっくり見ていきましょう じゃあ今日はこれで終わりにします ね お疲れ様でした

Transcription & Summarize : とりあえず読書会 SwiftUI Tutorials #37

はい、それではとりあえずSwift UIチュートリアルを読み進めるのを始めていきましょう。 今日の引き続き、Mac OS版を作っていこうというやつで、前回くらいにいろいろリファクトリングをやって、 ちょっと細かいところをね、混乱した感じですけど、 もう何とかね、まあ時間かかりましたけどね、うまくいって、 最後のことですけど、まあそんな感じのやりつつ、 今日はね、もうちょっと複雑、実はそれは関係ないよ、複雑なことはまた今度やるとして、 今日は引き続きね、朝日の方のセクション6ですね。 それをやっていく感じにしましょう。 はい、では早速いきますね。 えーと、このコードはまあいいか、コードよりもまずは進めていきましょう。 えーと、どこだ、Swiftのセクション6なので結構後ろの方ですよね。 セクション3でしょ、今のが。 えーと、あの、後続の結構の速度でスクロールされてますけど、 どうなんだろうね、配信だとコマージーしてるのかな。 あ、セクション7まで来ちゃった。 あの、一個前ですね。 このセクション6をやっていきましょう、今日は。 えーと、セクション6、カスタムメニューコマンド、これを作っていく。 えーと、あれ、カスタムメニューコマンドとか、今までの組み込みの方でしたね。 じゃあ、続いてカスタムやっていきましょう。 えーと、前のセクションでは、フィルトインメニューコマンドセットを使った。 で、このセクションでは、カスタムコマンド、えーと、 トークーリング、フェイバリットスペット、パレント、セレクティブラウンドマーク。 あれ、これ読めなかったっけなって、引き出してきてしまいましたが、 やった気がしますよね、なんかね。 まあ、一応読んでいってみますか。 えーと、ラウンドマークが、現在セレクトされてるのを知るために、 フォーカスドゥバインディングをやりましたよね。 まあ、復習的な感じですかね。 フィルトインメニューコマンド、フェイバリットスペット、パレント、セレクティブラウンドマーク。 で、セレクトとして、フォーカスドゥバリュー、そうですよね。 それを、えーと、拡張してやりましたね。 なので、こんな感じで。 えーと、バインディング、フォーカスドゥバリューっていうのを使うことによって、 これで、えーと、このメニューがどれに関連するか、ですよね。 どこにフォーカスするかみたいな感じですかね。 で、これで、えーと、フォーカスドゥバリューは、バインディングラウンドマークがあった。 これを使うようにして、で、それで、セレクティブラウンドマークで、 この同じパターン、これはオプショナルですね。 セレクトされてない可能性もあるんでね。 それで、ゲットアウトセッターを作ってあげると、 これで、フォーカスドゥバリューとして、セレクティブラウンドマークが、 あのー、渡せるようになるので、 あとは、これをメニューにね、関連させてあげるっていうやり方だったはず。 で、これ、あのー、エンバイロメントの時もそうですけど、 なんか、AKとして書くのか、なんか、もうちょっと、 良い方法ないのかなーとか、このことを見ると思うんですけど、 こんなもんですかね。 で、こういうふうに、フォーカスドゥバリューで、 まあ、基本はね、この、サブスクリプトでアクセスするよ、 ということになっていて、 で、それを楽にするための、 技法ですよね、やっぱりね。 だから、まあ、プロパティラッパー作っちゃえば、そんなに難しいことないし、 もしかすると、今ならね、既にあるかもしれないし、 まあ、そんなことですが、 まあ、覚えてたら、これのリパクタリング、プロパティラッパー、 それでね、作るのをやってみるのも、良いかもしれないですね。 まあ、そんな感じで、とりあえず、フォーカスドゥバインディング、 今度はこれを使ったコマンドに対してね、 フォーカスドゥバインディングで、さっき作ったやつ、 デレクティブランドマークを、関連付けてあげて、 これによって、デレクティブランドマークのオプション、 まあ、これを関連付けて、 まあ、どうしてたんでしたっけね。 えーと、これは、あれだっけか。 で、サイドバーコマンドって、基本のね、あの、コマンドで、 まあ、基本では、組み込みのね、コマンドで、 これを使うと、もう、サイドバーが出たり消えたりが、 すぐできるっていう状況だったと思うんですけど、 デレクティブランドマーク、これは何でしたっけね。 えーと、アドニューコマンドメニューで、とりあえず、 コマンドを作り、ああ、そうだ、これで作って、 だから、そうだね、コマンズに対して、 普通のコマンドを返すっていう感じで、 で、サイドバーのコマンドはまた、既にあって、 で、それでね、カスタムの作ったということで、 ここで、いろいろ、やっていくって感じでしたね。 それはね、まあ、完全に復習になってますね。 えーと、リファクタリングしたら、すぐに忘れたってことですかね。 コマンドランドマーク、うん。 なんか、意外と難しいな、この辺。 で、コマンドメニュー、慣れればできるんでしょうけど、 慣れてないと、なんか、この手順を踏んでいくの、難しいですね。 ボタンを作って、デレクティブランドマークが、 バインティングされてあって、 で、それのお気に入り状態によって、 ボタンのね、表示を変えつつ、 ボタンが押されたときには、エヴァリッドをコグルする。 まあ、コードデバイはね、簡単なんですけどね。 で、それで、デレクティブランドマークがなければ、 このボタンは押せないようにする、って感じですよね。 で、それで、キーボード消化と割り当てて、 これでもう、動く、みたいな感じのお話でした。 でね、まあ、まだ、あとね、 また、このデレクティブランドマーク、 これを、えーと、ステイトとして、 ステイトとして用意しておいて、 で、ステイトとして用意しておいて、 で、それで、 デレクティブランドマークの選択に関連 付けてあげて、 ボタンを押されると、 それに、モデルデータのランドマーク数の値を 動かさせてあげると、 これが、ヨシナに変化していって、 メニューに反映されていくと、 セレクトされているランドマークにね、 反映されていくと、 まあ、そういった感じになるんですかね。 ちょっと難しいな。とりあえずこれは、 そういうものだということにして、 だから、セクション次、とりあえず次行きましょうね。 ここまではやってはいるのでね。 じゃあ、次はセクション7だ。 今日は7からか。 じゃあ、ここからやっていくということになるので、 セクション7だ。 ちょっと、選ぶことがないといけないですね。 セクション7でした。 セクション7から進めていきましょう。 コンテンツとしてはこれだ。 じゃあ、行きますね。 Preference with Settings Sceneに プリファレンスを追加するという感じのお話みたいなね。 ユーザーを対する、調整する、OSのセッティングを 標準的なセッティングメニュー、アイテムから設定するのを期待する。 コマンド、看板のやつですね、これね。 そのために、プリファレンスをこのアプリにね、 Settings Sceneによって追加する。 セッティングスではないか、シーン。 シーンのビューは、プリファレンスウィンドウのコンテンツを定義する。 コントロール、イニシャルズームレベル。 MapViewのイニシャルズームレベルのコントロール。 それに使うらしい。 使うのを作るらしい。 で、コミュニケーション。 MapViewと連絡して、 それで、それを永続的に保存する。 AppStoragePropertyWrapper。 これで永続的に保存する。 ここでやっと、永続化が出てくるんだ。 結構重要ですよね。 iOSだけでも重要だと思うんですけど、 OSのセクションまでやらないと出てこないんだ。 とにかく、ズームオプションが、 2、Mediumと4。 それによって、中位というか、普通というか、 記録というか、そういった形で打ち上げて、 このために、いろいろとやっていくことになる という感じですね。 これは、ステップ1で、MapViewでズームイナミレーションをキャラクタライズ。 ズームレベルでキャラクタライズ。 キャラクターで、キャラクターというか、 Zoomの影響じゃないや、ズームのレベルを、 それを取り入れるものを作る。 MapViewの中にイナミレーションを作る。 これはどうですかね。 MapViewとして、ズームレベルを持つので、 内部状態というか、その観点でのズームとして、 2、Add、Mediumと4を設定する。 これで、Case IterableとIdentifiableとString。 これらを持っているのは、どうそうですね。 今回はね、ZoomはA特化したいから、 テキストで保存されているということが、 結構重要になってきそうで、 まあ、数字でもいいですけど、でもね、 文字の方が何かと扱いやすそうですね。 あと、Case Iterableによって、多分、Zoomレベルを 選択できるようにしたいということでしょうね。 Identifiableは、きっと、そういった UIとの都合でしょうね、これはね。 なので、MapViewにこれらを追加するよというのを、 やっておきますか。 なので、これでMapViewに対して、 追加していくんですけど、 この時に、今の方は、別にMapの中だけで 使うわけじゃないので、 プライベートにする必要は、まあ、 どうやってもやってはいないですけど、 必要ないですよね。なので、今回は、どうするんですか。 どうするなら、書いておいておいた方が いいかなというね、そういったお話ね。 別に、わけなくてもいいと思うんですけど、 まあ、せっかくね。 せっかくあるので、分けられるので、 エクステンションがあるのでね。 それを使ってあげると、いい感じに分けられるから、 モデルに対して作っておきますかね。 MapViewのMapZoomをどう作ろうかな。 MapViewですよね。 とりあえず、ファイルとしては、MapViewのZoomという感じのファイル名にして、 今はここに、あ、そうか。 MapViewと同じ範囲か。 MapViewは全部のOSで使っているから、全部ですね。 これにして、これでエクステンション。 MapViewだから、MapKitをインポートですかね。 MapKitで、エクステンションで、Map、 あ、MapViewだからあんまり分けないや。 インポート別にいらなさそうですね。 MapViewに対して、Zoomからね、追加して。 それで、こんな感じでOKですけど、 基本的には、レッド型に対して実装を書くというのは、 なぜかさっき言ったような気分になるので、 これ、エクステンションで実装しておきますかね。 Zoom、これに対してIDを、計算型プロパティで持ってあげる。 そういえば、この書き方、エクステンションでね。 型の根本的なところ、これを記載して。 実装に関する部分は別に分けるっていうね。 この書き方って、そういえば、この読書会で、 最初に取り上げたラストの方、ラストの実装のタイル。 あれは、型とかをまず普通に宣言して、 それの実装として、インプルっていうキーワードを使って実装していくっていうのと、 なんとなく雰囲気が似てる感じがしますね。 多分、そういったのと似た意図だと思うんですけどね、この分け方となるのは。 頭でも型の定義として、こういったものを用意して、 それの振る舞いとして用意する。 だから、データと振る舞いですよね。 オブジェクト思考の基本で言ったっていうのが分からないですけど、 データというものにメソッドを添えるっていうね。 だから、データに振る舞いって形で表現を増やしていけるみたいな形で言うと、 データの定義とその振る舞いの定義ね。 実際のインスタンスが持つデータとそれに関連付ける数たち。 こういったものと分けた方がメリハリがあっていいかなっていう、 そんな雰囲気だと思われる。 残り3を読めば消しておきますかね。 これで、IDは自分自身ですよっていうね、 こんな感じでできましたね。 関連値を持っていなければ、普通にね、ハッシュとして使える。 関連値持ってても使えるのかな。 どうでしたっけ。どこだけ書いてみますか。 enumで、sとk、s、aとしてストリングを持つよっていうようなやつを、 要はハッシュアブルね。 ハッシュアブルということはできますよね。 そうですよね。書かなくてもできるのかな。 例えば、identifiableで。 identifiableっていうのはね、IDとしてハッシュ型の何か返すっていう、 そういったコードを求めているんで、 ここではIDとしてセルフを返すよとして、セルフ返してあげる。 残り3は、identifiableはconfirm。 identifiableに準拠していないと言われますね。 ハッシュアブル?ハッシュアブルってイメージ的に書くのか。 そうなのか。ここに出てますよね。 ストリングが入ったからですかね。 ハッシュアブルを書くと、これハッシュ、 ハッシュストレートストリングと、 レッドシットがハッシュなのでね、大丈夫だろうと。 という感じですかね。 とりあえずこれで、Zoomが実装できたということで、 次に行ってみましょう。 ここまで良くて、次ですね。 この中で、セッションですよね。 これで、メニューができて。 メニューというか、Zoomのね、メニューができて。 それで、アップストレージプロパティをZoomへと。 Zoomというアップストレージプロパティを、 メディアムズームレベルをデフォルトとして追加する。 で、ユーザーユーストレージキー。 プレジキー、ユニークアイデンティファイア。 パラメータのユニークアイデンティファイア。 ローアリングアイテムをユーザーデフォルトに入れるような感じで、 ユニークなアイデンティファイア。 これを、キーを使うらしい。 なので、ワンダーレイングメカニズムで、 裏でね、働く移行の都合で。 アップストレージに対して、アイディアを渡して、 プライベート、バー、ズームとして、この初期資料をメディアムとして渡す。 これもコピーしちゃいますかね。 コードとしてはこれだけですよね、説明的に。 まず追加しちゃいますか。マップビューに対してね。 マップビューで使うのか。 オフすると、Zoomレベル、いや、外から出ますね。 プライベートにするか、インターナルにするか。 今言ったんですけど、インターナルで大丈夫なはずですね。 で、それで、ビューでマップビュー。 コントロール、ここですね。 この中にマップビューとか探してたけど、 もう見つかりましたけど、 あれかの分からないときは、コマンドシフトを押すとね、 オープンクリックに出てくるので、ここでマップビューを入れると、 もう出てきますよね、マップビューね。 で、マップビューが出てきて、 それどこにあるかみたいなのが知っていたときには、 コマンドシフトJを押すとね、そこがナビゲーターで 表示されるよっていう、そういった動きを見せるので、 これは覚えておくと結構便利ですね。 今忘れてましたけどね。 で、次で、コーディネートの上下、どっちだろうな。 どっちでもいいけど、絵図化的な、 根本的なところは上のほうに揃えておきますかね。 どっちでもほとんどいいと思うんですけど。 プログラム上は何の問題もない。 で、AppStorageのマップビュー、Zoomで、 プライベートか、プライベートじゃんね。 プライベート、ああ、そうか。 そうすると、Zoomの型自体もプライベートで 良さそうな気がしてきちゃいますね。 でも、イニシャライザー次第。 いや、でも大丈夫な気がする。 もういいか。 ここまでは、別にインページを落としまいと、 渡せなければね、 ここのZoomをいじられなければ 大した問題じゃないんで、 まあまあ、インターナルでいいでしょう。 じゃあ、これでAppStorageということでできて、 タイプ3。 Longitude、Platitude、Height、Heightの差分を変更する。 コントラクト、Region、Property、Value。 Zoomに移動するRegion、Propertyを作って、 これで、デルタね。 デルタを作って、これで、Zoomレベルを 調整していくみたいね。 デルタというのが、マップビューに対して搭載される。 これも書いておきますか。 マップビューに対して搭載される。 こいつのエクステンションがいいなっていう気が なんとなくするんで、 マップビューのエクステンションとして、 Propertyね。 デルタが、CLLocationDegrees。 このパターンもちょっと微妙かなと思うけど、 これこそプライベートエクステンションにしておけば、 CLLocationみたいなちょっとローレベルなものでもね、 表に触れさせないで使えるんで、 これだったら、旧大伝という感じですかね。 それで、これらは、 Return、0.0,0.2というのを返すよと。 まあそうね、これも妥当な感じですかね。 ZoomレベルがこのLのアイリズムでは知らないと思うんで、 マップビューがこれを管理すればいい感じでしょう。 こんな感じで作ったら、 次にSettingsシーンを作っていく。 で、コントロール。 あと、Zoomバリューをストアしたコントロールのシーン、 作っていくらしい。 で、新しいスイッチとUIのビューを、 ランドマークセッティングという名前で作って、 MacOSアプリだけで使っていくよということにするらしい。 で、それをまずは打って、 その後AppStoragePropertyで、 同じキー、 マップビューで使ったのと同じキーを設定してあげる。 同じキーを設定するということは、 同じ値を扱うということで、 まあ良いんでしょうね。 セッティングスで、 セットしたものをマップでそのまま使うという、 そういったことが期待されていると思われる。 うん。 まずはここまでやっちゃいますか。 ランドマークセッティングですね。 ランドマークセッティングを新たに作る。 ビューとして作る。 ランドマークセッティングはビューなので、 えーと、 ビューって区切りがないのか。 えーと、ないですかね。 えーと、ビュー自体がここが一番上ですね。 なので、ここに対してUIPを使って、 ランドマークセッティングを、 ああ、macOS用だけって言ってましたね。 ちょっとチェック入れすぎましたね。 なので、それを、えーと、 別には、横のメニューの出し方が分からない。 それを押せば出てきますけど、 このファイル、ランドマークセッティングのWatchOSとiOSは消してあげて、 macOSだけにしてあげる。 ということは、macOSだけなので、 あくまでも自分の監修所、macOS用のファイルだということを、 ファイル名で表現しておいて、 その上で、AppStorageで、キーが、マップビューの、 あれ何でしたっけ、Zoomか、Zoom。 ここもプライベートバーで、Zoomで、マップビューのZoomだった。 規定がMediumでしたけど、ここもMediumを搭載したという感じですけど、 さっきは気のせいでしたっけ、 両方Mediumが規定値。ここ気になるけど、まあいいのか。 先に開いたほうで、ここがMediumが対応されて、って感じで、 まとむからいいけど、両方がMediumだと、これ規定をHighにしたいよねってなった時に、 片方だけHighにしてね、安心したって、設定から入るか、マップを表示するから入るかで、 最初の拡大倍率が変わってきちゃうみたいな、微妙に分かりにくい問題が起こりそうな気がするんで、 そういった場合は、Zoom自体にディフォルトイニシャライザーを搭載した方がいい気がしますね。 引き続き取らないイニシャライザーで、 これはセルフのイニシャライザーで、 こうしてあげると、イニシャライザーでMediumが作れる。 これが作れれば、もはやZoomレベル、Mediumを規定とするというのを、こうやって書けますよね。 イニシャライザー、規定のイニシャライザーでね。 それが書けるということは、もう1個はMapViewですね。 MapViewも同様、ここでMediumを代入するのではなく、 普通に基地を取る、という風に書いてあげる。 そうすると、どっちのコードも当然のように赤色を省略したんだったら、 規定値を取られることは何の矛盾も難しさもないので、 これによって、もし規定値を変えようとなっても、Zoomのイニシャライザー、 これを調整してあげれば済んじゃうんで、こっちの方がいいですね。意味合い的にね。 こんな感じにして、続いていってみましょう。 次は、ここですね。ここじゃないか。 ZoomをMarkSettings、今やったのは、 MarkSettingsのView、ここまでやった感じですね。 ピッパーを取っていく、Zoomのバリューの選択ですね。 このために、セッティングビュー内で、 フォームを、ユーザーをコントロールアレンジするのに、フォームを使うのが一般的である。 なので、ボディはこういう風になるよということなので、 これをコピーして、貼り付けておきましょう。 ここですね。そうすると、フォームで、マップズームのピッパーで、 セレクションが、Zoomで、アップストレージか、マップストレージのZoom。 これで、また、4-1マップビューのZoomのオールページですね。 これで回して、ラベルのエキストローバリューを表示している。 ああ、なるほど。ここも、ちょっと用意したいところな気がしますね。 とりあえず、ピッカースタイルはインラインで、フレームとナビゲーションタイプと、 カッティングを設定して、これでOKだよということですが、 ここのレベル、これをローバリューで表示するというのは、 なんかちょっと無理が、何となくありますかね。 無理があると言っても、そこまで大したものではないですけど、 要は、ローバリューということは、あくまでも劣化値を表現するエキストであって、 これの表示用途は限りないですよね。 だから、このローバリューが表示テキストとしても 使えるよということを知っていれば、何も問題はないわけですよね。 だけど、これがわからないわけですよね、ローバリューだとね。 なので、今回インスタンスとテキスト表現、 これが一致するという話なのだとしたならば、 エクステンションでマップビューのZoomに対して、 カスタムストリングコンバーティブル、これを実装してあげて、 ディスクリプションとして、ここでローバリューを 返してあげるという、こういったことをすることによって始めて、 このインスタンスのテキスト表現はローバリューですよ、 ということが主張できるので、これで安心して使えるわけですけど、 安心して使うときには、ローバリューを使うのではなくて、 カスタムストリングコンバーティブルモードというと、 インスタンスのテキスト表現を使っていく。 なので、もちろんストリングインタープレーションでもいいわけですけど、 Suite UIなんでね、これはエキストへの変換も 動作してあげちゃったらいいんじゃないかなという気がするので、 Suite UIをインポートしてあげて、 この中でエクステンションで対応していってみましょう。 エキストに対して、イニシャライザーですね。 この中でZoomレベルをね、マップビューのZoom、 これを取るイニシャライザーを作って、 セルフのユニットの、これの表現はローカライズか、 ローカライズの可能性も確かにありますね。 なのでそうすると、ローカライズストリングEとしていいのかな。 いや、ディスクリプションにローカライズを 巻き込ませた方がいいですね。 なのでここはテキストの通りという形で、 Zoomのストリングを、ストリングディスクライビングを使って変換してあげる。 これでいいですね。そうすると、マップビューのZoomを テキストとしてそのまま表示できるということが成り立つので、 このローカリをね、わざと取り出さないで、 そのままテキストとして表示してあげれば良いと、 そういう風になるし、まあこういう形でだと、 こんな感じしますよね、きっとね。 はい、じゃあいいですね。これでね、あれだ、こっちですね。 えーと、ここまでよろしくて、次。 ランドマックスアップの中で、セッティングスシーンをアプリに追加する。 ただしこれはMacOSオンリーということにする、 ということなので、 MacOSであれば、セッティングスとして、ランドマックスセッティングスを追加するというのを、 ランドマックアップの、えーと、これだ、 ノーティフィケーションシーンと同じような感じで追加してあげるよ、 ということをやるらしい。この辺のほうがよくできてますね。 のか、でも、法律的というか何というか、うん。 このシーンに対して、この追加、ウィンドグループか、 ウィンドグループに対して、色々とこうやって追加しておく。 ただまあ、やっぱりソイストUIだと、できることを知っていないと 手に負えないというのは、ちょっと厄介にも見えるところではありますね。 UIキットだったときにはね、なんかプロパティとかを見れば、 まあ大体やりたいことがわかる気がするのと、 まあ覚えていないといけないところはね、もちろんあるにしても、 あとダッシュが、このコードだと難しいですよね。 プロパティとかでレシーバーとかで書けば、 色んな機能が何か載せるのかなって見ながら、 対応していくということができますけど、 最初の一方になっちゃうとね、このウィンドグループと、 あ、それと別か、えーと、ウィンドグループと別か、なので、 ガムシーン、だからボディがシーンを作る、 プロパティラップになってるんですかね。 アップの定義を見ておきますか。 アップの定義を見ると、ボディとして、ここですね、シーンビルダーですね。 だからこれで、あの、画像がいいで書いてきてるんですね。 ウィンドグループと、えーと、ノティフィケーションシーンと、まあ、シェーティングですね。 これらの、えーと、部分部分で構成されたシーンってことですね。 はい、で、これでランドマークセッティングができて、はい、ステップ6。 で、アプリを実行して、えーと、変更してみましょう。 Zoomのプロパティね。 で、えーと、アップは更新される。 えーと、Zoomレベルを変更すると更新される。 うん。で、やってみましょう。 えーと、R動かすんですね。だからコマンドRで動かして。 で、それで、このアプリがいっぱい落ちてくれるのかな。 今、ビルド中だと思うんですけど。 えーと、落としとけばよかったですけどね。 待ってないでね、ちょっと戻っちゃった。 えーと、ビルド部屋だ。 まだダメでしたね。 やっとチビトリ化して勝ちでしたね。 えーと、ソースファイルで、えーと、インパリットキャラクター? インパリットキャラクター。 どこにいる?インパリットキャラクター。 あ、ここにいる。 その後がカマですね。 これでビルドをかけて、ビルドが通ることを確認したら、実行して、 で、このプリカを起動され直すことを確認。 起動され直すというか、落ちてなかったかな。 えーと、今一番上にいるのは間違いなくね。 間違いなく居すぎたな。 一応、なんと動かしますか。 やってやりますよね。 古い方をいじってやってて、なんか、開発に支障を来さす。 バグ直しだったら再現性がないとか、 新しい機能を搭載だったら、また新しい機能が影響を受けないみたいなね。 動かしちゃうみたいなことは、まりにあることなので、 しっかりと落としておくっていうのは、まあ時にね、大事になってくるかなっていう感じですね。 で、これを動いたアプリで、俺のカスタムメニュー? 何追加したっけ?って感じですけど、いや、本当に何追加したっか。 なんか忘れちゃった。 えーと、あ、セッティングスだ。 なんか、追加レンズですね。 要はね、なのでここで、マックスフォームOSのセッティングス。 これを選んであげると、こうやって、 ズームレベルが選べるようになっていると。 で、この時に、なんかを選んでおかないと面白くない? まずここで変えてみますか。 大丈夫、大丈夫というか、何も変化なく。 うん。動くというか、あとで見せようか。 これで、ズームが今遠くから閉じているよっていう、 そういったオプションになっていて、 このパワーの感覚というか、こういったのをね、イメージ。 記憶に残しておいて、設定を調整すればいいわけですけど、 今、パワーなんで遠くですよね。 ミディアムにすると、また変わらないか。 ニアーにしてみますか。 ニアーにして閉じると、また変わらないですね。 これでもう一回、クリックというか、一回とか言って、もう一回にしますか。 また変わっている感じしないですね。 えーと、ニアー、ニアーでパワーにして、パワーだった時には、 パワーだった感じしないし、パワーだった感じしないと 終わり前だね。どうしようかな。 うまく動いていないということは明らかに、 ファインディング周りの間違いだと思うんですよね。 もう一回、チュートリアルに戻って考えますけど、 ちょっとアプリがもう一個あった。 ちゃんと一回、アプリ全部落としておいてみますかね。 落とせたはず。 まだ実行されている風味を感じますね。 これを押してあげて、一方、キャンセルして、 これで、データスメニューを見て、 データスジョイのイアドックを見て、 アプリが動いていなさそうなことを確認できたので、 実行しましょう。 実行をかけて、アプリが今動こうとしたのかな。 こうしたときに、プレファレンスの設定を一部、 ファーになっているというか、 ちゃんと継続されていますね。 要素はこれがファーかな。さっきのと同じ感じですね。 これをリアルにすると、変わらない。 デルタを使っていないですね。 これ、きっとデルタを使わないといけないわけですよ。 ここで原作でデルタってやったときに、 これを使った記憶がない。 ラティチュードとロンギティチュード、 コーディネートスパンというのがあるのか。 Mkコーディネートリード、これはどこにあるんでしょうかね。 マップビュー、コマンドシフトでマップビューを選択して、 それでデルタが計算されていて、 このデルタを、ここじゃないか。 デルタを作って、ボディの中のマップ、このリージョン、 これがある中で、 これは今か。コードは? こっち見てみますか。 リージョンのところで定数のね。 マップビューではなく、実際に忘れてしまったし。 セクション7で。 ズームではなくて、デルタ。 ここでしたよね。 マップビューの中でデルタ。 これをリージョンというプライベートメソッド。 この中で使っていると。 プライベートメソッド、これはリージョン。 この中でスパンとして、今は0.2、0.2だけど、これをコーディネートスパンで、 デルタの分数ね。ラティチュードとロンギティチュードね。 これを設定して、これなら具体的に動きそうですね。 これで選ぶと、こんな感じ。 これだし、長さが一つですよね。 マップの感じ、違う感じしますよね。 ミディアムにすると、離れましたね。 表示されていたミディアムですね。 ファンにすると、元離れましたね。 大丈夫ですね。 こんな感じで、リージョンを作ることができましたよ、ということで。 リキッドから、もう終わりじゃなかった? マップを確認でしょ、ズームで。 これで確認しました。 そしたら、リガイドチェックいきましょう。 なぜ、ランドマップアップは、フィルターとランドマックス配列を モデルの中ではなく、配列としてアプリに定義したのですか? というお話かな。 それで合ってる気はするんですけど、一応予約してみますか。 モデル内ではなく、ビュー内でフィルターとランドマックスの配列を定義しているのか? モデルはアクセスできない。 フィルターセッティングスにアクセスできない。 フィルターセッティングス? なんだろう? これなってもするけど、わかんない。 どうすべきではない? コンピュータプロパティをモデルに持つべきではない? そんなことはないですね。 アプリは簡単に表示できる。 異なるウィンドウで異なるフィルターのリストを表示するのが簡単にできるように。 簡単にできるように。 フィルターとランドマックスをモデルのインサイトではなく、アプリ側にした。 どっちだろう? アプリケーションが簡単にウィンドウごとに表示できる。 それは最もですよねって感じするんですよね。 モデルデータがフィルターセッティングスにアクセスできない。 これはなんだろう? フィルターセッティングス、モデルデータ。 フィルターセッティングスってIsFavoriteとかですよね。 あれはステートとして最もアクセスできるかと思うんですけど、どうだろうな? 答え3番じゃないかなとは思ってるんですけど、 フィルターセッティングス、フィルターとランドマックスですね。 メソッドもさっきのコマンドシフトで探してるんですけど、 フィルターとランドマックスのゲッターですね。 これでフィルターにモデルデータがアクセスできない。 モデルデータ、できないといえばできない気がするんですけどね。 フィルターセッティングスにフィルターはリストが持っていて、 モデルデータはここでエンバイロニトとして持ってるんでね。 でもアクセスできると見ていいのかな? 自信ないですね。 フィルターコントロールとフィルター配列。 フィルターとランドマックス。 これらを一緒にフィルターコントロール。 フィルターは開くことができるマルチブルウィンドウと同じデータ。 フィルターと異なる方法のフィルターで表示することができる。 というのが意図的だったのね。 いいんですけど問題はないので、どこだ? エクスコートだからこっちか。 これ動かしてあるやつで、ニューウィンドウっていうのは メニューから出せるようになってるわけですけど、 こうしたときに片側のビューを、 もう片方とは独立して動かすことができる。 といったお話ですね。 1番目はどういう間違いと思ったら選べないし、 リロードすることの中を選べた。 これはどういう間違いなんだろうね。 モデルはカレントリー現時点では、 フィルターセッティングにアクセスできるが、 それらをモデルに売ることができない。 または、イーブンストアは、 みんなどこかでアクセスしてもらいますよ。 フィルターセッティングにアクセスしていないが、 それらをモデルに送ったり、 モデル内に保存することも可能。 アクセスできるって言ってる感じですね。 現時点ではフィルターセッティングに アクセスしてないが、 モデルやドアからできるよ。 イーブンストア全部で。 ピンとこなかったんですけど、まあいいか。 これで次の問題。 プロトコルがピッカーセレクションタイプ、 2ファットプロトコルマストのピッカーセレクションタイプ、 フォーミングでフォロイングコード。 続くコードの中でセレクション型が準拠。 ピッカーセレクション型が準拠していることを していなければならない。 2ファットプロトコルって簡単そうなアイコンなのに よくわからなかったので、 予約してもらっちゃいますけど。 ピッカーセレクションタイプはどのプロトコルに 準拠しなければならないか。 フォートプロトコルか。 ピッカーセレクションタイプは次のどれに 準拠しなければならないか。 次のコードにおいてですね。 ピッカーセレクションのセレクション。 これはアイデンティフィアブル、 アシャブル、イコートブル。 セレクションだからアシャブルですよね。 確か。大丈夫ですね。 一般のアシャブルですよね。 ピッカーで選んでいけるのが目的ですね。 以下のサンプルのどれが正しいか。 セレクティブランドマークバインディングに リストの現在のセレクションをアップするには。 これ今回の頭で、自分が復習しながら 混乱していたやつですね。 セレクションがセレクティブランドマークを持っていて、 ランドマークを回していたブランドマーク。 良さそうに見えるけどわからない。 次がランドマークを回して、 ランドマークローに対してタグを与えている。 これはセレクティブが全然出てきていないから ダメな感じしますね。 リストセレクションなんてのがあるのか。 あるとは言ってないですね。 あるのかな。 使ってたことない気がする。 次はリストデフォー1ランドマークで いろいろやってるけど、 これはリストがセレクティブランドマークを パークしていないから、 理解しそうですね。 なので一番目、これで良さそうな気がする。 次はネクストペーション。 どのようにアイテムを追加する。 トップレベルメニューのアイテム。 メニューですね。 このトップレベルのメニューはコマンドじゃなかったかな。 だからWindowsブループCにメニュービューを 追加するわけではない気がする。 コマンドモディファイヤーをアプリケーションに追加して、 これをコマンドインターンスに提供する。 あとはツールバーモディファイヤーを追加して、 メインコンテンツビューに追加して、 メインコンテンツビューにメニューインターンスに 内包されている。 コンテーニングのメニューインターフェースを 内包しているかな。 それをツールバーモディファイヤーを メインコンテンツに追加する。 そのコードが出てこなかったので一番目ですかね。 アプリのメインコンテンツビューに メニューインターンスを含むツールバーを追加する。 合ってそうね。合ってそうねというのはリアクトだね。 なので一番目、違う、二番目のコマンドモディファイヤーを コマンドインターンスと一緒に提供する。 合ってるかな。合ってますよね。 次、エンドリアルが終わったらしいこれで。 うん、なるほど。最後が映像がかかったという感じですね。 よし、こんな感じでいろいろと見ていって、 特にね、理解できましたが、いくつか気になる点とリファクトリング もうちょっとできることがあるのかなというのがね、 気になるので、その辺を見ていきたいんですけど、 なんか一個あった気がするんですが、どれだったかな。 ちょうど今見ている中で気になっていたことがあったことを 記憶していたつもりだったんですけど、 エンドリアルやってからとか言っちゃいましたね。どこだったかな。 メニューでZoomレベルの指定をOSにした。あれはいいですね。 フリファレンスの設定で、これも良さそうですね。 あとはですね、動きが変なところがあるので、どれも直したいんですけど、 わかんなくなった。どこだったかな。 マップビューをもう一回見てみますか。 マップビューでここだと、オーディネットとZoomで、 アップストレージで、リジョンでデルタを使って、 Zoomレベルをデルタで解して、 Zoomレベルをデルタで、 数学でどんなとき使いましたっけ。 移動する差分とかそういうときに使ってたような気がするんですけど、 数学デルタはどういう意味で使うんだろう。 微積分だと、 ちょっとだけ増えた量を表すのに、デルタTみたいな感じで使って、 これによって色々、 デルタXはDX、昔出てきましたね。 こんな感じのね、こんな話をイメージしてたんですけど、 デルタX、うん。 デルタTをパイ率として書けていくよっていう、 そんな感じで書いていると、そういうことだろうけど、 微積分のデルタとかと違いそうな気がする。 あとは、デルタがわかりにくいわけですよ。 マップでのデルタって何って感じがするじゃないですか。 なのでこれは、オーディネットスパン、 このスパンも何って感じが自分はしてるけど、 MKコーディネートスパン、 これの定義を見てみれば参考になるかもしれないですね。 と思ったら何もないわ。 センターとスパンか。 半径的なところになるんですかね。 この辺を、MKコーディネートリジョン。 これをAppleのドキュメントで調べると、 ちゃんとコメントが出てるじゃない。 これを見ると、インシュライザーのセンターと、 これはコーディネート、 コーディネートリジョンスパン、 なので、スパンというのが、 単位的な大学になるんですかね。 距離になるということになっていて、 コーディネートリジョンとデルタって、 そもそもそういうラベルになっているのが、 コーディネートスパンのね。 そうすると、デルタと言えばデルタですね。 Appleのドキュメントで、 ここら辺にありますね、コーディネートスパンね。 これの説明を見ると、 マップリジョンの幅と高さ、 これをコーディネートスパンと呼ぶ、 デルタバリューズ、 トラクチャーでディザイアとズームレベル、 これを表す、デルタバリューズということだ。 なので、デルタバリューズという名前が、 デルタでいいんですかね、って感じでいいのかな。 いや、あんまりよくない気がするんですけど。 Receive Location Degrees Appと、 これのデルタですよね。 デルタだから、これの定義を見て、 アドレルかな、アドレナルですね。 コーディネートスパンのイニシャライザー、 ああ、いけない。 箱書いてますね。 これが、デルタ、コーディネート、 デルタ、リージョン、リージョンスパン。 それでいいのかな。 ああ、なるほど。 だからその場合だと、 コーディネートスパンを返す形にした方が いいんじゃないですかね。 これデルタじゃなくて、 コーディネートスパンを返すにして、 AppViewのリージョンスパン。 そうすると、名前は目立てになるじゃない。 これで戻り値のネタがちょっと変わってきますけど、 この中だったら別にレッドデルタイコール という形で、 ズームを2なら0.02、 メディアムなら0.2、アナログ2みたいなね。 こういった風に、あ、下でインクになったのか。 だからMKコーディネートが、えっとなんだっけ。 肌は、えっとなんだっけ。 なんとかディグリーツでしたよね。 ディグリーツ、ディグリーツ、あった。 デルロケーションディグリーツ。 これでね、ズームに応じてレベルを指定してあげて、 これでデルタって名前が付いている分には、 もう戻り値でね、リターン。 MKコーディネートスパンとして、 ラティフィートデルタはデルタで、 ロンゲイテッドデルタはデルタという形にね、 これでだいぶ悪くないと思うんですよ。 なので、押してあげると、一理と。 これで、えっと、リージョンスパンという形の名前が 使えるので、ファンは何ですかというときに、 これもあるとね、リージョンスパンと。 押してあげたほうがなんか分かりやすい気がしますね。 そう、まあまあ、どっちでも、 ここまで大したことないですけどね。 まあ良いという感じで、これでマップビューができて、 やっとズームでしたね。 なんか、リファクターが残ってたと思うんですけど、 忘れてしまった。 えーと、これで、読むで。 ここ大丈夫そうですね、テキスト表現とかね。 うん、いいですね。はい。 じゃあ、そうすると、この辺の突き詰めもまた、 ゆっくりやっていったらいいんですかね。 という感じでいいのかな。 なんか、本当に忘れてる気がするんですけど、 このチュートリアルとか、 ウルソー、あの、ウルソーっていうの、 見てるとこが古かった。 で、ここでは、ランドマークセッティングスで、 ズーム作って、ピッカー。 で、4-1でレベルで、うん、ピッカーもいいですね。 で、それで、ランドマークセッティングス表示して、 あれ、何が足りなかったんだろう。 思い浮かんだやつ。 まあ、いいか。 もっと今度、ゆっくりと全部見直してみて、 その時に、思い浮かべば、なんか、 直していくとかで良いのかもしれないですね。 うん。 パティラッパーとかは、また後でやろうだけど、 それじゃなかったと思うんでしょ。 もっとシンプルだった、なんかが、うん。 そうね、大丈夫、大丈夫というか、 わからないねって感じですかね。 うん。 はい、で、こんなところにしておきましょう。 で、チュートリアル全部終わったんですけど、 なんか、もうちょっとね、 触れそうなところありそうな気がするので、 えーと、次回はね、こういった最終的なステップと、 あと、バグがちょっと1個見つかってる気がするんで、 それも直していく。 これ、一回で終わらないかもしれないですけどね。 まあまあ、見ていこうと思います。 はい、では今日はこれで終わりにしますね。 ありがとうございました。

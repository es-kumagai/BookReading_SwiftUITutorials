■ ダイジェスト

本動画は、技術書の読み進めを録画したものです。`SwiftUI` チュートリアルを学習しながら、実装方針とポイントを確認しました。セクション 4 では、 watchOS 版で `ContentView` に `LandmarkList` を接続し、`ModelData` を `@Environment` で提供、プレビューにも `Environment` を渡し忘れない点を確認しました。データフローについては、`Environment` からインデックスで再取得する設計を避け、バインディングを渡す方針にリファクタリングしました。さらに、 iOS と watchOS での `showingProfile` の扱いを整理し、watchOS では暫定的に `Binding.constant(false)` を渡して無効化して進めました。セクション 5 では、通知インターフェースを構築しました。`NotificationView` を作成し、`WKUserNotificationHostingController` を継承した `NotificationController` を実装、`WKNotificationScene` をカテゴリー `landmarkNear` で登録しました。通知許可は `UNUserNotificationCenter` の `requestAuthorization` を `ContentView` の `.task` で呼び出しました。シミュレーション用に「 Push Notification Payload 」ファイルを用意し、`landmarkIndexKey` と `didReceive` でペイロード中の `landmarkIndex`、タイトル、メッセージを `NotificationView` に反映する流れを確認しました。ビュー共有の方針としては、`MapView` などは共有しつつ、watchOS では重要情報に要点を絞るため、 iOS の詳細画面をそのままは再利用しない判断にも触れています。
■ ダイジェスト

技術書を読み進める様子を記録した回です。Apple の `SwiftUI` Tutorials の「Interfacing with UIKit」セクションを題材に、`UIKit` の `UIPageViewController` を `SwiftUI` で使うための `UIViewControllerRepresentable` と `Coordinator` の設計を読みながら動かし、`@State`／`@Binding` を介したページインデックス `currentPage` の同期ずれを調査しました。具体的には、`updateUIViewController` のタイミングで `self.currentPage` と `context.coordinator.parent.currentPage` が一致せず、`Coordinator` 側が初期値のまま更新されない問題を再現し、ログやアドレス出力でバインディングが差し替わっているのに `Coordinator` が古い参照を保持し続けることを観察しました。そのうえで、`Coordinator` に `parent` や古い `Binding` を抱えさせない設計を検討し、`updateUIViewController` で `Coordinator` 側の `Binding` を差し替えて最新の `currentPage` を参照させる方針により辻褄が合うことを確認しています。併せて、`Binding` の構造（`@dynamicMemberLookup`、`wrappedValue`／`projectedValue`、`Binding.init(get:set:)`）、トランザクション `Transaction`、`DynamicProperty.update()`、`@State` と `@Binding` の挙動をドキュメントと小さな検証コードで確認しました。周辺の用語（例: `DismissBehavior`）にも触れましたが、本編の焦点は `UIPageViewController` と `SwiftUI` のブリッジにおける `Binding` の寿命と `Coordinator` 設計上の注意点です。読み進めながら試行錯誤しており、手順解説ではなく学習の記録です。コード中の主な登場要素: `UIPageViewController`、`UIViewControllerRepresentable`、`Coordinator`、`makeCoordinator`、`makeUIViewController`、`updateUIViewController`、`@State`、`@Binding`、`Binding`、`Transaction`、`pageViewController(_:didFinishAnimating:previousViewControllers:transitionCompleted:)`。